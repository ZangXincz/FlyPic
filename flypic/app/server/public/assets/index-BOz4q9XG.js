(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Su(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Df={exports:{}},Qo={},Mf={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=Symbol.for("react.element"),e0=Symbol.for("react.portal"),t0=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),r0=Symbol.for("react.profiler"),s0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),l0=Symbol.for("react.memo"),u0=Symbol.for("react.lazy"),Ic=Symbol.iterator;function c0(e){return e===null||typeof e!="object"?null:(e=Ic&&e[Ic]||e["@@iterator"],typeof e=="function"?e:null)}var Bf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uf=Object.assign,$f={};function Cs(e,t,n){this.props=e,this.context=t,this.refs=$f,this.updater=n||Bf}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wf(){}Wf.prototype=Cs.prototype;function Cu(e,t,n){this.props=e,this.context=t,this.refs=$f,this.updater=n||Bf}var Eu=Cu.prototype=new Wf;Eu.constructor=Cu;Uf(Eu,Cs.prototype);Eu.isPureReactComponent=!0;var Ac=Array.isArray,Hf=Object.prototype.hasOwnProperty,Nu={current:null},Vf={key:!0,ref:!0,__self:!0,__source:!0};function qf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Hf.call(t,r)&&!Vf.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:_i,type:e,key:i,ref:o,props:s,_owner:Nu.current}}function d0(e,t){return{$$typeof:_i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ju(e){return typeof e=="object"&&e!==null&&e.$$typeof===_i}function f0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Pc=/\/+/g;function _a(e,t){return typeof e=="object"&&e!==null&&e.key!=null?f0(""+e.key):t.toString(36)}function io(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _i:case e0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+_a(o,0):r,Ac(s)?(n="",e!=null&&(n=e.replace(Pc,"$&/")+"/"),io(s,t,n,"",function(d){return d})):s!=null&&(ju(s)&&(s=d0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Pc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ac(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+_a(i,a);o+=io(i,t,n,l,s)}else if(l=c0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+_a(i,a++),o+=io(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Li(e,t,n){if(e==null)return e;var r=[],s=0;return io(e,r,"","",function(i){return t.call(n,i,s++)}),r}function h0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vt={current:null},oo={transition:null},p0={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:oo,ReactCurrentOwner:Nu};function Kf(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Li,forEach:function(e,t,n){Li(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Li(e,function(){t++}),t},toArray:function(e){return Li(e,function(t){return t})||[]},only:function(e){if(!ju(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=Cs;Ke.Fragment=t0;Ke.Profiler=r0;Ke.PureComponent=Cu;Ke.StrictMode=n0;Ke.Suspense=a0;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p0;Ke.act=Kf;Ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Uf({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Nu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Hf.call(t,l)&&!Vf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:_i,type:e.type,key:s,ref:i,props:r,_owner:o}};Ke.createContext=function(e){return e={$$typeof:i0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s0,_context:e},e.Consumer=e};Ke.createElement=qf;Ke.createFactory=function(e){var t=qf.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:o0,render:e}};Ke.isValidElement=ju;Ke.lazy=function(e){return{$$typeof:u0,_payload:{_status:-1,_result:e},_init:h0}};Ke.memo=function(e,t){return{$$typeof:l0,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=oo.transition;oo.transition={};try{e()}finally{oo.transition=t}};Ke.unstable_act=Kf;Ke.useCallback=function(e,t){return Vt.current.useCallback(e,t)};Ke.useContext=function(e){return Vt.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return Vt.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return Vt.current.useEffect(e,t)};Ke.useId=function(){return Vt.current.useId()};Ke.useImperativeHandle=function(e,t,n){return Vt.current.useImperativeHandle(e,t,n)};Ke.useInsertionEffect=function(e,t){return Vt.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return Vt.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return Vt.current.useMemo(e,t)};Ke.useReducer=function(e,t,n){return Vt.current.useReducer(e,t,n)};Ke.useRef=function(e){return Vt.current.useRef(e)};Ke.useState=function(e){return Vt.current.useState(e)};Ke.useSyncExternalStore=function(e,t,n){return Vt.current.useSyncExternalStore(e,t,n)};Ke.useTransition=function(){return Vt.current.useTransition()};Ke.version="18.3.1";Mf.exports=Ke;var F=Mf.exports;const Ve=Su(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=F,g0=Symbol.for("react.element"),y0=Symbol.for("react.fragment"),v0=Object.prototype.hasOwnProperty,x0=m0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w0={key:!0,ref:!0,__self:!0,__source:!0};function Zf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)v0.call(t,r)&&!w0.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:g0,type:e,key:i,ref:o,props:s,_owner:x0.current}}Qo.Fragment=y0;Qo.jsx=Zf;Qo.jsxs=Zf;Df.exports=Qo;var u=Df.exports,ul={},Xf={exports:{}},ln={},Yf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,M){var te=B.length;B.push(M);e:for(;0<te;){var P=te-1>>>1,A=B[P];if(0<s(A,M))B[P]=M,B[te]=A,te=P;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var M=B[0],te=B.pop();if(te!==M){B[0]=te;e:for(var P=0,A=B.length,ie=A>>>1;P<ie;){var J=2*(P+1)-1,oe=B[J],_e=J+1,ae=B[_e];if(0>s(oe,te))_e<A&&0>s(ae,oe)?(B[P]=ae,B[_e]=te,P=_e):(B[P]=oe,B[J]=te,P=J);else if(_e<A&&0>s(ae,te))B[P]=ae,B[_e]=te,P=_e;else break e}}return M}function s(B,M){var te=B.sortIndex-M.sortIndex;return te!==0?te:B.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],p=1,v=null,x=3,y=!1,g=!1,c=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var M=n(d);M!==null;){if(M.callback===null)r(d);else if(M.startTime<=B)r(d),M.sortIndex=M.expirationTime,t(l,M);else break;M=n(d)}}function _(B){if(c=!1,b(B),!g)if(n(l)!==null)g=!0,re(S);else{var M=n(d);M!==null&&Y(_,M.startTime-B)}}function S(B,M){g=!1,c&&(c=!1,f(L),L=-1),y=!0;var te=x;try{for(b(M),v=n(l);v!==null&&(!(v.expirationTime>M)||B&&!le());){var P=v.callback;if(typeof P=="function"){v.callback=null,x=v.priorityLevel;var A=P(v.expirationTime<=M);M=e.unstable_now(),typeof A=="function"?v.callback=A:v===n(l)&&r(l),b(M)}else r(l);v=n(l)}if(v!==null)var ie=!0;else{var J=n(d);J!==null&&Y(_,J.startTime-M),ie=!1}return ie}finally{v=null,x=te,y=!1}}var T=!1,j=null,L=-1,O=5,D=-1;function le(){return!(e.unstable_now()-D<O)}function R(){if(j!==null){var B=e.unstable_now();D=B;var M=!0;try{M=j(!0,B)}finally{M?Z():(T=!1,j=null)}}else T=!1}var Z;if(typeof h=="function")Z=function(){h(R)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,U=k.port2;k.port1.onmessage=R,Z=function(){U.postMessage(null)}}else Z=function(){w(R,0)};function re(B){j=B,T||(T=!0,Z())}function Y(B,M){L=w(function(){B(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,re(S))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var M=3;break;default:M=x}var te=x;x=M;try{return B()}finally{x=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,M){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=x;x=B;try{return M()}finally{x=te}},e.unstable_scheduleCallback=function(B,M,te){var P=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?P+te:P):te=P,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=te+A,B={id:p++,callback:M,priorityLevel:B,startTime:te,expirationTime:A,sortIndex:-1},te>P?(B.sortIndex=te,t(d,B),n(l)===null&&B===n(d)&&(c?(f(L),L=-1):c=!0,Y(_,te-P))):(B.sortIndex=A,t(l,B),g||y||(g=!0,re(S))),B},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(B){var M=x;return function(){var te=x;x=M;try{return B.apply(this,arguments)}finally{x=te}}}})(Gf);Yf.exports=Gf;var b0=Yf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=F,an=b0;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qf=new Set,si={};function Wr(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(si[e]=t,e=0;e<t.length;e++)Qf.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cl=Object.prototype.hasOwnProperty,_0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lc={},zc={};function S0(e){return cl.call(zc,e)?!0:cl.call(Lc,e)?!1:_0.test(e)?zc[e]=!0:(Lc[e]=!0,!1)}function C0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E0(e,t,n,r){if(t===null||typeof t>"u"||C0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ru=/[\-:]([a-z])/g;function Tu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ru,Tu);It[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ru,Tu);It[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ru,Tu);It[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ou(e,t,n,r){var s=It.hasOwnProperty(t)?It[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E0(t,n,s,r)&&(n=null),r||s===null?S0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nr=k0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),Iu=Symbol.for("react.strict_mode"),dl=Symbol.for("react.profiler"),Jf=Symbol.for("react.provider"),eh=Symbol.for("react.context"),Au=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),hl=Symbol.for("react.suspense_list"),Pu=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),th=Symbol.for("react.offscreen"),Fc=Symbol.iterator;function Ps(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,Sa;function Hs(e){if(Sa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sa=t&&t[1]||""}return`
`+Sa+e}var Ca=!1;function Ea(e,t){if(!e||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hs(e):""}function N0(e){switch(e.tag){case 5:return Hs(e.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return e=Ea(e.type,!1),e;case 11:return e=Ea(e.type.render,!1),e;case 1:return e=Ea(e.type,!0),e;default:return""}}function pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case Yr:return"Portal";case dl:return"Profiler";case Iu:return"StrictMode";case fl:return"Suspense";case hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eh:return(e.displayName||"Context")+".Consumer";case Jf:return(e._context.displayName||"Context")+".Provider";case Au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pu:return t=e.displayName||null,t!==null?t:pl(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return pl(e(t))}catch{}}return null}function j0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(t);case 8:return t===Iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R0(e){var t=nh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fi(e){e._valueTracker||(e._valueTracker=R0(e))}function rh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ml(e,t){var n=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sh(e,t){t=t.checked,t!=null&&Ou(e,"checked",t,!1)}function gl(e,t){sh(e,t);var n=kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yl(e,t.type,n):t.hasOwnProperty("defaultValue")&&yl(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yl(e,t,n){(t!=="number"||Eo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vs=Array.isArray;function us(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(me(92));if(Vs(n)){if(1<n.length)throw Error(me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kr(n)}}function ih(e,t){var n=kr(t.value),r=kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Uc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Di,ah=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Di.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T0=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(e){T0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xs[t]=Xs[e]})});function lh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xs.hasOwnProperty(e)&&Xs[e]?(""+t).trim():t+"px"}function uh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=lh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var O0=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(e,t){if(t){if(O0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function Lu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _l=null,cs=null,ds=null;function $c(e){if(e=Ei(e)){if(typeof _l!="function")throw Error(me(280));var t=e.stateNode;t&&(t=ra(t),_l(e.stateNode,e.type,t))}}function ch(e){cs?ds?ds.push(e):ds=[e]:cs=e}function dh(){if(cs){var e=cs,t=ds;if(ds=cs=null,$c(e),t)for(e=0;e<t.length;e++)$c(t[e])}}function fh(e,t){return e(t)}function hh(){}var Na=!1;function ph(e,t,n){if(Na)return e(t,n);Na=!0;try{return fh(e,t,n)}finally{Na=!1,(cs!==null||ds!==null)&&(hh(),dh())}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var r=ra(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(me(231,t,typeof n));return n}var Sl=!1;if(Qn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Sl=!1}function I0(e,t,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var Ys=!1,No=null,jo=!1,Cl=null,A0={onError:function(e){Ys=!0,No=e}};function P0(e,t,n,r,s,i,o,a,l){Ys=!1,No=null,I0.apply(A0,arguments)}function L0(e,t,n,r,s,i,o,a,l){if(P0.apply(this,arguments),Ys){if(Ys){var d=No;Ys=!1,No=null}else throw Error(me(198));jo||(jo=!0,Cl=d)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wc(e){if(Hr(e)!==e)throw Error(me(188))}function z0(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(me(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wc(s),e;if(i===r)return Wc(s),t;i=i.sibling}throw Error(me(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?e:t}function gh(e){return e=z0(e),e!==null?yh(e):null}function yh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yh(e);if(t!==null)return t;e=e.sibling}return null}var vh=an.unstable_scheduleCallback,Hc=an.unstable_cancelCallback,F0=an.unstable_shouldYield,D0=an.unstable_requestPaint,vt=an.unstable_now,M0=an.unstable_getCurrentPriorityLevel,zu=an.unstable_ImmediatePriority,xh=an.unstable_UserBlockingPriority,Ro=an.unstable_NormalPriority,B0=an.unstable_LowPriority,wh=an.unstable_IdlePriority,Jo=null,Bn=null;function U0(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Jo,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:H0,$0=Math.log,W0=Math.LN2;function H0(e){return e>>>=0,e===0?32:31-($0(e)/W0|0)|0}var Mi=64,Bi=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function To(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=qs(a):(i&=o,i!==0&&(r=qs(i)))}else o=n&~s,o!==0?r=qs(o):i!==0&&(r=qs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tn(t),s=1<<n,r|=e[n],t&=~s;return r}function V0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Tn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=V0(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function El(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bh(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function ja(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Si(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=n}function K0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Fu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var rt=0;function kh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _h,Du,Sh,Ch,Eh,Nl=!1,Ui=[],fr=null,hr=null,pr=null,ai=new Map,li=new Map,lr=[],Z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function zs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ei(t),t!==null&&Du(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function X0(e,t,n,r,s){switch(t){case"focusin":return fr=zs(fr,e,t,n,r,s),!0;case"dragenter":return hr=zs(hr,e,t,n,r,s),!0;case"mouseover":return pr=zs(pr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ai.set(i,zs(ai.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,li.set(i,zs(li.get(i)||null,e,t,n,r,s)),!0}return!1}function Nh(e){var t=Tr(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=mh(n),t!==null){e.blockedOn=t,Eh(e.priority,function(){Sh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kl=r,n.target.dispatchEvent(r),kl=null}else return t=Ei(n),t!==null&&Du(t),e.blockedOn=n,!1;t.shift()}return!0}function qc(e,t,n){ao(e)&&n.delete(t)}function Y0(){Nl=!1,fr!==null&&ao(fr)&&(fr=null),hr!==null&&ao(hr)&&(hr=null),pr!==null&&ao(pr)&&(pr=null),ai.forEach(qc),li.forEach(qc)}function Fs(e,t){e.blockedOn===t&&(e.blockedOn=null,Nl||(Nl=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,Y0)))}function ui(e){function t(s){return Fs(s,e)}if(0<Ui.length){Fs(Ui[0],e);for(var n=1;n<Ui.length;n++){var r=Ui[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fr!==null&&Fs(fr,e),hr!==null&&Fs(hr,e),pr!==null&&Fs(pr,e),ai.forEach(t),li.forEach(t),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)Nh(n),n.blockedOn===null&&lr.shift()}var fs=nr.ReactCurrentBatchConfig,Oo=!0;function G0(e,t,n,r){var s=rt,i=fs.transition;fs.transition=null;try{rt=1,Mu(e,t,n,r)}finally{rt=s,fs.transition=i}}function Q0(e,t,n,r){var s=rt,i=fs.transition;fs.transition=null;try{rt=4,Mu(e,t,n,r)}finally{rt=s,fs.transition=i}}function Mu(e,t,n,r){if(Oo){var s=jl(e,t,n,r);if(s===null)Da(e,t,r,Io,n),Vc(e,r);else if(X0(s,e,t,n,r))r.stopPropagation();else if(Vc(e,r),t&4&&-1<Z0.indexOf(e)){for(;s!==null;){var i=Ei(s);if(i!==null&&_h(i),i=jl(e,t,n,r),i===null&&Da(e,t,r,Io,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Da(e,t,r,null,n)}}var Io=null;function jl(e,t,n,r){if(Io=null,e=Lu(r),e=Tr(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Io=e,null}function jh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M0()){case zu:return 1;case xh:return 4;case Ro:case B0:return 16;case wh:return 536870912;default:return 16}default:return 16}}var cr=null,Bu=null,lo=null;function Rh(){if(lo)return lo;var e,t=Bu,n=t.length,r,s="value"in cr?cr.value:cr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return lo=s.slice(e,1<r?1-r:void 0)}function uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Kc(){return!1}function un(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$i:Kc,this.isPropagationStopped=Kc,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uu=un(Es),Ci=mt({},Es,{view:0,detail:0}),J0=un(Ci),Ra,Ta,Ds,ea=mt({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(Ra=e.screenX-Ds.screenX,Ta=e.screenY-Ds.screenY):Ta=Ra=0,Ds=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),Zc=un(ea),eg=mt({},ea,{dataTransfer:0}),tg=un(eg),ng=mt({},Ci,{relatedTarget:0}),Oa=un(ng),rg=mt({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),sg=un(rg),ig=mt({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),og=un(ig),ag=mt({},Es,{data:0}),Xc=un(ag),lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cg[e])?!!t[e]:!1}function $u(){return dg}var fg=mt({},Ci,{key:function(e){if(e.key){var t=lg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(e){return e.type==="keypress"?uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hg=un(fg),pg=mt({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=un(pg),mg=mt({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),gg=un(mg),yg=mt({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),vg=un(yg),xg=mt({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=un(xg),bg=[9,13,27,32],Wu=Qn&&"CompositionEvent"in window,Gs=null;Qn&&"documentMode"in document&&(Gs=document.documentMode);var kg=Qn&&"TextEvent"in window&&!Gs,Th=Qn&&(!Wu||Gs&&8<Gs&&11>=Gs),Gc=" ",Qc=!1;function Oh(e,t){switch(e){case"keyup":return bg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ih(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function _g(e,t){switch(e){case"compositionend":return Ih(t);case"keypress":return t.which!==32?null:(Qc=!0,Gc);case"textInput":return e=t.data,e===Gc&&Qc?null:e;default:return null}}function Sg(e,t){if(Qr)return e==="compositionend"||!Wu&&Oh(e,t)?(e=Rh(),lo=Bu=cr=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Th&&t.locale!=="ko"?null:t.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cg[e.type]:t==="textarea"}function Ah(e,t,n,r){ch(r),t=Ao(t,"onChange"),0<t.length&&(n=new Uu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qs=null,ci=null;function Eg(e){Hh(e,0)}function ta(e){var t=ts(e);if(rh(t))return e}function Ng(e,t){if(e==="change")return t}var Ph=!1;if(Qn){var Ia;if(Qn){var Aa="oninput"in document;if(!Aa){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),Aa=typeof ed.oninput=="function"}Ia=Aa}else Ia=!1;Ph=Ia&&(!document.documentMode||9<document.documentMode)}function td(){Qs&&(Qs.detachEvent("onpropertychange",Lh),ci=Qs=null)}function Lh(e){if(e.propertyName==="value"&&ta(ci)){var t=[];Ah(t,ci,e,Lu(e)),ph(Eg,t)}}function jg(e,t,n){e==="focusin"?(td(),Qs=t,ci=n,Qs.attachEvent("onpropertychange",Lh)):e==="focusout"&&td()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ta(ci)}function Tg(e,t){if(e==="click")return ta(t)}function Og(e,t){if(e==="input"||e==="change")return ta(t)}function Ig(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var In=typeof Object.is=="function"?Object.is:Ig;function di(e,t){if(In(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cl.call(t,s)||!In(e[s],t[s]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var n=nd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nd(n)}}function zh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fh(){for(var e=window,t=Eo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Eo(e.document)}return t}function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ag(e){var t=Fh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zh(n.ownerDocument.documentElement,n)){if(r!==null&&Hu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=rd(n,i);var o=rd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pg=Qn&&"documentMode"in document&&11>=document.documentMode,Jr=null,Rl=null,Js=null,Tl=!1;function sd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tl||Jr==null||Jr!==Eo(r)||(r=Jr,"selectionStart"in r&&Hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&di(Js,r)||(Js=r,r=Ao(Rl,"onSelect"),0<r.length&&(t=new Uu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jr)))}function Wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var es={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},Pa={},Dh={};Qn&&(Dh=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function na(e){if(Pa[e])return Pa[e];if(!es[e])return e;var t=es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dh)return Pa[e]=t[n];return e}var Mh=na("animationend"),Bh=na("animationiteration"),Uh=na("animationstart"),$h=na("transitionend"),Wh=new Map,id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){Wh.set(e,t),Wr(t,[e])}for(var La=0;La<id.length;La++){var za=id[La],Lg=za.toLowerCase(),zg=za[0].toUpperCase()+za.slice(1);Sr(Lg,"on"+zg)}Sr(Mh,"onAnimationEnd");Sr(Bh,"onAnimationIteration");Sr(Uh,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr($h,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function od(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,L0(r,t,void 0,e),e.currentTarget=null}function Hh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;od(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;od(s,a,d),i=l}}}if(jo)throw e=Cl,jo=!1,Cl=null,e}function lt(e,t){var n=t[Ll];n===void 0&&(n=t[Ll]=new Set);var r=e+"__bubble";n.has(r)||(Vh(t,e,2,!1),n.add(r))}function Fa(e,t,n){var r=0;t&&(r|=4),Vh(n,e,r,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[Hi]){e[Hi]=!0,Qf.forEach(function(n){n!=="selectionchange"&&(Fg.has(n)||Fa(n,!1,e),Fa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,Fa("selectionchange",!1,t))}}function Vh(e,t,n,r){switch(jh(t)){case 1:var s=G0;break;case 4:s=Q0;break;default:s=Mu}n=s.bind(null,t,n,e),s=void 0,!Sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Da(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Tr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ph(function(){var d=i,p=Lu(n),v=[];e:{var x=Wh.get(e);if(x!==void 0){var y=Uu,g=e;switch(e){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":y=hg;break;case"focusin":g="focus",y=Oa;break;case"focusout":g="blur",y=Oa;break;case"beforeblur":case"afterblur":y=Oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gg;break;case Mh:case Bh:case Uh:y=sg;break;case $h:y=vg;break;case"scroll":y=J0;break;case"wheel":y=wg;break;case"copy":case"cut":case"paste":y=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Yc}var c=(t&4)!==0,w=!c&&e==="scroll",f=c?x!==null?x+"Capture":null:x;c=[];for(var h=d,b;h!==null;){b=h;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,f!==null&&(_=oi(h,f),_!=null&&c.push(hi(h,_,b)))),w)break;h=h.return}0<c.length&&(x=new y(x,g,null,n,p),v.push({event:x,listeners:c}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&n!==kl&&(g=n.relatedTarget||n.fromElement)&&(Tr(g)||g[Jn]))break e;if((y||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=d,g=g?Tr(g):null,g!==null&&(w=Hr(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=d),y!==g)){if(c=Zc,_="onMouseLeave",f="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(c=Yc,_="onPointerLeave",f="onPointerEnter",h="pointer"),w=y==null?x:ts(y),b=g==null?x:ts(g),x=new c(_,h+"leave",y,n,p),x.target=w,x.relatedTarget=b,_=null,Tr(p)===d&&(c=new c(f,h+"enter",g,n,p),c.target=b,c.relatedTarget=w,_=c),w=_,y&&g)t:{for(c=y,f=g,h=0,b=c;b;b=qr(b))h++;for(b=0,_=f;_;_=qr(_))b++;for(;0<h-b;)c=qr(c),h--;for(;0<b-h;)f=qr(f),b--;for(;h--;){if(c===f||f!==null&&c===f.alternate)break t;c=qr(c),f=qr(f)}c=null}else c=null;y!==null&&ad(v,x,y,c,!1),g!==null&&w!==null&&ad(v,w,g,c,!0)}}e:{if(x=d?ts(d):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var S=Ng;else if(Jc(x))if(Ph)S=Og;else{S=Rg;var T=jg}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(S=Tg);if(S&&(S=S(e,d))){Ah(v,S,n,p);break e}T&&T(e,x,d),e==="focusout"&&(T=x._wrapperState)&&T.controlled&&x.type==="number"&&yl(x,"number",x.value)}switch(T=d?ts(d):window,e){case"focusin":(Jc(T)||T.contentEditable==="true")&&(Jr=T,Rl=d,Js=null);break;case"focusout":Js=Rl=Jr=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,sd(v,n,p);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":sd(v,n,p)}var j;if(Wu)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Qr?Oh(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Th&&n.locale!=="ko"&&(Qr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Qr&&(j=Rh()):(cr=p,Bu="value"in cr?cr.value:cr.textContent,Qr=!0)),T=Ao(d,L),0<T.length&&(L=new Xc(L,e,null,n,p),v.push({event:L,listeners:T}),j?L.data=j:(j=Ih(n),j!==null&&(L.data=j)))),(j=kg?_g(e,n):Sg(e,n))&&(d=Ao(d,"onBeforeInput"),0<d.length&&(p=new Xc("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:d}),p.data=j))}Hh(v,t)})}function hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ao(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=oi(e,n),i!=null&&r.unshift(hi(e,i,s)),i=oi(e,t),i!=null&&r.push(hi(e,i,s))),e=e.return}return r}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ad(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=oi(n,i),l!=null&&o.unshift(hi(n,l,a))):s||(l=oi(n,i),l!=null&&o.push(hi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Dg=/\r\n?/g,Mg=/\u0000|\uFFFD/g;function ld(e){return(typeof e=="string"?e:""+e).replace(Dg,`
`).replace(Mg,"")}function Vi(e,t,n){if(t=ld(t),ld(e)!==t&&n)throw Error(me(425))}function Po(){}var Ol=null,Il=null;function Al(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,Bg=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch($g)}:Pl;function $g(e){setTimeout(function(){throw e})}function Ma(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ui(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ui(t)}function mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Ns,pi="__reactProps$"+Ns,Jn="__reactContainer$"+Ns,Ll="__reactEvents$"+Ns,Wg="__reactListeners$"+Ns,Hg="__reactHandles$"+Ns;function Tr(e){var t=e[Mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jn]||n[Mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cd(e);e!==null;){if(n=e[Mn])return n;e=cd(e)}return t}e=n,n=e.parentNode}return null}function Ei(e){return e=e[Mn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function ra(e){return e[pi]||null}var zl=[],ns=-1;function Cr(e){return{current:e}}function ut(e){0>ns||(e.current=zl[ns],zl[ns]=null,ns--)}function it(e,t){ns++,zl[ns]=e.current,e.current=t}var _r={},Dt=Cr(_r),Yt=Cr(!1),Fr=_r;function ys(e,t){var n=e.type.contextTypes;if(!n)return _r;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(e){return e=e.childContextTypes,e!=null}function Lo(){ut(Yt),ut(Dt)}function dd(e,t,n){if(Dt.current!==_r)throw Error(me(168));it(Dt,t),it(Yt,n)}function qh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(me(108,j0(e)||"Unknown",s));return mt({},n,r)}function zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,Fr=Dt.current,it(Dt,e),it(Yt,Yt.current),!0}function fd(e,t,n){var r=e.stateNode;if(!r)throw Error(me(169));n?(e=qh(e,t,Fr),r.__reactInternalMemoizedMergedChildContext=e,ut(Yt),ut(Dt),it(Dt,e)):ut(Yt),it(Yt,n)}var Kn=null,sa=!1,Ba=!1;function Kh(e){Kn===null?Kn=[e]:Kn.push(e)}function Vg(e){sa=!0,Kh(e)}function Er(){if(!Ba&&Kn!==null){Ba=!0;var e=0,t=rt;try{var n=Kn;for(rt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kn=null,sa=!1}catch(s){throw Kn!==null&&(Kn=Kn.slice(e+1)),vh(zu,Er),s}finally{rt=t,Ba=!1}}return null}var rs=[],ss=0,Fo=null,Do=0,pn=[],mn=0,Dr=null,Zn=1,Xn="";function Nr(e,t){rs[ss++]=Do,rs[ss++]=Fo,Fo=e,Do=t}function Zh(e,t,n){pn[mn++]=Zn,pn[mn++]=Xn,pn[mn++]=Dr,Dr=e;var r=Zn;e=Xn;var s=32-Tn(r)-1;r&=~(1<<s),n+=1;var i=32-Tn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zn=1<<32-Tn(t)+s|n<<s|r,Xn=i+e}else Zn=1<<i|n<<s|r,Xn=e}function Vu(e){e.return!==null&&(Nr(e,1),Zh(e,1,0))}function qu(e){for(;e===Fo;)Fo=rs[--ss],rs[ss]=null,Do=rs[--ss],rs[ss]=null;for(;e===Dr;)Dr=pn[--mn],pn[mn]=null,Xn=pn[--mn],pn[mn]=null,Zn=pn[--mn],pn[mn]=null}var on=null,sn=null,dt=!1,jn=null;function Xh(e,t){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,on=e,sn=mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,on=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dr!==null?{id:Zn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,on=e,sn=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(dt){var t=sn;if(t){var n=t;if(!hd(e,t)){if(Fl(e))throw Error(me(418));t=mr(n.nextSibling);var r=on;t&&hd(e,t)?Xh(r,n):(e.flags=e.flags&-4097|2,dt=!1,on=e)}}else{if(Fl(e))throw Error(me(418));e.flags=e.flags&-4097|2,dt=!1,on=e}}}function pd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;on=e}function qi(e){if(e!==on)return!1;if(!dt)return pd(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Al(e.type,e.memoizedProps)),t&&(t=sn)){if(Fl(e))throw Yh(),Error(me(418));for(;t;)Xh(e,t),t=mr(t.nextSibling)}if(pd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sn=mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=on?mr(e.stateNode.nextSibling):null;return!0}function Yh(){for(var e=sn;e;)e=mr(e.nextSibling)}function vs(){sn=on=null,dt=!1}function Ku(e){jn===null?jn=[e]:jn.push(e)}var qg=nr.ReactCurrentBatchConfig;function Ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function md(e){var t=e._init;return t(e._payload)}function Gh(e){function t(f,h){if(e){var b=f.deletions;b===null?(f.deletions=[h],f.flags|=16):b.push(h)}}function n(f,h){if(!e)return null;for(;h!==null;)t(f,h),h=h.sibling;return null}function r(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function s(f,h){return f=xr(f,h),f.index=0,f.sibling=null,f}function i(f,h,b){return f.index=b,e?(b=f.alternate,b!==null?(b=b.index,b<h?(f.flags|=2,h):b):(f.flags|=2,h)):(f.flags|=1048576,h)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,h,b,_){return h===null||h.tag!==6?(h=Ka(b,f.mode,_),h.return=f,h):(h=s(h,b),h.return=f,h)}function l(f,h,b,_){var S=b.type;return S===Gr?p(f,h,b.props.children,_,b.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&md(S)===h.type)?(_=s(h,b.props),_.ref=Ms(f,h,b),_.return=f,_):(_=yo(b.type,b.key,b.props,null,f.mode,_),_.ref=Ms(f,h,b),_.return=f,_)}function d(f,h,b,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==b.containerInfo||h.stateNode.implementation!==b.implementation?(h=Za(b,f.mode,_),h.return=f,h):(h=s(h,b.children||[]),h.return=f,h)}function p(f,h,b,_,S){return h===null||h.tag!==7?(h=Lr(b,f.mode,_,S),h.return=f,h):(h=s(h,b),h.return=f,h)}function v(f,h,b){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ka(""+h,f.mode,b),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case zi:return b=yo(h.type,h.key,h.props,null,f.mode,b),b.ref=Ms(f,null,h),b.return=f,b;case Yr:return h=Za(h,f.mode,b),h.return=f,h;case sr:var _=h._init;return v(f,_(h._payload),b)}if(Vs(h)||Ps(h))return h=Lr(h,f.mode,b,null),h.return=f,h;Ki(f,h)}return null}function x(f,h,b,_){var S=h!==null?h.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(f,h,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zi:return b.key===S?l(f,h,b,_):null;case Yr:return b.key===S?d(f,h,b,_):null;case sr:return S=b._init,x(f,h,S(b._payload),_)}if(Vs(b)||Ps(b))return S!==null?null:p(f,h,b,_,null);Ki(f,b)}return null}function y(f,h,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return f=f.get(b)||null,a(h,f,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zi:return f=f.get(_.key===null?b:_.key)||null,l(h,f,_,S);case Yr:return f=f.get(_.key===null?b:_.key)||null,d(h,f,_,S);case sr:var T=_._init;return y(f,h,b,T(_._payload),S)}if(Vs(_)||Ps(_))return f=f.get(b)||null,p(h,f,_,S,null);Ki(h,_)}return null}function g(f,h,b,_){for(var S=null,T=null,j=h,L=h=0,O=null;j!==null&&L<b.length;L++){j.index>L?(O=j,j=null):O=j.sibling;var D=x(f,j,b[L],_);if(D===null){j===null&&(j=O);break}e&&j&&D.alternate===null&&t(f,j),h=i(D,h,L),T===null?S=D:T.sibling=D,T=D,j=O}if(L===b.length)return n(f,j),dt&&Nr(f,L),S;if(j===null){for(;L<b.length;L++)j=v(f,b[L],_),j!==null&&(h=i(j,h,L),T===null?S=j:T.sibling=j,T=j);return dt&&Nr(f,L),S}for(j=r(f,j);L<b.length;L++)O=y(j,f,L,b[L],_),O!==null&&(e&&O.alternate!==null&&j.delete(O.key===null?L:O.key),h=i(O,h,L),T===null?S=O:T.sibling=O,T=O);return e&&j.forEach(function(le){return t(f,le)}),dt&&Nr(f,L),S}function c(f,h,b,_){var S=Ps(b);if(typeof S!="function")throw Error(me(150));if(b=S.call(b),b==null)throw Error(me(151));for(var T=S=null,j=h,L=h=0,O=null,D=b.next();j!==null&&!D.done;L++,D=b.next()){j.index>L?(O=j,j=null):O=j.sibling;var le=x(f,j,D.value,_);if(le===null){j===null&&(j=O);break}e&&j&&le.alternate===null&&t(f,j),h=i(le,h,L),T===null?S=le:T.sibling=le,T=le,j=O}if(D.done)return n(f,j),dt&&Nr(f,L),S;if(j===null){for(;!D.done;L++,D=b.next())D=v(f,D.value,_),D!==null&&(h=i(D,h,L),T===null?S=D:T.sibling=D,T=D);return dt&&Nr(f,L),S}for(j=r(f,j);!D.done;L++,D=b.next())D=y(j,f,L,D.value,_),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?L:D.key),h=i(D,h,L),T===null?S=D:T.sibling=D,T=D);return e&&j.forEach(function(R){return t(f,R)}),dt&&Nr(f,L),S}function w(f,h,b,_){if(typeof b=="object"&&b!==null&&b.type===Gr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zi:e:{for(var S=b.key,T=h;T!==null;){if(T.key===S){if(S=b.type,S===Gr){if(T.tag===7){n(f,T.sibling),h=s(T,b.props.children),h.return=f,f=h;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&md(S)===T.type){n(f,T.sibling),h=s(T,b.props),h.ref=Ms(f,T,b),h.return=f,f=h;break e}n(f,T);break}else t(f,T);T=T.sibling}b.type===Gr?(h=Lr(b.props.children,f.mode,_,b.key),h.return=f,f=h):(_=yo(b.type,b.key,b.props,null,f.mode,_),_.ref=Ms(f,h,b),_.return=f,f=_)}return o(f);case Yr:e:{for(T=b.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===b.containerInfo&&h.stateNode.implementation===b.implementation){n(f,h.sibling),h=s(h,b.children||[]),h.return=f,f=h;break e}else{n(f,h);break}else t(f,h);h=h.sibling}h=Za(b,f.mode,_),h.return=f,f=h}return o(f);case sr:return T=b._init,w(f,h,T(b._payload),_)}if(Vs(b))return g(f,h,b,_);if(Ps(b))return c(f,h,b,_);Ki(f,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,h!==null&&h.tag===6?(n(f,h.sibling),h=s(h,b),h.return=f,f=h):(n(f,h),h=Ka(b,f.mode,_),h.return=f,f=h),o(f)):n(f,h)}return w}var xs=Gh(!0),Qh=Gh(!1),Mo=Cr(null),Bo=null,is=null,Zu=null;function Xu(){Zu=is=Bo=null}function Yu(e){var t=Mo.current;ut(Mo),e._currentValue=t}function Ml(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hs(e,t){Bo=e,Zu=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(Zu!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(Bo===null)throw Error(me(308));is=e,Bo.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var Or=null;function Gu(e){Or===null?Or=[e]:Or.push(e)}function Jh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Gu(t)):(n.next=s.next,s.next=n),t.interleaved=n,er(e,r)}function er(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,er(e,n)}return s=r.interleaved,s===null?(t.next=t,Gu(r)):(t.next=s.next,s.next=t),r.interleaved=t,er(e,n)}function co(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fu(e,n)}}function gd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var s=e.updateQueue;ir=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=l))}if(i!==null){var v=s.baseState;o=0,p=d=l=null,a=i;do{var x=a.lane,y=a.eventTime;if((r&x)===x){p!==null&&(p=p.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,c=a;switch(x=t,y=n,c.tag){case 1:if(g=c.payload,typeof g=="function"){v=g.call(y,v,x);break e}v=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=c.payload,x=typeof g=="function"?g.call(y,v,x):g,x==null)break e;v=mt({},v,x);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[a]:x.push(a))}else y={eventTime:y,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=y,l=v):p=p.next=y,o|=x;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;x=a,a=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(p===null&&(l=v),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Br|=o,e.lanes=o,e.memoizedState=v}}function yd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(me(191,s));s.call(r)}}}var Ni={},Un=Cr(Ni),mi=Cr(Ni),gi=Cr(Ni);function Ir(e){if(e===Ni)throw Error(me(174));return e}function Ju(e,t){switch(it(gi,t),it(mi,e),it(Un,Ni),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xl(t,e)}ut(Un),it(Un,t)}function ws(){ut(Un),ut(mi),ut(gi)}function tp(e){Ir(gi.current);var t=Ir(Un.current),n=xl(t,e.type);t!==n&&(it(mi,e),it(Un,n))}function ec(e){mi.current===e&&(ut(Un),ut(mi))}var ht=Cr(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=[];function tc(){for(var e=0;e<Ua.length;e++)Ua[e]._workInProgressVersionPrimary=null;Ua.length=0}var fo=nr.ReactCurrentDispatcher,$a=nr.ReactCurrentBatchConfig,Mr=0,pt=null,St=null,Et=null,Wo=!1,ei=!1,yi=0,Kg=0;function At(){throw Error(me(321))}function nc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!In(e[n],t[n]))return!1;return!0}function rc(e,t,n,r,s,i){if(Mr=i,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?Gg:Qg,e=n(r,s),ei){i=0;do{if(ei=!1,yi=0,25<=i)throw Error(me(301));i+=1,Et=St=null,t.updateQueue=null,fo.current=Jg,e=n(r,s)}while(ei)}if(fo.current=Ho,t=St!==null&&St.next!==null,Mr=0,Et=St=pt=null,Wo=!1,t)throw Error(me(300));return e}function sc(){var e=yi!==0;return yi=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?pt.memoizedState=Et=e:Et=Et.next=e,Et}function bn(){if(St===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Et===null?pt.memoizedState:Et.next;if(t!==null)Et=t,St=e;else{if(e===null)throw Error(me(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Et===null?pt.memoizedState=Et=e:Et=Et.next=e}return Et}function vi(e,t){return typeof t=="function"?t(e):t}function Wa(e){var t=bn(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=St,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var p=d.lane;if((Mr&p)===p)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var v={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=v,o=r):l=l.next=v,pt.lanes|=p,Br|=p}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,In(r,t.memoizedState)||(Xt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,pt.lanes|=i,Br|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ha(e){var t=bn(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);In(i,t.memoizedState)||(Xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function np(){}function rp(e,t){var n=pt,r=bn(),s=t(),i=!In(r.memoizedState,s);if(i&&(r.memoizedState=s,Xt=!0),r=r.queue,ic(op.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,xi(9,ip.bind(null,n,r,s,t),void 0,null),jt===null)throw Error(me(349));Mr&30||sp(n,t,s)}return s}function sp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ip(e,t,n,r){t.value=n,t.getSnapshot=r,ap(t)&&lp(e)}function op(e,t,n){return n(function(){ap(t)&&lp(e)})}function ap(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!In(e,n)}catch{return!0}}function lp(e){var t=er(e,1);t!==null&&On(t,e,1,-1)}function vd(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yg.bind(null,pt,e),[t.memoizedState,e]}function xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function up(){return bn().memoizedState}function ho(e,t,n,r){var s=Fn();pt.flags|=e,s.memoizedState=xi(1|t,n,void 0,r===void 0?null:r)}function ia(e,t,n,r){var s=bn();r=r===void 0?null:r;var i=void 0;if(St!==null){var o=St.memoizedState;if(i=o.destroy,r!==null&&nc(r,o.deps)){s.memoizedState=xi(t,n,i,r);return}}pt.flags|=e,s.memoizedState=xi(1|t,n,i,r)}function xd(e,t){return ho(8390656,8,e,t)}function ic(e,t){return ia(2048,8,e,t)}function cp(e,t){return ia(4,2,e,t)}function dp(e,t){return ia(4,4,e,t)}function fp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hp(e,t,n){return n=n!=null?n.concat([e]):null,ia(4,4,fp.bind(null,t,e),n)}function oc(){}function pp(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mp(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gp(e,t,n){return Mr&21?(In(n,t)||(n=bh(),pt.lanes|=n,Br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=n)}function Zg(e,t){var n=rt;rt=n!==0&&4>n?n:4,e(!0);var r=$a.transition;$a.transition={};try{e(!1),t()}finally{rt=n,$a.transition=r}}function yp(){return bn().memoizedState}function Xg(e,t,n){var r=vr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vp(e))xp(t,n);else if(n=Jh(e,t,n,r),n!==null){var s=Ht();On(n,e,r,s),wp(n,t,r)}}function Yg(e,t,n){var r=vr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vp(e))xp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,In(a,o)){var l=t.interleaved;l===null?(s.next=s,Gu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Jh(e,t,s,r),n!==null&&(s=Ht(),On(n,e,r,s),wp(n,t,r))}}function vp(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function xp(e,t){ei=Wo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fu(e,n)}}var Ho={readContext:wn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},Gg={readContext:wn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:xd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ho(4194308,4,fp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return ho(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xg.bind(null,pt,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:vd,useDebugValue:oc,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=vd(!1),t=e[0];return e=Zg.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pt,s=Fn();if(dt){if(n===void 0)throw Error(me(407));n=n()}else{if(n=t(),jt===null)throw Error(me(349));Mr&30||sp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,xd(op.bind(null,r,i,e),[e]),r.flags|=2048,xi(9,ip.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Fn(),t=jt.identifierPrefix;if(dt){var n=Xn,r=Zn;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qg={readContext:wn,useCallback:pp,useContext:wn,useEffect:ic,useImperativeHandle:hp,useInsertionEffect:cp,useLayoutEffect:dp,useMemo:mp,useReducer:Wa,useRef:up,useState:function(){return Wa(vi)},useDebugValue:oc,useDeferredValue:function(e){var t=bn();return gp(t,St.memoizedState,e)},useTransition:function(){var e=Wa(vi)[0],t=bn().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:rp,useId:yp,unstable_isNewReconciler:!1},Jg={readContext:wn,useCallback:pp,useContext:wn,useEffect:ic,useImperativeHandle:hp,useInsertionEffect:cp,useLayoutEffect:dp,useMemo:mp,useReducer:Ha,useRef:up,useState:function(){return Ha(vi)},useDebugValue:oc,useDeferredValue:function(e){var t=bn();return St===null?t.memoizedState=e:gp(t,St.memoizedState,e)},useTransition:function(){var e=Ha(vi)[0],t=bn().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:rp,useId:yp,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ht(),s=vr(e),i=Gn(r,s);i.payload=t,n!=null&&(i.callback=n),t=gr(e,i,s),t!==null&&(On(t,e,s,r),co(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ht(),s=vr(e),i=Gn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=gr(e,i,s),t!==null&&(On(t,e,s,r),co(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ht(),r=vr(e),s=Gn(n,r);s.tag=2,t!=null&&(s.callback=t),t=gr(e,s,r),t!==null&&(On(t,e,r,n),co(t,e,r))}};function wd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!di(n,r)||!di(s,i):!0}function bp(e,t,n){var r=!1,s=_r,i=t.contextType;return typeof i=="object"&&i!==null?i=wn(i):(s=Gt(t)?Fr:Dt.current,r=t.contextTypes,i=(r=r!=null)?ys(e,s):_r),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function bd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function Ul(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=wn(i):(i=Gt(t)?Fr:Dt.current,s.context=ys(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&oa.enqueueReplaceState(s,s.state,null),Uo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var n="",r=t;do n+=N0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Va(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $l(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ey=typeof WeakMap=="function"?WeakMap:Map;function kp(e,t,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qo||(qo=!0,Ql=r),$l(e,t)},n}function _p(e,t,n){n=Gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){$l(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$l(e,t),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ey;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=py.bind(null,e,t,n),t.then(e,e))}function _d(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gn(-1,1),t.tag=2,gr(n,t,1))),n.lanes|=1),e)}var ty=nr.ReactCurrentOwner,Xt=!1;function $t(e,t,n,r){t.child=e===null?Qh(t,null,n,r):xs(t,e.child,n,r)}function Cd(e,t,n,r,s){n=n.render;var i=t.ref;return hs(t,s),r=rc(e,t,n,r,i,s),n=sc(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):(dt&&n&&Vu(t),t.flags|=1,$t(e,t,r,s),t.child)}function Ed(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Sp(e,t,i,r,s)):(e=yo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:di,n(o,r)&&e.ref===t.ref)return tr(e,t,s)}return t.flags|=1,e=xr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Sp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(di(i,r)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,tr(e,t,s)}return Wl(e,t,n,r,s)}function Cp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(as,rn),rn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(as,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,it(as,rn),rn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,it(as,rn),rn|=r;return $t(e,t,s,n),t.child}function Ep(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,n,r,s){var i=Gt(n)?Fr:Dt.current;return i=ys(t,i),hs(t,s),n=rc(e,t,n,r,i,s),r=sc(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tr(e,t,s)):(dt&&r&&Vu(t),t.flags|=1,$t(e,t,n,s),t.child)}function Nd(e,t,n,r,s){if(Gt(n)){var i=!0;zo(t)}else i=!1;if(hs(t,s),t.stateNode===null)po(e,t),bp(t,n,r),Ul(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=wn(d):(d=Gt(n)?Fr:Dt.current,d=ys(t,d));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&bd(t,o,r,d),ir=!1;var x=t.memoizedState;o.state=x,Uo(t,r,o,s),l=t.memoizedState,a!==r||x!==l||Yt.current||ir?(typeof p=="function"&&(Bl(t,n,p,r),l=t.memoizedState),(a=ir||wd(t,n,a,r,x,l,d))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ep(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Cn(t.type,a),o.props=d,v=t.pendingProps,x=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Gt(n)?Fr:Dt.current,l=ys(t,l));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==v||x!==l)&&bd(t,o,r,l),ir=!1,x=t.memoizedState,o.state=x,Uo(t,r,o,s);var g=t.memoizedState;a!==v||x!==g||Yt.current||ir?(typeof y=="function"&&(Bl(t,n,y,r),g=t.memoizedState),(d=ir||wd(t,n,d,r,x,g,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Hl(e,t,n,r,i,s)}function Hl(e,t,n,r,s,i){Ep(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&fd(t,n,!1),tr(e,t,i);r=t.stateNode,ty.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xs(t,e.child,null,i),t.child=xs(t,null,a,i)):$t(e,t,a,i),t.memoizedState=r.state,s&&fd(t,n,!0),t.child}function Np(e){var t=e.stateNode;t.pendingContext?dd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dd(e,t.context,!1),Ju(e,t.containerInfo)}function jd(e,t,n,r,s){return vs(),Ku(s),t.flags|=256,$t(e,t,n,r),t.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function jp(e,t,n){var r=t.pendingProps,s=ht.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),it(ht,s&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ua(o,r,0,null),e=Lr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ql(n),t.memoizedState=Vl,e):ac(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ny(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xr(a,i):(i=Lr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ql(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Vl,r}return i=e.child,e=i.sibling,r=xr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ac(e,t){return t=ua({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zi(e,t,n,r){return r!==null&&Ku(r),xs(t,e.child,null,n),e=ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ny(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Va(Error(me(422))),Zi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ua({mode:"visible",children:r.children},s,0,null),i=Lr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&xs(t,e.child,null,o),t.child.memoizedState=ql(o),t.memoizedState=Vl,i);if(!(t.mode&1))return Zi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(me(419)),r=Va(i,r,void 0),Zi(e,t,o,r)}if(a=(o&e.childLanes)!==0,Xt||a){if(r=jt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(e,s),On(r,e,s,-1))}return hc(),r=Va(Error(me(421))),Zi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=my.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,sn=mr(s.nextSibling),on=t,dt=!0,jn=null,e!==null&&(pn[mn++]=Zn,pn[mn++]=Xn,pn[mn++]=Dr,Zn=e.id,Xn=e.overflow,Dr=t),t=ac(t,r.children),t.flags|=4096,t)}function Rd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ml(e.return,t,n)}function qa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Rp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if($t(e,t,r.children,n),r=ht.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rd(e,n,t);else if(e.tag===19)Rd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(it(ht,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$o(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),qa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$o(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}qa(t,!0,n,null,i);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function po(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,n=xr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ry(e,t,n){switch(t.tag){case 3:Np(t),vs();break;case 5:tp(t);break;case 1:Gt(t.type)&&zo(t);break;case 4:Ju(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;it(Mo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(it(ht,ht.current&1),t.flags|=128,null):n&t.child.childLanes?jp(e,t,n):(it(ht,ht.current&1),e=tr(e,t,n),e!==null?e.sibling:null);it(ht,ht.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Rp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),it(ht,ht.current),r)break;return null;case 22:case 23:return t.lanes=0,Cp(e,t,n)}return tr(e,t,n)}var Tp,Kl,Op,Ip;Tp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kl=function(){};Op=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ir(Un.current);var i=null;switch(n){case"input":s=ml(e,s),r=ml(e,r),i=[];break;case"select":s=mt({},s,{value:void 0}),r=mt({},r,{value:void 0}),i=[];break;case"textarea":s=vl(e,s),r=vl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Po)}wl(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(si.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(si.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&lt("scroll",e),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ip=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sy(e,t,n){var r=t.pendingProps;switch(qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Gt(t.type)&&Lo(),Pt(t),null;case 3:return r=t.stateNode,ws(),ut(Yt),ut(Dt),tc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(tu(jn),jn=null))),Kl(e,t),Pt(t),null;case 5:ec(t);var s=Ir(gi.current);if(n=t.type,e!==null&&t.stateNode!=null)Op(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return Pt(t),null}if(e=Ir(Un.current),qi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Mn]=t,r[pi]=i,e=(t.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(s=0;s<Ks.length;s++)lt(Ks[s],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":Dc(r,i),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},lt("invalid",r);break;case"textarea":Bc(r,i),lt("invalid",r)}wl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vi(r.textContent,a,e),s=["children",""+a]):si.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&lt("scroll",r)}switch(n){case"input":Fi(r),Mc(r,i,!0);break;case"textarea":Fi(r),Uc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Po)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mn]=t,e[pi]=r,Tp(e,t,!1,!1),t.stateNode=e;e:{switch(o=bl(n,r),n){case"dialog":lt("cancel",e),lt("close",e),s=r;break;case"iframe":case"object":case"embed":lt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ks.length;s++)lt(Ks[s],e);s=r;break;case"source":lt("error",e),s=r;break;case"img":case"image":case"link":lt("error",e),lt("load",e),s=r;break;case"details":lt("toggle",e),s=r;break;case"input":Dc(e,r),s=ml(e,r),lt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=mt({},r,{value:void 0}),lt("invalid",e);break;case"textarea":Bc(e,r),s=vl(e,r),lt("invalid",e);break;default:s=r}wl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uh(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ah(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ii(e,l):typeof l=="number"&&ii(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(si.hasOwnProperty(i)?l!=null&&i==="onScroll"&&lt("scroll",e):l!=null&&Ou(e,i,l,o))}switch(n){case"input":Fi(e),Mc(e,r,!1);break;case"textarea":Fi(e),Uc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?us(e,!!r.multiple,i,!1):r.defaultValue!=null&&us(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Po)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)Ip(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(n=Ir(gi.current),Ir(Un.current),qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mn]=t,(i=r.nodeValue!==n)&&(e=on,e!==null))switch(e.tag){case 3:Vi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=t,t.stateNode=r}return Pt(t),null;case 13:if(ut(ht),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&sn!==null&&t.mode&1&&!(t.flags&128))Yh(),vs(),t.flags|=98560,i=!1;else if(i=qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(me(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(me(317));i[Mn]=t}else vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),i=!1}else jn!==null&&(tu(jn),jn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?Ct===0&&(Ct=3):hc())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return ws(),Kl(e,t),e===null&&fi(t.stateNode.containerInfo),Pt(t),null;case 10:return Yu(t.type._context),Pt(t),null;case 17:return Gt(t.type)&&Lo(),Pt(t),null;case 19:if(ut(ht),i=t.memoizedState,i===null)return Pt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Bs(i,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$o(e),o!==null){for(t.flags|=128,Bs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return it(ht,ht.current&1|2),t.child}e=e.sibling}i.tail!==null&&vt()>ks&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304)}else{if(!r)if(e=$o(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!dt)return Pt(t),null}else 2*vt()-i.renderingStartTime>ks&&n!==1073741824&&(t.flags|=128,r=!0,Bs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=vt(),t.sibling=null,n=ht.current,it(ht,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return fc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rn&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function iy(e,t){switch(qu(t),t.tag){case 1:return Gt(t.type)&&Lo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ws(),ut(Yt),ut(Dt),tc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ec(t),null;case 13:if(ut(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(ht),null;case 4:return ws(),null;case 10:return Yu(t.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var Xi=!1,zt=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Re=null;function os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function Zl(e,t,n){try{n()}catch(r){yt(e,t,r)}}var Td=!1;function ay(e,t){if(Ol=Oo,e=Fh(),Hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,p=0,v=e,x=null;t:for(;;){for(var y;v!==n||s!==0&&v.nodeType!==3||(a=o+s),v!==i||r!==0&&v.nodeType!==3||(l=o+r),v.nodeType===3&&(o+=v.nodeValue.length),(y=v.firstChild)!==null;)x=v,v=y;for(;;){if(v===e)break t;if(x===n&&++d===s&&(a=o),x===i&&++p===r&&(l=o),(y=v.nextSibling)!==null)break;v=x,x=v.parentNode}v=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Il={focusedElem:e,selectionRange:n},Oo=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var c=g.memoizedProps,w=g.memoizedState,f=t.stateNode,h=f.getSnapshotBeforeUpdate(t.elementType===t.type?c:Cn(t.type,c),w);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(_){yt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return g=Td,Td=!1,g}function ti(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zl(t,n,i)}s=s.next}while(s!==r)}}function aa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ap(e){var t=e.alternate;t!==null&&(e.alternate=null,Ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[pi],delete t[Ll],delete t[Wg],delete t[Hg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pp(e){return e.tag===5||e.tag===3||e.tag===4}function Od(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Po));else if(r!==4&&(e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}function Gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gl(e,t,n),e=e.sibling;e!==null;)Gl(e,t,n),e=e.sibling}var Tt=null,En=!1;function rr(e,t,n){for(n=n.child;n!==null;)Lp(e,t,n),n=n.sibling}function Lp(e,t,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Jo,n)}catch{}switch(n.tag){case 5:zt||os(n,t);case 6:var r=Tt,s=En;Tt=null,rr(e,t,n),Tt=r,En=s,Tt!==null&&(En?(e=Tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(En?(e=Tt,n=n.stateNode,e.nodeType===8?Ma(e.parentNode,n):e.nodeType===1&&Ma(e,n),ui(e)):Ma(Tt,n.stateNode));break;case 4:r=Tt,s=En,Tt=n.stateNode.containerInfo,En=!0,rr(e,t,n),Tt=r,En=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zl(n,t,o),s=s.next}while(s!==r)}rr(e,t,n);break;case 1:if(!zt&&(os(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,t,a)}rr(e,t,n);break;case 21:rr(e,t,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,rr(e,t,n),zt=r):rr(e,t,n);break;default:rr(e,t,n)}}function Id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oy),t.forEach(function(r){var s=gy.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,En=!1;break e;case 3:Tt=a.stateNode.containerInfo,En=!0;break e;case 4:Tt=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(Tt===null)throw Error(me(160));Lp(i,o,s),Tt=null,En=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){yt(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zp(t,e),t=t.sibling}function zp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),Ln(e),r&4){try{ti(3,e,e.return),aa(3,e)}catch(c){yt(e,e.return,c)}try{ti(5,e,e.return)}catch(c){yt(e,e.return,c)}}break;case 1:Sn(t,e),Ln(e),r&512&&n!==null&&os(n,n.return);break;case 5:if(Sn(t,e),Ln(e),r&512&&n!==null&&os(n,n.return),e.flags&32){var s=e.stateNode;try{ii(s,"")}catch(c){yt(e,e.return,c)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&sh(s,i),bl(a,o);var d=bl(a,i);for(o=0;o<l.length;o+=2){var p=l[o],v=l[o+1];p==="style"?uh(s,v):p==="dangerouslySetInnerHTML"?ah(s,v):p==="children"?ii(s,v):Ou(s,p,v,d)}switch(a){case"input":gl(s,i);break;case"textarea":ih(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?us(s,!!i.multiple,y,!1):x!==!!i.multiple&&(i.defaultValue!=null?us(s,!!i.multiple,i.defaultValue,!0):us(s,!!i.multiple,i.multiple?[]:"",!1))}s[pi]=i}catch(c){yt(e,e.return,c)}}break;case 6:if(Sn(t,e),Ln(e),r&4){if(e.stateNode===null)throw Error(me(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(c){yt(e,e.return,c)}}break;case 3:if(Sn(t,e),Ln(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(c){yt(e,e.return,c)}break;case 4:Sn(t,e),Ln(e);break;case 13:Sn(t,e),Ln(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cc=vt())),r&4&&Id(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(zt=(d=zt)||p,Sn(t,e),zt=d):Sn(t,e),Ln(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(Re=e,p=e.child;p!==null;){for(v=Re=p;Re!==null;){switch(x=Re,y=x.child,x.tag){case 0:case 11:case 14:case 15:ti(4,x,x.return);break;case 1:os(x,x.return);var g=x.stateNode;if(typeof g.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(c){yt(r,n,c)}}break;case 5:os(x,x.return);break;case 22:if(x.memoizedState!==null){Pd(v);continue}}y!==null?(y.return=x,Re=y):Pd(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{s=v.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=v.stateNode,l=v.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lh("display",o))}catch(c){yt(e,e.return,c)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(c){yt(e,e.return,c)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Sn(t,e),Ln(e),r&4&&Id(e);break;case 21:break;default:Sn(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pp(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ii(s,""),r.flags&=-33);var i=Od(e);Gl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Od(e);Yl(e,a,o);break;default:throw Error(me(161))}}catch(l){yt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ly(e,t,n){Re=e,Fp(e)}function Fp(e,t,n){for(var r=(e.mode&1)!==0;Re!==null;){var s=Re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Xi;var d=zt;if(Xi=o,(zt=l)&&!d)for(Re=s;Re!==null;)o=Re,l=o.child,o.tag===22&&o.memoizedState!==null?Ld(s):l!==null?(l.return=o,Re=l):Ld(s);for(;i!==null;)Re=i,Fp(i),i=i.sibling;Re=s,Xi=a,zt=d}Ad(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Re=i):Ad(e)}}function Ad(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zt||aa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Cn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&ui(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}zt||t.flags&512&&Xl(t)}catch(x){yt(t,t.return,x)}}if(t===e){Re=null;break}if(n=t.sibling,n!==null){n.return=t.return,Re=n;break}Re=t.return}}function Pd(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Re=n;break}Re=t.return}}function Ld(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aa(4,t)}catch(l){yt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){yt(t,s,l)}}var i=t.return;try{Xl(t)}catch(l){yt(t,i,l)}break;case 5:var o=t.return;try{Xl(t)}catch(l){yt(t,o,l)}}}catch(l){yt(t,t.return,l)}if(t===e){Re=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Re=a;break}Re=t.return}}var uy=Math.ceil,Vo=nr.ReactCurrentDispatcher,lc=nr.ReactCurrentOwner,xn=nr.ReactCurrentBatchConfig,Qe=0,jt=null,bt=null,Ot=0,rn=0,as=Cr(0),Ct=0,wi=null,Br=0,la=0,uc=0,ni=null,Zt=null,cc=0,ks=1/0,qn=null,qo=!1,Ql=null,yr=null,Yi=!1,dr=null,Ko=0,ri=0,Jl=null,mo=-1,go=0;function Ht(){return Qe&6?vt():mo!==-1?mo:mo=vt()}function vr(e){return e.mode&1?Qe&2&&Ot!==0?Ot&-Ot:qg.transition!==null?(go===0&&(go=bh()),go):(e=rt,e!==0||(e=window.event,e=e===void 0?16:jh(e.type)),e):1}function On(e,t,n,r){if(50<ri)throw ri=0,Jl=null,Error(me(185));Si(e,n,r),(!(Qe&2)||e!==jt)&&(e===jt&&(!(Qe&2)&&(la|=n),Ct===4&&ur(e,Ot)),Qt(e,r),n===1&&Qe===0&&!(t.mode&1)&&(ks=vt()+500,sa&&Er()))}function Qt(e,t){var n=e.callbackNode;q0(e,t);var r=To(e,e===jt?Ot:0);if(r===0)n!==null&&Hc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hc(n),t===1)e.tag===0?Vg(zd.bind(null,e)):Kh(zd.bind(null,e)),Ug(function(){!(Qe&6)&&Er()}),n=null;else{switch(kh(r)){case 1:n=zu;break;case 4:n=xh;break;case 16:n=Ro;break;case 536870912:n=wh;break;default:n=Ro}n=Vp(n,Dp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dp(e,t){if(mo=-1,go=0,Qe&6)throw Error(me(327));var n=e.callbackNode;if(ps()&&e.callbackNode!==n)return null;var r=To(e,e===jt?Ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zo(e,r);else{t=r;var s=Qe;Qe|=2;var i=Bp();(jt!==e||Ot!==t)&&(qn=null,ks=vt()+500,Pr(e,t));do try{fy();break}catch(a){Mp(e,a)}while(!0);Xu(),Vo.current=i,Qe=s,bt!==null?t=0:(jt=null,Ot=0,t=Ct)}if(t!==0){if(t===2&&(s=El(e),s!==0&&(r=s,t=eu(e,s))),t===1)throw n=wi,Pr(e,0),ur(e,r),Qt(e,vt()),n;if(t===6)ur(e,r);else{if(s=e.current.alternate,!(r&30)&&!cy(s)&&(t=Zo(e,r),t===2&&(i=El(e),i!==0&&(r=i,t=eu(e,i))),t===1))throw n=wi,Pr(e,0),ur(e,r),Qt(e,vt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:jr(e,Zt,qn);break;case 3:if(ur(e,r),(r&130023424)===r&&(t=cc+500-vt(),10<t)){if(To(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pl(jr.bind(null,e,Zt,qn),t);break}jr(e,Zt,qn);break;case 4:if(ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Tn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uy(r/1960))-r,10<r){e.timeoutHandle=Pl(jr.bind(null,e,Zt,qn),r);break}jr(e,Zt,qn);break;case 5:jr(e,Zt,qn);break;default:throw Error(me(329))}}}return Qt(e,vt()),e.callbackNode===n?Dp.bind(null,e):null}function eu(e,t){var n=ni;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=Zo(e,t),e!==2&&(t=Zt,Zt=n,t!==null&&tu(t)),e}function tu(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function cy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!In(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~uc,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tn(t),r=1<<n;e[n]=-1,t&=~r}}function zd(e){if(Qe&6)throw Error(me(327));ps();var t=To(e,0);if(!(t&1))return Qt(e,vt()),null;var n=Zo(e,t);if(e.tag!==0&&n===2){var r=El(e);r!==0&&(t=r,n=eu(e,r))}if(n===1)throw n=wi,Pr(e,0),ur(e,t),Qt(e,vt()),n;if(n===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,Zt,qn),Qt(e,vt()),null}function dc(e,t){var n=Qe;Qe|=1;try{return e(t)}finally{Qe=n,Qe===0&&(ks=vt()+500,sa&&Er())}}function Ur(e){dr!==null&&dr.tag===0&&!(Qe&6)&&ps();var t=Qe;Qe|=1;var n=xn.transition,r=rt;try{if(xn.transition=null,rt=1,e)return e()}finally{rt=r,xn.transition=n,Qe=t,!(Qe&6)&&Er()}}function fc(){rn=as.current,ut(as)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bg(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lo();break;case 3:ws(),ut(Yt),ut(Dt),tc();break;case 5:ec(r);break;case 4:ws();break;case 13:ut(ht);break;case 19:ut(ht);break;case 10:Yu(r.type._context);break;case 22:case 23:fc()}n=n.return}if(jt=e,bt=e=xr(e.current,null),Ot=rn=t,Ct=0,wi=null,uc=la=Br=0,Zt=ni=null,Or!==null){for(t=0;t<Or.length;t++)if(n=Or[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Or=null}return e}function Mp(e,t){do{var n=bt;try{if(Xu(),fo.current=Ho,Wo){for(var r=pt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wo=!1}if(Mr=0,Et=St=pt=null,ei=!1,yi=0,lc.current=null,n===null||n.return===null){Ct=1,wi=t,bt=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,p=a,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=_d(o);if(y!==null){y.flags&=-257,Sd(y,o,a,i,t),y.mode&1&&kd(i,d,t),t=y,l=d;var g=t.updateQueue;if(g===null){var c=new Set;c.add(l),t.updateQueue=c}else g.add(l);break e}else{if(!(t&1)){kd(i,d,t),hc();break e}l=Error(me(426))}}else if(dt&&a.mode&1){var w=_d(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Sd(w,o,a,i,t),Ku(bs(l,a));break e}}i=l=bs(l,a),Ct!==4&&(Ct=2),ni===null?ni=[i]:ni.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=kp(i,l,t);gd(i,f);break e;case 1:a=l;var h=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yr===null||!yr.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=_p(i,a,t);gd(i,_);break e}}i=i.return}while(i!==null)}$p(n)}catch(S){t=S,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function Bp(){var e=Vo.current;return Vo.current=Ho,e===null?Ho:e}function hc(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),jt===null||!(Br&268435455)&&!(la&268435455)||ur(jt,Ot)}function Zo(e,t){var n=Qe;Qe|=2;var r=Bp();(jt!==e||Ot!==t)&&(qn=null,Pr(e,t));do try{dy();break}catch(s){Mp(e,s)}while(!0);if(Xu(),Qe=n,Vo.current=r,bt!==null)throw Error(me(261));return jt=null,Ot=0,Ct}function dy(){for(;bt!==null;)Up(bt)}function fy(){for(;bt!==null&&!F0();)Up(bt)}function Up(e){var t=Hp(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?$p(e):bt=t,lc.current=null}function $p(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=iy(n,t),n!==null){n.flags&=32767,bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,bt=null;return}}else if(n=sy(n,t,rn),n!==null){bt=n;return}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);Ct===0&&(Ct=5)}function jr(e,t,n){var r=rt,s=xn.transition;try{xn.transition=null,rt=1,hy(e,t,n,r)}finally{xn.transition=s,rt=r}return null}function hy(e,t,n,r){do ps();while(dr!==null);if(Qe&6)throw Error(me(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(K0(e,i),e===jt&&(bt=jt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yi||(Yi=!0,Vp(Ro,function(){return ps(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xn.transition,xn.transition=null;var o=rt;rt=1;var a=Qe;Qe|=4,lc.current=null,ay(e,n),zp(n,e),Ag(Il),Oo=!!Ol,Il=Ol=null,e.current=n,ly(n),D0(),Qe=a,rt=o,xn.transition=i}else e.current=n;if(Yi&&(Yi=!1,dr=e,Ko=s),i=e.pendingLanes,i===0&&(yr=null),U0(n.stateNode),Qt(e,vt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qo)throw qo=!1,e=Ql,Ql=null,e;return Ko&1&&e.tag!==0&&ps(),i=e.pendingLanes,i&1?e===Jl?ri++:(ri=0,Jl=e):ri=0,Er(),null}function ps(){if(dr!==null){var e=kh(Ko),t=xn.transition,n=rt;try{if(xn.transition=null,rt=16>e?16:e,dr===null)var r=!1;else{if(e=dr,dr=null,Ko=0,Qe&6)throw Error(me(331));var s=Qe;for(Qe|=4,Re=e.current;Re!==null;){var i=Re,o=i.child;if(Re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(Re=d;Re!==null;){var p=Re;switch(p.tag){case 0:case 11:case 15:ti(8,p,i)}var v=p.child;if(v!==null)v.return=p,Re=v;else for(;Re!==null;){p=Re;var x=p.sibling,y=p.return;if(Ap(p),p===d){Re=null;break}if(x!==null){x.return=y,Re=x;break}Re=y}}}var g=i.alternate;if(g!==null){var c=g.child;if(c!==null){g.child=null;do{var w=c.sibling;c.sibling=null,c=w}while(c!==null)}}Re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Re=o;else e:for(;Re!==null;){if(i=Re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ti(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,Re=f;break e}Re=i.return}}var h=e.current;for(Re=h;Re!==null;){o=Re;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Re=b;else e:for(o=h;Re!==null;){if(a=Re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:aa(9,a)}}catch(S){yt(a,a.return,S)}if(a===o){Re=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Re=_;break e}Re=a.return}}if(Qe=s,Er(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Jo,e)}catch{}r=!0}return r}finally{rt=n,xn.transition=t}}return!1}function Fd(e,t,n){t=bs(n,t),t=kp(e,t,1),e=gr(e,t,1),t=Ht(),e!==null&&(Si(e,1,t),Qt(e,t))}function yt(e,t,n){if(e.tag===3)Fd(e,e,n);else for(;t!==null;){if(t.tag===3){Fd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){e=bs(n,e),e=_p(t,e,1),t=gr(t,e,1),e=Ht(),t!==null&&(Si(t,1,e),Qt(t,e));break}}t=t.return}}function py(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(Ot&n)===n&&(Ct===4||Ct===3&&(Ot&130023424)===Ot&&500>vt()-cc?Pr(e,0):uc|=n),Qt(e,t)}function Wp(e,t){t===0&&(e.mode&1?(t=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):t=1);var n=Ht();e=er(e,t),e!==null&&(Si(e,t,n),Qt(e,n))}function my(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wp(e,n)}function gy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),Wp(e,n)}var Hp;Hp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xt=!1,ry(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,dt&&t.flags&1048576&&Zh(t,Do,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;po(e,t),e=t.pendingProps;var s=ys(t,Dt.current);hs(t,n),s=rc(null,t,r,e,s,n);var i=sc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(r)?(i=!0,zo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qu(t),s.updater=oa,t.stateNode=s,s._reactInternals=t,Ul(t,r,e,n),t=Hl(null,t,r,!0,i,n)):(t.tag=0,dt&&i&&Vu(t),$t(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(po(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=vy(r),e=Cn(r,e),s){case 0:t=Wl(null,t,r,e,n);break e;case 1:t=Nd(null,t,r,e,n);break e;case 11:t=Cd(null,t,r,e,n);break e;case 14:t=Ed(null,t,r,Cn(r.type,e),n);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),Wl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),Nd(e,t,r,s,n);case 3:e:{if(Np(t),e===null)throw Error(me(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ep(e,t),Uo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bs(Error(me(423)),t),t=jd(e,t,r,n,s);break e}else if(r!==s){s=bs(Error(me(424)),t),t=jd(e,t,r,n,s);break e}else for(sn=mr(t.stateNode.containerInfo.firstChild),on=t,dt=!0,jn=null,n=Qh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vs(),r===s){t=tr(e,t,n);break e}$t(e,t,r,n)}t=t.child}return t;case 5:return tp(t),e===null&&Dl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Al(r,s)?o=null:i!==null&&Al(r,i)&&(t.flags|=32),Ep(e,t),$t(e,t,o,n),t.child;case 6:return e===null&&Dl(t),null;case 13:return jp(e,t,n);case 4:return Ju(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xs(t,null,r,n):$t(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),Cd(e,t,r,s,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,it(Mo,r._currentValue),r._currentValue=o,i!==null)if(In(i.value,o)){if(i.children===s.children&&!Yt.current){t=tr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gn(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?l.next=l:(l.next=p.next,p.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ml(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(me(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ml(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,hs(t,n),s=wn(s),r=r(s),t.flags|=1,$t(e,t,r,n),t.child;case 14:return r=t.type,s=Cn(r,t.pendingProps),s=Cn(r.type,s),Ed(e,t,r,s,n);case 15:return Sp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Cn(r,s),po(e,t),t.tag=1,Gt(r)?(e=!0,zo(t)):e=!1,hs(t,n),bp(t,r,s),Ul(t,r,s,n),Hl(null,t,r,!0,e,n);case 19:return Rp(e,t,n);case 22:return Cp(e,t,n)}throw Error(me(156,t.tag))};function Vp(e,t){return vh(e,t)}function yy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,n,r){return new yy(e,t,n,r)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vy(e){if(typeof e=="function")return pc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Au)return 11;if(e===Pu)return 14}return 2}function xr(e,t){var n=e.alternate;return n===null?(n=vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")pc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gr:return Lr(n.children,s,i,t);case Iu:o=8,s|=8;break;case dl:return e=vn(12,n,t,s|2),e.elementType=dl,e.lanes=i,e;case fl:return e=vn(13,n,t,s),e.elementType=fl,e.lanes=i,e;case hl:return e=vn(19,n,t,s),e.elementType=hl,e.lanes=i,e;case th:return ua(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jf:o=10;break e;case eh:o=9;break e;case Au:o=11;break e;case Pu:o=14;break e;case sr:o=16,r=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=vn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Lr(e,t,n,r){return e=vn(7,e,r,t),e.lanes=n,e}function ua(e,t,n,r){return e=vn(22,e,r,t),e.elementType=th,e.lanes=n,e.stateNode={isHidden:!1},e}function Ka(e,t,n){return e=vn(6,e,null,t),e.lanes=n,e}function Za(e,t,n){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xy(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ja(0),this.expirationTimes=ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mc(e,t,n,r,s,i,o,a,l){return e=new xy(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(i),e}function wy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qp(e){if(!e)return _r;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var n=e.type;if(Gt(n))return qh(e,n,t)}return t}function Kp(e,t,n,r,s,i,o,a,l){return e=mc(n,r,!0,e,s,i,o,a,l),e.context=qp(null),n=e.current,r=Ht(),s=vr(n),i=Gn(r,s),i.callback=t??null,gr(n,i,s),e.current.lanes=s,Si(e,s,r),Qt(e,r),e}function ca(e,t,n,r){var s=t.current,i=Ht(),o=vr(s);return n=qp(n),t.context===null?t.context=n:t.pendingContext=n,t=Gn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gr(s,t,o),e!==null&&(On(e,s,o,i),co(e,s,o)),o}function Xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gc(e,t){Dd(e,t),(e=e.alternate)&&Dd(e,t)}function by(){return null}var Zp=typeof reportError=="function"?reportError:function(e){console.error(e)};function yc(e){this._internalRoot=e}da.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));ca(e,t,null,null)};da.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){ca(null,e,null,null)}),t[Jn]=null}};function da(e){this._internalRoot=e}da.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ch();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lr.length&&t!==0&&t<lr[n].priority;n++);lr.splice(n,0,e),n===0&&Nh(e)}};function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Md(){}function ky(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Xo(o);i.call(d)}}var o=Kp(t,r,e,0,null,!1,!1,"",Md);return e._reactRootContainer=o,e[Jn]=o.current,fi(e.nodeType===8?e.parentNode:e),Ur(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Xo(l);a.call(d)}}var l=mc(e,0,!1,null,null,!1,!1,"",Md);return e._reactRootContainer=l,e[Jn]=l.current,fi(e.nodeType===8?e.parentNode:e),Ur(function(){ca(t,l,n,r)}),l}function ha(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Xo(o);a.call(l)}}ca(t,o,e,s)}else o=ky(n,t,e,s,r);return Xo(o)}_h=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qs(t.pendingLanes);n!==0&&(Fu(t,n|1),Qt(t,vt()),!(Qe&6)&&(ks=vt()+500,Er()))}break;case 13:Ur(function(){var r=er(e,1);if(r!==null){var s=Ht();On(r,e,1,s)}}),gc(e,1)}};Du=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var n=Ht();On(t,e,134217728,n)}gc(e,134217728)}};Sh=function(e){if(e.tag===13){var t=vr(e),n=er(e,t);if(n!==null){var r=Ht();On(n,e,t,r)}gc(e,t)}};Ch=function(){return rt};Eh=function(e,t){var n=rt;try{return rt=e,t()}finally{rt=n}};_l=function(e,t,n){switch(t){case"input":if(gl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ra(r);if(!s)throw Error(me(90));rh(r),gl(r,s)}}}break;case"textarea":ih(e,n);break;case"select":t=n.value,t!=null&&us(e,!!n.multiple,t,!1)}};fh=dc;hh=Ur;var _y={usingClientEntryPoint:!1,Events:[Ei,ts,ra,ch,dh,dc]},Us={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sy={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gh(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||by,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{Jo=Gi.inject(Sy),Bn=Gi}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(t))throw Error(me(200));return wy(e,t,null,n)};ln.createRoot=function(e,t){if(!vc(e))throw Error(me(299));var n=!1,r="",s=Zp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mc(e,1,!1,null,null,n,!1,r,s),e[Jn]=t.current,fi(e.nodeType===8?e.parentNode:e),new yc(t)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=gh(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return Ur(e)};ln.hydrate=function(e,t,n){if(!fa(t))throw Error(me(200));return ha(null,e,t,!0,n)};ln.hydrateRoot=function(e,t,n){if(!vc(e))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Zp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Kp(t,null,e,1,n??null,s,!1,i,o),e[Jn]=t.current,fi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new da(t)};ln.render=function(e,t,n){if(!fa(t))throw Error(me(200));return ha(null,e,t,!1,n)};ln.unmountComponentAtNode=function(e){if(!fa(e))throw Error(me(40));return e._reactRootContainer?(Ur(function(){ha(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};ln.unstable_batchedUpdates=dc;ln.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fa(n))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return ha(e,t,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function Xp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xp)}catch(e){console.error(e)}}Xp(),Xf.exports=ln;var Yp=Xf.exports,Bd=Yp;ul.createRoot=Bd.createRoot,ul.hydrateRoot=Bd.hydrateRoot;const Wn=Object.create(null);Wn.open="0";Wn.close="1";Wn.ping="2";Wn.pong="3";Wn.message="4";Wn.upgrade="5";Wn.noop="6";const vo=Object.create(null);Object.keys(Wn).forEach(e=>{vo[Wn[e]]=e});const nu={type:"error",data:"parser error"},Gp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Qp=typeof ArrayBuffer=="function",Jp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,xc=({type:e,data:t},n,r)=>Gp&&t instanceof Blob?n?r(t):Ud(t,r):Qp&&(t instanceof ArrayBuffer||Jp(t))?n?r(t):Ud(new Blob([t]),r):r(Wn[e]+(t||"")),Ud=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function $d(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Xa;function Cy(e,t){if(Gp&&e.data instanceof Blob)return e.data.arrayBuffer().then($d).then(t);if(Qp&&(e.data instanceof ArrayBuffer||Jp(e.data)))return t($d(e.data));xc(e,!1,n=>{Xa||(Xa=new TextEncoder),t(Xa.encode(n))})}const Wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Wd.length;e++)Zs[Wd.charCodeAt(e)]=e;const Ey=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),p=new Uint8Array(d);for(r=0;r<n;r+=4)i=Zs[e.charCodeAt(r)],o=Zs[e.charCodeAt(r+1)],a=Zs[e.charCodeAt(r+2)],l=Zs[e.charCodeAt(r+3)],p[s++]=i<<2|o>>4,p[s++]=(o&15)<<4|a>>2,p[s++]=(a&3)<<6|l&63;return d},Ny=typeof ArrayBuffer=="function",wc=(e,t)=>{if(typeof e!="string")return{type:"message",data:em(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:jy(e.substring(1),t)}:vo[n]?e.length>1?{type:vo[n],data:e.substring(1)}:{type:vo[n]}:nu},jy=(e,t)=>{if(Ny){const n=Ey(e);return em(n,t)}else return{base64:!0,data:e}},em=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},tm="",Ry=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{xc(i,!1,a=>{r[o]=a,++s===n&&t(r.join(tm))})})},Ty=(e,t)=>{const n=e.split(tm),r=[];for(let s=0;s<n.length;s++){const i=wc(n[s],t);if(r.push(i),i.type==="error")break}return r};function Oy(){return new TransformStream({transform(e,t){Cy(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Ya;function Qi(e){return e.reduce((t,n)=>t+n.length,0)}function Ji(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Iy(e,t){Ya||(Ya=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Qi(n)<1)break;const l=Ji(n,1);i=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Qi(n)<2)break;const l=Ji(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Qi(n)<8)break;const l=Ji(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),p=d.getUint32(0);if(p>Math.pow(2,21)-1){a.enqueue(nu);break}s=p*Math.pow(2,32)+d.getUint32(4),r=3}else{if(Qi(n)<s)break;const l=Ji(n,s);a.enqueue(wc(i?l:Ya.decode(l),t)),r=0}if(s===0||s>e){a.enqueue(nu);break}}}})}const nm=4;function kt(e){if(e)return Ay(e)}function Ay(e){for(var t in kt.prototype)e[t]=kt.prototype[t];return e}kt.prototype.on=kt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};kt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};kt.prototype.off=kt.prototype.removeListener=kt.prototype.removeAllListeners=kt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};kt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};kt.prototype.emitReserved=kt.prototype.emit;kt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};kt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const pa=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),gn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Py="arraybuffer";function rm(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Ly=gn.setTimeout,zy=gn.clearTimeout;function ma(e,t){t.useNativeTimers?(e.setTimeoutFn=Ly.bind(gn),e.clearTimeoutFn=zy.bind(gn)):(e.setTimeoutFn=gn.setTimeout.bind(gn),e.clearTimeoutFn=gn.clearTimeout.bind(gn))}const Fy=1.33;function Dy(e){return typeof e=="string"?My(e):Math.ceil((e.byteLength||e.size)*Fy)}function My(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function sm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function By(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Uy(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class $y extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class bc extends kt{constructor(t){super(),this.writable=!1,ma(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new $y(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=wc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=By(t);return n.length?"?"+n:""}}class Wy extends bc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Ty(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Ry(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=sm()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let im=!1;try{im=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Hy=im;function Vy(){}class qy extends Wy{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class $n extends kt{constructor(t,n,r){super(),this.createRequest=t,ma(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=rm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=$n.requestsCount++,$n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Vy,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$n.requestsCount=0;$n.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Hd);else if(typeof addEventListener=="function"){const e="onpagehide"in gn?"pagehide":"unload";addEventListener(e,Hd,!1)}}function Hd(){for(let e in $n.requests)$n.requests.hasOwnProperty(e)&&$n.requests[e].abort()}const Ky=function(){const e=om({xdomain:!1});return e&&e.responseType!==null}();class Zy extends qy{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Ky&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new $n(om,this.uri(),t)}}function om(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Hy))return new XMLHttpRequest}catch{}if(!t)try{return new gn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const am=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Xy extends bc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=am?{}:rm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;xc(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&pa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=sm()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ga=gn.WebSocket||gn.MozWebSocket;class Yy extends Xy{createSocket(t,n,r){return am?new Ga(t,n,r):n?new Ga(t,n):new Ga(t)}doWrite(t,n){this.ws.send(n)}}class Gy extends bc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Iy(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Oy();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&pa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Qy={websocket:Yy,webtransport:Gy,polling:Zy},Jy=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ev=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ru(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Jy.exec(e||""),i={},o=14;for(;o--;)i[ev[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=tv(i,i.path),i.queryKey=nv(i,i.query),i}function tv(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function nv(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const su=typeof addEventListener=="function"&&typeof removeEventListener=="function",xo=[];su&&addEventListener("offline",()=>{xo.forEach(e=>e())},!1);class wr extends kt{constructor(t,n){if(super(),this.binaryType=Py,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=ru(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=ru(n.host).host);ma(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Uy(this.opts.query)),su&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},xo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=nm,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&wr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",wr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Dy(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,pa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(wr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),su&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=xo.indexOf(this._offlineEventListener);r!==-1&&xo.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}wr.protocol=nm;class rv extends wr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;wr.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",v=>{if(!r)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;wr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function i(){r||(r=!0,p(),n.close(),n=null)}const o=v=>{const x=new Error("probe error: "+v);x.transport=n.name,i(),this.emitReserved("upgradeError",x)};function a(){o("transport closed")}function l(){o("socket closed")}function d(v){n&&v.name!==n.name&&i()}const p=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let sv=class extends rv{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Qy[s]).filter(s=>!!s)),super(t,r)}};function iv(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=ru(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const ov=typeof ArrayBuffer=="function",av=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,lm=Object.prototype.toString,lv=typeof Blob=="function"||typeof Blob<"u"&&lm.call(Blob)==="[object BlobConstructor]",uv=typeof File=="function"||typeof File<"u"&&lm.call(File)==="[object FileConstructor]";function kc(e){return ov&&(e instanceof ArrayBuffer||av(e))||lv&&e instanceof Blob||uv&&e instanceof File}function wo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(wo(e[n]))return!0;return!1}if(kc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return wo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&wo(e[n]))return!0;return!1}function cv(e){const t=[],n=e.data,r=e;return r.data=iu(n,t),r.attachments=t.length,{packet:r,buffers:t}}function iu(e,t){if(!e)return e;if(kc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=iu(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=iu(e[r],t));return n}return e}function dv(e,t){return e.data=ou(e.data,t),delete e.attachments,e}function ou(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ou(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ou(e[n],t));return e}const fv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hv=5;var Xe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Xe||(Xe={}));class pv{constructor(t){this.replacer=t}encode(t){return(t.type===Xe.EVENT||t.type===Xe.ACK)&&wo(t)?this.encodeAsBinary({type:t.type===Xe.EVENT?Xe.BINARY_EVENT:Xe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Xe.BINARY_EVENT||t.type===Xe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=cv(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Vd(e){return Object.prototype.toString.call(e)==="[object Object]"}class _c extends kt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Xe.BINARY_EVENT;r||n.type===Xe.BINARY_ACK?(n.type=r?Xe.EVENT:Xe.ACK,this.reconstructor=new mv(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(kc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Xe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Xe.BINARY_EVENT||r.type===Xe.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(_c.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Xe.CONNECT:return Vd(n);case Xe.DISCONNECT:return n===void 0;case Xe.CONNECT_ERROR:return typeof n=="string"||Vd(n);case Xe.EVENT:case Xe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&fv.indexOf(n[0])===-1);case Xe.ACK:case Xe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mv{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=dv(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const gv=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_c,Encoder:pv,get PacketType(){return Xe},protocol:hv},Symbol.toStringTag,{value:"Module"}));function Nn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const yv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class um extends kt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Nn(t,"open",this.onopen.bind(this)),Nn(t,"packet",this.onpacket.bind(this)),Nn(t,"error",this.onerror.bind(this)),Nn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(yv.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Xe.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,v=n.pop();this._registerAckCallback(p,v),o.id=p}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Xe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Xe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Xe.EVENT:case Xe.BINARY_EVENT:this.onevent(t);break;case Xe.ACK:case Xe.BINARY_ACK:this.onack(t);break;case Xe.DISCONNECT:this.ondisconnect();break;case Xe.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Xe.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Xe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function js(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}js.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};js.prototype.reset=function(){this.attempts=0};js.prototype.setMin=function(e){this.ms=e};js.prototype.setMax=function(e){this.max=e};js.prototype.setJitter=function(e){this.jitter=e};class au extends kt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ma(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new js({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||gv;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new sv(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Nn(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Nn(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Nn(t,"ping",this.onping.bind(this)),Nn(t,"data",this.ondata.bind(this)),Nn(t,"error",this.onerror.bind(this)),Nn(t,"close",this.onclose.bind(this)),Nn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){pa(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new um(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const $s={};function bo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=iv(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=$s[s]&&i in $s[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new au(r,t):($s[s]||($s[s]=new au(r,t)),l=$s[s]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(bo,{Manager:au,Socket:um,io:bo,connect:bo});const vv={},qd=e=>{let t;const n=new Set,r=(p,v)=>{const x=typeof p=="function"?p(t):p;if(!Object.is(x,t)){const y=t;t=v??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(g=>g(t,y))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(vv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,l);return l},xv=e=>e?qd(e):qd;var cm={exports:{}},dm={},fm={exports:{}},hm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=F;function wv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bv=typeof Object.is=="function"?Object.is:wv,kv=_s.useState,_v=_s.useEffect,Sv=_s.useLayoutEffect,Cv=_s.useDebugValue;function Ev(e,t){var n=t(),r=kv({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Sv(function(){s.value=n,s.getSnapshot=t,Qa(s)&&i({inst:s})},[e,n,t]),_v(function(){return Qa(s)&&i({inst:s}),e(function(){Qa(s)&&i({inst:s})})},[e]),Cv(n),n}function Qa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bv(e,n)}catch{return!0}}function Nv(e,t){return t()}var jv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nv:Ev;hm.useSyncExternalStore=_s.useSyncExternalStore!==void 0?_s.useSyncExternalStore:jv;fm.exports=hm;var Rv=fm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=F,Tv=Rv;function Ov(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Iv=typeof Object.is=="function"?Object.is:Ov,Av=Tv.useSyncExternalStore,Pv=ga.useRef,Lv=ga.useEffect,zv=ga.useMemo,Fv=ga.useDebugValue;dm.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Pv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=zv(function(){function l(y){if(!d){if(d=!0,p=y,y=r(y),s!==void 0&&o.hasValue){var g=o.value;if(s(g,y))return v=g}return v=y}if(g=v,Iv(p,y))return g;var c=r(y);return s!==void 0&&s(g,c)?(p=y,g):(p=y,v=c)}var d=!1,p,v,x=n===void 0?null:n;return[function(){return l(t())},x===null?void 0:function(){return l(x())}]},[t,n,r,s]);var a=Av(e,i[0],i[1]);return Lv(function(){o.hasValue=!0,o.value=a},[a]),Fv(a),a};cm.exports=dm;var Dv=cm.exports;const Mv=Su(Dv),pm={},{useDebugValue:Bv}=Ve,{useSyncExternalStoreWithSelector:Uv}=Mv;let Kd=!1;const $v=e=>e;function Wv(e,t=$v,n){(pm?"production":void 0)!=="production"&&n&&!Kd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Kd=!0);const r=Uv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Bv(r),r}const Zd=e=>{(pm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?xv(e):e,n=(r,s)=>Wv(t,r,s);return Object.assign(n,t),n},Rs=e=>e?Zd(e):Zd,Wt=Rs(e=>({theme:"light",mobileView:"main",thumbnailHeight:200,isResizingPanels:!1,resizingSide:null,setTheme:t=>e({theme:t}),toggleTheme:()=>e(t=>({theme:t.theme==="light"?"dark":"light"})),setMobileView:t=>e({mobileView:t}),setThumbnailHeight:t=>e({thumbnailHeight:t}),setIsResizingPanels:t=>e({isResizingPanels:t}),setResizingSide:t=>e({resizingSide:t})})),Rn=Rs((e,t)=>({libraries:[],currentLibraryId:null,showAddLibraryForm:!1,expandLibrarySelector:!1,setLibraries:n=>e({libraries:n}),setCurrentLibrary:n=>e({currentLibraryId:n}),setShowAddLibraryForm:n=>e({showAddLibraryForm:n}),triggerExpandLibrarySelector:()=>e({expandLibrarySelector:!0}),resetExpandLibrarySelector:()=>e({expandLibrarySelector:!1}),addLibrary:n=>e(r=>({libraries:[...r.libraries,n]})),removeLibrary:n=>e(r=>({libraries:r.libraries.filter(s=>s.id!==n),currentLibraryId:r.currentLibraryId===n?null:r.currentLibraryId})),updateLibrary:(n,r)=>e(s=>({libraries:s.libraries.map(i=>i.id===n?{...i,...r}:i)})),getCurrentLibrary:()=>{const{libraries:n,currentLibraryId:r}=t();return n.find(s=>s.id===r)}})),Ee=Rs((e,t)=>({images:[],selectedImage:null,selectedImages:[],totalImageCount:0,totalSize:0,folders:[],selectedFolder:null,selectedFolderItem:null,searchKeywords:"",filters:{formats:[],sizes:[],orientations:[],ratings:[]},originalImages:[],imageLoadingState:{isLoading:!1,loadedCount:0,totalCount:0,hasMore:!1},renamingImage:null,setImages:n=>e({images:n}),setOriginalImages:n=>e({originalImages:n}),appendImages:n=>e(r=>({images:[...r.images,...n],originalImages:[...r.originalImages,...n]})),clearImages:()=>e({images:[],originalImages:[]}),setSelectedImage:n=>e({selectedImage:n}),setSelectedImages:n=>e({selectedImages:n}),toggleImageSelection:n=>e(r=>({selectedImages:r.selectedImages.some(i=>i.path===n.path)?r.selectedImages.filter(i=>i.path!==n.path):[...r.selectedImages,n]})),clearSelection:()=>e({selectedImages:[],selectedImage:null,selectedFolderItem:null}),setFolders:n=>e({folders:n}),setSelectedFolder:n=>e({selectedFolder:n}),setSelectedFolderItem:n=>e({selectedFolderItem:n}),setSearchKeywords:n=>e({searchKeywords:n}),setFilters:n=>e(r=>({filters:{...r.filters,...n}})),resetFilters:()=>e({searchKeywords:"",filters:{formats:[],sizes:[],orientations:[],ratings:[]}}),setTotalImageCount:n=>e({totalImageCount:n}),setTotalSize:n=>e({totalSize:n}),setImageLoadingState:n=>e(r=>({imageLoadingState:{...r.imageLoadingState,...n}})),setRenamingImage:n=>e({renamingImage:n}),updateImage:(n,r)=>e(s=>{var i;return{images:s.images.map(o=>o.path===n?{...o,...r}:o),selectedImage:((i=s.selectedImage)==null?void 0:i.path)===n?{...s.selectedImage,...r}:s.selectedImage}})})),or=Rs((e,t)=>({scanProgress:null,scanStartTime:null,setScanProgress:n=>e(r=>n&&!r.scanStartTime&&n.current>0?{scanProgress:n,scanStartTime:Date.now()}:n?{scanProgress:n}:{scanProgress:null,scanStartTime:null}),clearScanProgress:()=>e({scanProgress:null,scanStartTime:null}),getEstimatedTimeLeft:()=>{const{scanProgress:n,scanStartTime:r}=t();if(!n||!r||n.current===0)return null;const s=Date.now()-r,i=n.current/s,o=n.total-n.current;return Math.ceil(o/i/1e3)},isScanning:()=>{const{scanProgress:n}=t();return n&&n.status!=="preparing"}})),Hv="/api";class Ja extends Error{constructor(t,n,r){super(t),this.name="APIError",this.status=n,this.data=r}}function Sc(){return localStorage.getItem("flypic_token")}function mm(e){e?localStorage.setItem("flypic_token",e):localStorage.removeItem("flypic_token")}async function ji(e,t={}){var i;const n=Sc(),r={"Content-Type":"application/json",...t.headers};n&&(r.Authorization=`Bearer ${n}`);const s={headers:r,...t};try{const o=await fetch(`${Hv}${e}`,s),a=await o.json();if(!o.ok)throw o.status===401&&(e.includes("/auth/status")||(mm(null),window.dispatchEvent(new Event("auth:unauthorized")))),new Ja(((i=a.error)==null?void 0:i.message)||a.error||"Request failed",o.status,a);return a.data!==void 0?a.data:a}catch(o){throw o instanceof Ja?o:new Ja(o.message||"Network error",0,null)}}function Vv(e,t={}){return ji(e,{method:"GET",...t})}function qv(e,t,n={}){return ji(e,{method:"POST",body:JSON.stringify(t),...n})}function Kv(e,t,n={}){return ji(e,{method:"PUT",body:JSON.stringify(t),...n})}function Zv(e,t,n={}){return ji(e,{method:"PATCH",body:JSON.stringify(t),...n})}function Xv(e,t={}){return ji(e,{method:"DELETE",...t})}const tt={get:Vv,post:qv,put:Kv,patch:Zv,delete:Xv};async function Yv(){return tt.get("/library")}async function Gv(e,t){return tt.post("/library",{name:e,path:t})}async function Qv(e,t){return tt.put(`/library/${e}`,t)}async function gm(e,t=!0){return tt.delete(`/library/${e}?autoSelectNext=${t}`)}const Jv=gm;async function ex(e){return tt.post(`/library/${e}/set-current`)}async function tx(e){return tt.put("/library/preferences",e)}async function nx(e){return tt.put("/library/theme",{theme:e})}async function rx(e){return tt.get(`/library/${e}/validate`)}const sx=Object.freeze(Object.defineProperty({__proto__:null,add:Gv,deleteLibrary:Jv,getAll:Yv,remove:gm,setCurrent:ex,update:Qv,updatePreferences:tx,updateTheme:nx,validate:rx},Symbol.toStringTag,{value:"Module"}));async function ix(e,t={},n={}){const r=new URLSearchParams({libraryId:e,...t});return tt.get(`/image?${r}`,n)}async function ox(e){return tt.get(`/image/count?libraryId=${e}`)}async function ax(e){return tt.get(`/image/stats?libraryId=${e}`)}async function lx(e){return tt.get(`/image/folders?libraryId=${e}`)}async function ux(e){return tt.get(`/image/cache-meta?libraryId=${e}`)}function cx(e,t){return`/api/image/thumbnail/${e}/${t}`}function dx(e,t){return`/api/image/original/${e}/${t}`}async function fx(e,t){return tt.post(`/image/${e}/open-file`,{path:t})}async function hx(e,t,n){return tt.put("/image/rating",{libraryId:e,paths:Array.isArray(t)?t:[t],rating:n})}const px=Object.freeze(Object.defineProperty({__proto__:null,getCacheMeta:ux,getCount:ox,getFolders:lx,getOriginalUrl:dx,getStats:ax,getThumbnailUrl:cx,openInExplorer:fx,search:ix,updateRating:hx},Symbol.toStringTag,{value:"Module"}));async function mx(e,t=!1){return tt.post("/scan/full",{libraryId:e,wait:t})}async function gx(e,t=!1){return tt.post("/scan/sync",{libraryId:e,wait:t})}async function yx(e){return tt.get(`/scan/status/${e}`)}async function vx(e){return tt.post("/scan/fix-folders",{libraryId:e})}const xx=Object.freeze(Object.defineProperty({__proto__:null,fixFolders:vx,fullScan:mx,getStatus:yx,sync:gx},Symbol.toStringTag,{value:"Module"}));function ym(e,t){return function(){return e.apply(t,arguments)}}const{toString:wx}=Object.prototype,{getPrototypeOf:Cc}=Object,{iterator:ya,toStringTag:vm}=Symbol,va=(e=>t=>{const n=wx.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),An=e=>(e=e.toLowerCase(),t=>va(t)===e),xa=e=>t=>typeof t===e,{isArray:Ts}=Array,Ss=xa("undefined");function Ri(e){return e!==null&&!Ss(e)&&e.constructor!==null&&!Ss(e.constructor)&&Jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xm=An("ArrayBuffer");function bx(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xm(e.buffer),t}const kx=xa("string"),Jt=xa("function"),wm=xa("number"),Ti=e=>e!==null&&typeof e=="object",_x=e=>e===!0||e===!1,ko=e=>{if(va(e)!=="object")return!1;const t=Cc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(vm in e)&&!(ya in e)},Sx=e=>{if(!Ti(e)||Ri(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Cx=An("Date"),Ex=An("File"),Nx=An("Blob"),jx=An("FileList"),Rx=e=>Ti(e)&&Jt(e.pipe),Tx=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Jt(e.append)&&((t=va(e))==="formdata"||t==="object"&&Jt(e.toString)&&e.toString()==="[object FormData]"))},Ox=An("URLSearchParams"),[Ix,Ax,Px,Lx]=["ReadableStream","Request","Response","Headers"].map(An),zx=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ts(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ri(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function bm(e,t){if(Ri(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Ar=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,km=e=>!Ss(e)&&e!==Ar;function lu(){const{caseless:e,skipUndefined:t}=km(this)&&this||{},n={},r=(s,i)=>{const o=e&&bm(n,i)||i;ko(n[o])&&ko(s)?n[o]=lu(n[o],s):ko(s)?n[o]=lu({},s):Ts(s)?n[o]=s.slice():(!t||!Ss(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Oi(arguments[s],r);return n}const Fx=(e,t,n,{allOwnKeys:r}={})=>(Oi(t,(s,i)=>{n&&Jt(s)?e[i]=ym(s,n):e[i]=s},{allOwnKeys:r}),e),Dx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Mx=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Bx=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Cc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ux=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},$x=e=>{if(!e)return null;if(Ts(e))return e;let t=e.length;if(!wm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Wx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Cc(Uint8Array)),Hx=(e,t)=>{const r=(e&&e[ya]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Vx=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},qx=An("HTMLFormElement"),Kx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Xd=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Zx=An("RegExp"),_m=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Oi(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},Xx=e=>{_m(e,(t,n)=>{if(Jt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Jt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Yx=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ts(e)?r(e):r(String(e).split(t)),n},Gx=()=>{},Qx=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Jx(e){return!!(e&&Jt(e.append)&&e[vm]==="FormData"&&e[ya])}const e1=e=>{const t=new Array(10),n=(r,s)=>{if(Ti(r)){if(t.indexOf(r)>=0)return;if(Ri(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Ts(r)?[]:{};return Oi(r,(o,a)=>{const l=n(o,s+1);!Ss(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},t1=An("AsyncFunction"),n1=e=>e&&(Ti(e)||Jt(e))&&Jt(e.then)&&Jt(e.catch),Sm=((e,t)=>e?setImmediate:t?((n,r)=>(Ar.addEventListener("message",({source:s,data:i})=>{s===Ar&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ar.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Jt(Ar.postMessage)),r1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ar):typeof process<"u"&&process.nextTick||Sm,s1=e=>e!=null&&Jt(e[ya]),Q={isArray:Ts,isArrayBuffer:xm,isBuffer:Ri,isFormData:Tx,isArrayBufferView:bx,isString:kx,isNumber:wm,isBoolean:_x,isObject:Ti,isPlainObject:ko,isEmptyObject:Sx,isReadableStream:Ix,isRequest:Ax,isResponse:Px,isHeaders:Lx,isUndefined:Ss,isDate:Cx,isFile:Ex,isBlob:Nx,isRegExp:Zx,isFunction:Jt,isStream:Rx,isURLSearchParams:Ox,isTypedArray:Wx,isFileList:jx,forEach:Oi,merge:lu,extend:Fx,trim:zx,stripBOM:Dx,inherits:Mx,toFlatObject:Bx,kindOf:va,kindOfTest:An,endsWith:Ux,toArray:$x,forEachEntry:Hx,matchAll:Vx,isHTMLForm:qx,hasOwnProperty:Xd,hasOwnProp:Xd,reduceDescriptors:_m,freezeMethods:Xx,toObjectSet:Yx,toCamelCase:Kx,noop:Gx,toFiniteNumber:Qx,findKey:bm,global:Ar,isContextDefined:km,isSpecCompliantForm:Jx,toJSONObject:e1,isAsyncFn:t1,isThenable:n1,setImmediate:Sm,asap:r1,isIterable:s1};function We(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Q.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const Cm=We.prototype,Em={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Em[e]={value:e}});Object.defineProperties(We,Em);Object.defineProperty(Cm,"isAxiosError",{value:!0});We.from=(e,t,n,r,s,i)=>{const o=Object.create(Cm);Q.toFlatObject(e,o,function(p){return p!==Error.prototype},d=>d!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return We.call(o,a,l,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const i1=null;function uu(e){return Q.isPlainObject(e)||Q.isArray(e)}function Nm(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function Yd(e,t,n){return e?e.concat(t).map(function(s,i){return s=Nm(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function o1(e){return Q.isArray(e)&&!e.some(uu)}const a1=Q.toFlatObject(Q,{},null,function(t){return/^is[A-Z]/.test(t)});function wa(e,t,n){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(c,w){return!Q.isUndefined(w[c])});const r=n.metaTokens,s=n.visitor||p,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(s))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(Q.isDate(g))return g.toISOString();if(Q.isBoolean(g))return g.toString();if(!l&&Q.isBlob(g))throw new We("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(g)||Q.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function p(g,c,w){let f=g;if(g&&!w&&typeof g=="object"){if(Q.endsWith(c,"{}"))c=r?c:c.slice(0,-2),g=JSON.stringify(g);else if(Q.isArray(g)&&o1(g)||(Q.isFileList(g)||Q.endsWith(c,"[]"))&&(f=Q.toArray(g)))return c=Nm(c),f.forEach(function(b,_){!(Q.isUndefined(b)||b===null)&&t.append(o===!0?Yd([c],_,i):o===null?c:c+"[]",d(b))}),!1}return uu(g)?!0:(t.append(Yd(w,c,i),d(g)),!1)}const v=[],x=Object.assign(a1,{defaultVisitor:p,convertValue:d,isVisitable:uu});function y(g,c){if(!Q.isUndefined(g)){if(v.indexOf(g)!==-1)throw Error("Circular reference detected in "+c.join("."));v.push(g),Q.forEach(g,function(f,h){(!(Q.isUndefined(f)||f===null)&&s.call(t,f,Q.isString(h)?h.trim():h,c,x))===!0&&y(f,c?c.concat(h):[h])}),v.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Gd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ec(e,t){this._pairs=[],e&&wa(e,this,t)}const jm=Ec.prototype;jm.append=function(t,n){this._pairs.push([t,n])};jm.toString=function(t){const n=t?function(r){return t.call(this,r,Gd)}:Gd;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function l1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rm(e,t,n){if(!t)return e;const r=n&&n.encode||l1;Q.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=Q.isURLSearchParams(t)?t.toString():new Ec(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Qd{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Q.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Tm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},u1=typeof URLSearchParams<"u"?URLSearchParams:Ec,c1=typeof FormData<"u"?FormData:null,d1=typeof Blob<"u"?Blob:null,f1={isBrowser:!0,classes:{URLSearchParams:u1,FormData:c1,Blob:d1},protocols:["http","https","file","blob","url","data"]},Nc=typeof window<"u"&&typeof document<"u",cu=typeof navigator=="object"&&navigator||void 0,h1=Nc&&(!cu||["ReactNative","NativeScript","NS"].indexOf(cu.product)<0),p1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",m1=Nc&&window.location.href||"http://localhost",g1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nc,hasStandardBrowserEnv:h1,hasStandardBrowserWebWorkerEnv:p1,navigator:cu,origin:m1},Symbol.toStringTag,{value:"Module"})),Ft={...g1,...f1};function y1(e,t){return wa(e,new Ft.classes.URLSearchParams,{visitor:function(n,r,s,i){return Ft.isNode&&Q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function v1(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function x1(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Om(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&Q.isArray(s)?s.length:o,l?(Q.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!Q.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&Q.isArray(s[o])&&(s[o]=x1(s[o])),!a)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const n={};return Q.forEachEntry(e,(r,s)=>{t(v1(r),s,n,0)}),n}return null}function w1(e,t,n){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ii={transitional:Tm,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Q.isObject(t);if(i&&Q.isHTMLForm(t)&&(t=new FormData(t)),Q.isFormData(t))return s?JSON.stringify(Om(t)):t;if(Q.isArrayBuffer(t)||Q.isBuffer(t)||Q.isStream(t)||Q.isFile(t)||Q.isBlob(t)||Q.isReadableStream(t))return t;if(Q.isArrayBufferView(t))return t.buffer;if(Q.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return y1(t,this.formSerializer).toString();if((a=Q.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return wa(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),w1(t)):t}],transformResponse:[function(t){const n=this.transitional||Ii.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Q.isResponse(t)||Q.isReadableStream(t))return t;if(t&&Q.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?We.from(a,We.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{Ii.headers[e]={}});const b1=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k1=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&b1[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Jd=Symbol("internals");function Ws(e){return e&&String(e).trim().toLowerCase()}function _o(e){return e===!1||e==null?e:Q.isArray(e)?e.map(_o):String(e)}function _1(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const S1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function el(e,t,n,r,s){if(Q.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!Q.isString(t)){if(Q.isString(r))return t.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(t)}}function C1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function E1(e,t){const n=Q.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let en=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,d){const p=Ws(l);if(!p)throw new Error("header name must be a non-empty string");const v=Q.findKey(s,p);(!v||s[v]===void 0||d===!0||d===void 0&&s[v]!==!1)&&(s[v||l]=_o(a))}const o=(a,l)=>Q.forEach(a,(d,p)=>i(d,p,l));if(Q.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Q.isString(t)&&(t=t.trim())&&!S1(t))o(k1(t),n);else if(Q.isObject(t)&&Q.isIterable(t)){let a={},l,d;for(const p of t){if(!Q.isArray(p))throw TypeError("Object iterator must return a key-value pair");a[d=p[0]]=(l=a[d])?Q.isArray(l)?[...l,p[1]]:[l,p[1]]:p[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Ws(t),t){const r=Q.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return _1(s);if(Q.isFunction(n))return n.call(this,s,r);if(Q.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ws(t),t){const r=Q.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||el(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Ws(o),o){const a=Q.findKey(r,o);a&&(!n||el(r,r[a],a,n))&&(delete r[a],s=!0)}}return Q.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||el(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return Q.forEach(this,(s,i)=>{const o=Q.findKey(r,i);if(o){n[o]=_o(s),delete n[i];return}const a=t?C1(i):String(i).trim();a!==i&&delete n[i],n[a]=_o(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Q.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&Q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Jd]=this[Jd]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ws(o);r[a]||(E1(s,o),r[a]=!0)}return Q.isArray(t)?t.forEach(i):i(t),this}};en.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(en.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Q.freezeMethods(en);function tl(e,t){const n=this||Ii,r=t||n,s=en.from(r.headers);let i=r.data;return Q.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Im(e){return!!(e&&e.__CANCEL__)}function Os(e,t,n){We.call(this,e??"canceled",We.ERR_CANCELED,t,n),this.name="CanceledError"}Q.inherits(Os,We,{__CANCEL__:!0});function Am(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function N1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function j1(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),p=r[i];o||(o=d),n[s]=l,r[s]=d;let v=i,x=0;for(;v!==s;)x+=n[v++],v=v%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<t)return;const y=p&&d-p;return y?Math.round(x*1e3/y):void 0}}function R1(e,t){let n=0,r=1e3/t,s,i;const o=(d,p=Date.now())=>{n=p,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const p=Date.now(),v=p-n;v>=r?o(d,p):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},r-v)))},()=>s&&o(s)]}const Yo=(e,t,n=3)=>{let r=0;const s=j1(50,250);return R1(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,d=s(l),p=o<=a;r=o;const v={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&p?(a-o)/d:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(v)},n)},ef=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},tf=e=>(...t)=>Q.asap(()=>e(...t)),T1=Ft.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ft.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ft.origin),Ft.navigator&&/(msie|trident)/i.test(Ft.navigator.userAgent)):()=>!0,O1=Ft.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];Q.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),Q.isString(r)&&a.push(`path=${r}`),Q.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),Q.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function I1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function A1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Pm(e,t,n){let r=!I1(t);return e&&(r||n==!1)?A1(e,t):t}const nf=e=>e instanceof en?{...e}:e;function $r(e,t){t=t||{};const n={};function r(d,p,v,x){return Q.isPlainObject(d)&&Q.isPlainObject(p)?Q.merge.call({caseless:x},d,p):Q.isPlainObject(p)?Q.merge({},p):Q.isArray(p)?p.slice():p}function s(d,p,v,x){if(Q.isUndefined(p)){if(!Q.isUndefined(d))return r(void 0,d,v,x)}else return r(d,p,v,x)}function i(d,p){if(!Q.isUndefined(p))return r(void 0,p)}function o(d,p){if(Q.isUndefined(p)){if(!Q.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function a(d,p,v){if(v in t)return r(d,p);if(v in e)return r(void 0,d)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,p,v)=>s(nf(d),nf(p),v,!0)};return Q.forEach(Object.keys({...e,...t}),function(p){const v=l[p]||s,x=v(e[p],t[p],p);Q.isUndefined(x)&&v!==a||(n[p]=x)}),n}const Lm=e=>{const t=$r({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=en.from(o),t.url=Rm(Pm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Q.isFormData(n)){if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Q.isFunction(n.getHeaders)){const l=n.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([p,v])=>{d.includes(p.toLowerCase())&&o.set(p,v)})}}if(Ft.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(t)),r||r!==!1&&T1(t.url))){const l=s&&i&&O1.read(i);l&&o.set(s,l)}return t},P1=typeof XMLHttpRequest<"u",L1=P1&&function(e){return new Promise(function(n,r){const s=Lm(e);let i=s.data;const o=en.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:d}=s,p,v,x,y,g;function c(){y&&y(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function f(){if(!w)return;const b=en.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:b,config:e,request:w};Am(function(j){n(j),c()},function(j){r(j),c()},S),w=null}"onloadend"in w?w.onloadend=f:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(f)},w.onabort=function(){w&&(r(new We("Request aborted",We.ECONNABORTED,e,w)),w=null)},w.onerror=function(_){const S=_&&_.message?_.message:"Network Error",T=new We(S,We.ERR_NETWORK,e,w);T.event=_||null,r(T),w=null},w.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const S=s.transitional||Tm;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),r(new We(_,S.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,e,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&Q.forEach(o.toJSON(),function(_,S){w.setRequestHeader(S,_)}),Q.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),a&&a!=="json"&&(w.responseType=s.responseType),d&&([x,g]=Yo(d,!0),w.addEventListener("progress",x)),l&&w.upload&&([v,y]=Yo(l),w.upload.addEventListener("progress",v),w.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(p=b=>{w&&(r(!b||b.type?new Os(null,e,w):b),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const h=N1(s.url);if(h&&Ft.protocols.indexOf(h)===-1){r(new We("Unsupported protocol "+h+":",We.ERR_BAD_REQUEST,e));return}w.send(i||null)})},z1=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(d){if(!s){s=!0,a();const p=d instanceof Error?d:this.reason;r.abort(p instanceof We?p:new Os(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,i(new We(`timeout ${t} of ms exceeded`,We.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>Q.asap(a),l}},F1=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},D1=async function*(e,t){for await(const n of M1(e))yield*F1(n,t)},M1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},rf=(e,t,n,r)=>{const s=D1(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:d,value:p}=await s.next();if(d){a(),l.close();return}let v=p.byteLength;if(n){let x=i+=v;n(x)}l.enqueue(new Uint8Array(p))}catch(d){throw a(d),d}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},sf=64*1024,{isFunction:eo}=Q,B1=(({Request:e,Response:t})=>({Request:e,Response:t}))(Q.global),{ReadableStream:of,TextEncoder:af}=Q.global,lf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},U1=e=>{e=Q.merge.call({skipUndefined:!0},B1,e);const{fetch:t,Request:n,Response:r}=e,s=t?eo(t):typeof fetch=="function",i=eo(n),o=eo(r);if(!s)return!1;const a=s&&eo(of),l=s&&(typeof af=="function"?(g=>c=>g.encode(c))(new af):async g=>new Uint8Array(await new n(g).arrayBuffer())),d=i&&a&&lf(()=>{let g=!1;const c=new n(Ft.origin,{body:new of,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!c}),p=o&&a&&lf(()=>Q.isReadableStream(new r("").body)),v={stream:p&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!v[g]&&(v[g]=(c,w)=>{let f=c&&c[g];if(f)return f.call(c);throw new We(`Response type '${g}' is not supported`,We.ERR_NOT_SUPPORT,w)})});const x=async g=>{if(g==null)return 0;if(Q.isBlob(g))return g.size;if(Q.isSpecCompliantForm(g))return(await new n(Ft.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(g)||Q.isArrayBuffer(g))return g.byteLength;if(Q.isURLSearchParams(g)&&(g=g+""),Q.isString(g))return(await l(g)).byteLength},y=async(g,c)=>{const w=Q.toFiniteNumber(g.getContentLength());return w??x(c)};return async g=>{let{url:c,method:w,data:f,signal:h,cancelToken:b,timeout:_,onDownloadProgress:S,onUploadProgress:T,responseType:j,headers:L,withCredentials:O="same-origin",fetchOptions:D}=Lm(g),le=t||fetch;j=j?(j+"").toLowerCase():"text";let R=z1([h,b&&b.toAbortSignal()],_),Z=null;const k=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let U;try{if(T&&d&&w!=="get"&&w!=="head"&&(U=await y(L,f))!==0){let P=new n(c,{method:"POST",body:f,duplex:"half"}),A;if(Q.isFormData(f)&&(A=P.headers.get("content-type"))&&L.setContentType(A),P.body){const[ie,J]=ef(U,Yo(tf(T)));f=rf(P.body,sf,ie,J)}}Q.isString(O)||(O=O?"include":"omit");const re=i&&"credentials"in n.prototype,Y={...D,signal:R,method:w.toUpperCase(),headers:L.normalize().toJSON(),body:f,duplex:"half",credentials:re?O:void 0};Z=i&&new n(c,Y);let B=await(i?le(Z,D):le(c,Y));const M=p&&(j==="stream"||j==="response");if(p&&(S||M&&k)){const P={};["status","statusText","headers"].forEach(oe=>{P[oe]=B[oe]});const A=Q.toFiniteNumber(B.headers.get("content-length")),[ie,J]=S&&ef(A,Yo(tf(S),!0))||[];B=new r(rf(B.body,sf,ie,()=>{J&&J(),k&&k()}),P)}j=j||"text";let te=await v[Q.findKey(v,j)||"text"](B,g);return!M&&k&&k(),await new Promise((P,A)=>{Am(P,A,{data:te,headers:en.from(B.headers),status:B.status,statusText:B.statusText,config:g,request:Z})})}catch(re){throw k&&k(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,g,Z),{cause:re.cause||re}):We.from(re,re&&re.code,g,Z)}}},$1=new Map,zm=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,l,d,p=$1;for(;a--;)l=i[a],d=p.get(l),d===void 0&&p.set(l,d=a?new Map:U1(t)),p=d;return d};zm();const jc={http:i1,xhr:L1,fetch:{get:zm}};Q.forEach(jc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uf=e=>`- ${e}`,W1=e=>Q.isFunction(e)||e===null||e===!1;function H1(e,t){e=Q.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!W1(r)&&(s=jc[(a=String(r)).toLowerCase()],s===void 0))throw new We(`Unknown adapter '${a}'`);if(s&&(Q.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(uf).join(`
`):" "+uf(o[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Fm={getAdapter:H1,adapters:jc};function nl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Os(null,e)}function cf(e){return nl(e),e.headers=en.from(e.headers),e.data=tl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Fm.getAdapter(e.adapter||Ii.adapter,e)(e).then(function(r){return nl(e),r.data=tl.call(e,e.transformResponse,r),r.headers=en.from(r.headers),r},function(r){return Im(r)||(nl(e),r&&r.response&&(r.response.data=tl.call(e,e.transformResponse,r.response),r.response.headers=en.from(r.response.headers))),Promise.reject(r)})}const Dm="1.13.2",ba={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ba[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const df={};ba.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Dm+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new We(s(o," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!df[o]&&(df[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};ba.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function V1(e,t,n){if(typeof e!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new We("option "+i+" must be "+l,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+i,We.ERR_BAD_OPTION)}}const So={assertOptions:V1,validators:ba},zn=So.validators;let zr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Qd,response:new Qd}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=$r(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&So.assertOptions(r,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),s!=null&&(Q.isFunction(s)?n.paramsSerializer={serialize:s}:So.assertOptions(s,{encode:zn.function,serialize:zn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),So.assertOptions(n,{baseUrl:zn.spelling("baseURL"),withXsrfToken:zn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Q.merge(i.common,i[n.method]);i&&Q.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=en.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(c){typeof c.runWhen=="function"&&c.runWhen(n)===!1||(l=l&&c.synchronous,a.unshift(c.fulfilled,c.rejected))});const d=[];this.interceptors.response.forEach(function(c){d.push(c.fulfilled,c.rejected)});let p,v=0,x;if(!l){const g=[cf.bind(this),void 0];for(g.unshift(...a),g.push(...d),x=g.length,p=Promise.resolve(n);v<x;)p=p.then(g[v++],g[v++]);return p}x=a.length;let y=n;for(;v<x;){const g=a[v++],c=a[v++];try{y=g(y)}catch(w){c.call(this,w);break}}try{p=cf.call(this,y)}catch(g){return Promise.reject(g)}for(v=0,x=d.length;v<x;)p=p.then(d[v++],d[v++]);return p}getUri(t){t=$r(this.defaults,t);const n=Pm(t.baseURL,t.url,t.allowAbsoluteUrls);return Rm(n,t.params,t.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(t){zr.prototype[t]=function(n,r){return this.request($r(r||{},{method:t,url:n,data:(r||{}).data}))}});Q.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request($r(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}zr.prototype[t]=n(),zr.prototype[t+"Form"]=n(!0)});let q1=class Mm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Os(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Mm(function(s){t=s}),cancel:t}}};function K1(e){return function(n){return e.apply(null,n)}}function Z1(e){return Q.isObject(e)&&e.isAxiosError===!0}const du={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(du).forEach(([e,t])=>{du[t]=e});function Bm(e){const t=new zr(e),n=ym(zr.prototype.request,t);return Q.extend(n,zr.prototype,t,{allOwnKeys:!0}),Q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Bm($r(e,s))},n}const xt=Bm(Ii);xt.Axios=zr;xt.CanceledError=Os;xt.CancelToken=q1;xt.isCancel=Im;xt.VERSION=Dm;xt.toFormData=wa;xt.AxiosError=We;xt.Cancel=xt.CanceledError;xt.all=function(t){return Promise.all(t)};xt.spread=K1;xt.isAxiosError=Z1;xt.mergeConfig=$r;xt.AxiosHeaders=en;xt.formToJSON=e=>Om(Q.isHTMLForm(e)?new FormData(e):e);xt.getAdapter=Fm.getAdapter;xt.HttpStatusCode=du;xt.default=xt;const{Axios:y2,AxiosError:v2,CanceledError:x2,isCancel:w2,CancelToken:b2,VERSION:k2,all:_2,Cancel:S2,isAxiosError:C2,spread:E2,toFormData:N2,AxiosHeaders:j2,HttpStatusCode:R2,formToJSON:T2,getAdapter:O2,mergeConfig:I2}=xt,X1="/api",Kt={async delete(e,t){return tt.delete("/file/delete",{body:JSON.stringify({libraryId:e,items:t}),headers:{"Content-Type":"application/json"}})},async rename(e,t,n){return tt.patch("/file/rename",{libraryId:e,path:t,newName:n})},async move(e,t,n){return tt.post("/file/move",{libraryId:e,items:t,targetFolder:n})},async copy(e,t,n,r="rename"){return tt.post("/file/copy",{libraryId:e,items:t,targetFolder:n,conflictAction:r})},async updateMetadata(e,t,n){return tt.patch("/file/metadata",{libraryId:e,path:t,...n})},async restore(e,t){return tt.post("/file/restore",{libraryId:e,items:t})},async createFolder(e,t){return tt.post("/file/create-folder",{libraryId:e,folderPath:t})},async upload(e,t,n,r,s){const i=new FormData;i.append("libraryId",e),t&&i.append("targetFolder",t),s&&i.append("conflictAction",s);for(const d of n)i.append("files",d);const o=Sc(),a={};return o&&(a.Authorization=`Bearer ${o}`),(await xt.post(`${X1}/upload`,i,{headers:a,onUploadProgress:r})).data}},Lt=sx,De=px,br=xx;function Um(){const e=Wt(r=>r.theme),t=Wt(r=>r.setTheme);return F.useEffect(()=>{const r=document.documentElement;e==="dark"?r.classList.add("dark"):r.classList.remove("dark")},[e]),{theme:e,toggleTheme:async()=>{const r=e==="light"?"dark":"light";t(r);try{await Lt.updateTheme(r)}catch(s){console.error(":",s)}}}}class Y1{constructor(){this.blobUrls=new Set,this.eventListeners=new Map,this.pendingLoads=new Set}registerBlobUrl(t){t&&t.startsWith("blob:")&&this.blobUrls.add(t)}revokeBlobUrl(t){if(t&&t.startsWith("blob:"))try{URL.revokeObjectURL(t),this.blobUrls.delete(t)}catch(n){console.warn("[DOMCleanup] Failed to revoke blob URL:",n)}}revokeAllBlobUrls(){let t=0;for(const n of this.blobUrls)try{URL.revokeObjectURL(n),t++}catch(r){console.warn("[DOMCleanup] Failed to revoke blob URL:",r)}this.blobUrls.clear(),t>0&&console.log(`[DOMCleanup] Revoked ${t} blob URLs`)}clearImageSources(t){if(!t)return;const n=t.querySelectorAll("img");let r=0;n.forEach(s=>{s.src&&(s.src.startsWith("blob:")&&this.revokeBlobUrl(s.src),s.src="",r++)}),r>0&&console.log(`[DOMCleanup] Cleared ${r} image sources`)}registerEventListener(t,n,r){this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push({event:n,handler:r})}removeEventListeners(t){const n=this.eventListeners.get(t);n&&(n.forEach(({event:r,handler:s})=>{try{t.removeEventListener(r,s)}catch(i){console.warn("[DOMCleanup] Failed to remove event listener:",i)}}),this.eventListeners.delete(t))}removeAllEventListeners(){let t=0;for(const[n,r]of this.eventListeners.entries())r.forEach(({event:s,handler:i})=>{try{n.removeEventListener(s,i),t++}catch(o){console.warn("[DOMCleanup] Failed to remove event listener:",o)}});this.eventListeners.clear(),t>0&&console.log(`[DOMCleanup] Removed ${t} event listeners`)}registerPendingLoad(t){this.pendingLoads.add(t)}cancelPendingLoad(t){if(this.pendingLoads.has(t))try{t.abort(),this.pendingLoads.delete(t)}catch(n){console.warn("[DOMCleanup] Failed to cancel pending load:",n)}}cancelPendingLoads(){let t=0;for(const n of this.pendingLoads)try{n.abort(),t++}catch(r){console.warn("[DOMCleanup] Failed to cancel pending load:",r)}this.pendingLoads.clear(),t>0&&console.log(`[DOMCleanup] Cancelled ${t} pending loads`)}suggestGarbageCollection(){try{new Array(1e3).fill(new Array(1e3).fill(0)).length>0}catch{}window.requestIdleCallback&&window.requestIdleCallback(()=>{})}cleanup(){console.log("[DOMCleanup] Performing complete cleanup..."),this.revokeAllBlobUrls(),this.removeAllEventListeners(),this.cancelPendingLoads(),this.suggestGarbageCollection(),console.log("[DOMCleanup] Cleanup complete")}getStatus(){return{blobUrls:this.blobUrls.size,eventListeners:this.eventListeners.size,pendingLoads:this.pendingLoads.size}}}const fu=new Y1;/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ye=(e,t)=>{const n=F.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...d},p)=>F.createElement("svg",{ref:p,...G1,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Q1(e)}`,a].join(" "),...d},[...t.map(([v,x])=>F.createElement(v,x)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Ye("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Ye("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Ye("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Ye("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Ye("FolderDown",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Ye("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Ye("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Ye("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Ye("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Ye("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Ye("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Ye("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Ye("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Ye("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Ye("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ki={LIBRARY:"library",FOLDER:"folder",IMAGES:"images"};let xf=0;const gw=()=>(xf+=1,`req_${Date.now()}_${xf}`);class yw{constructor(){this.activeRequests=new Map,this.requestContexts=new Map}createRequest(t){const n=gw(),r=new AbortController,s={id:n,type:t,createdAt:Date.now(),abortController:r,signal:r.signal,status:"pending",isActive:!0,cancel:()=>{if(s.isActive){s.isActive=!1,s.status="cancelled",r.abort(),this.requestContexts.delete(n);const i=this.activeRequests.get(t);i&&i.delete(n)}}};return this.requestContexts.set(n,s),this.activeRequests.has(t)||this.activeRequests.set(t,new Map),this.activeRequests.get(t).set(n,s),s}cancelAll(t){const n=this.activeRequests.get(t);if(n){for(const r of n.values())r.cancel();n.clear()}}cancelAllRequests(){for(const t of Object.values(ki))this.cancelAll(t)}isValid(t){const n=this.requestContexts.get(t);return n?n.isActive:!1}complete(t){const n=this.requestContexts.get(t);if(n&&n.isActive){n.status="completed",n.isActive=!1,this.requestContexts.delete(t);const r=this.activeRequests.get(n.type);r&&r.delete(t)}}error(t){const n=this.requestContexts.get(t);if(n&&n.isActive){n.status="error",n.isActive=!1,this.requestContexts.delete(t);const r=this.activeRequests.get(n.type);r&&r.delete(t)}}getActiveCount(t){const n=this.activeRequests.get(t);return n?n.size:0}hasActiveRequests(t){return this.getActiveCount(t)>0}}const yn=new yw;function gu(){yn.cancelAll(ki.IMAGES)}function vw(e){e&&setTimeout(()=>{},300)}function yu({isOpen:e,libraryName:t,libraryPath:n,status:r,onRescan:s,onOpenOther:i,onCreateNew:o}){if(!e)return null;const a=r==="missing_index",l=a?"":"";return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsx("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden",children:u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"flex-1 p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx($m,{className:"w-6 h-6 text-yellow-500"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l})]}),u.jsx("div",{className:"text-gray-600 dark:text-gray-300 mb-6 space-y-2",children:a?u.jsxs(u.Fragment,{children:[u.jsxs("p",{children:[" ",u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t})," "]}),u.jsxs("p",{children:[": ",u.jsx("span",{className:"text-blue-500 break-all",children:n})]}),u.jsx("p",{className:"text-sm text-gray-500",children:""})]}):u.jsxs(u.Fragment,{children:[u.jsxs("p",{children:["(",u.jsx("span",{className:"text-blue-500 break-all",children:n}),") "]}),u.jsxs("p",{children:[""," ",u.jsx("button",{onClick:i,className:"text-blue-500 hover:text-blue-600 hover:underline",children:""})," ",""]})]})}),u.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:a?":":":"}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[a&&u.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[u.jsx(pu,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2.5 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[u.jsx(iw,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:o,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-colors ${a?"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[u.jsx(pw,{className:"w-4 h-4"}),""]})]})]}),u.jsx("div",{className:"hidden md:flex items-center justify-center w-48 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-700 dark:to-gray-600",children:u.jsx("div",{className:"relative",children:u.jsxs("svg",{className:"w-32 h-32",viewBox:"0 0 128 128",fill:"none",children:[u.jsx("path",{d:"M64 20L20 55V108H108V55L64 20Z",className:"fill-blue-200 dark:fill-blue-900"}),u.jsx("path",{d:"M64 20L20 55V108H108V55L64 20Z",className:"stroke-blue-400 dark:stroke-blue-600",strokeWidth:"3",fill:"none"}),u.jsx("rect",{x:"52",y:"70",width:"24",height:"38",className:"fill-blue-300 dark:fill-blue-800"}),u.jsx("rect",{x:"30",y:"65",width:"16",height:"16",className:"fill-yellow-200 dark:fill-yellow-900"}),u.jsx("rect",{x:"82",y:"65",width:"16",height:"16",className:"fill-yellow-200 dark:fill-yellow-900"}),u.jsx("path",{d:"M100 30L110 48H90L100 30Z",className:"fill-yellow-400"}),u.jsx("text",{x:"100",y:"45",textAnchor:"middle",className:"fill-yellow-800 text-xs font-bold",children:"!"})]})})})]})})})}function Vm({isOpen:e,position:t,onClose:n,options:r}){const s=F.useRef(null);if(F.useEffect(()=>{if(!e)return;const d=v=>{s.current&&!s.current.contains(v.target)&&n()},p=v=>{v.key==="Escape"&&n()};return document.addEventListener("mousedown",d),document.addEventListener("keydown",p),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",p)}},[e,n]),!e||!t)return null;const o=(()=>{const p=r.length*40+16,v=window.innerWidth,x=window.innerHeight;let y=t.x,g=t.y;return y+200>v&&(y=v-200-10),g+p>x&&(g=t.y-p,g<0&&(g=x-p-10)),y=Math.max(10,y),g=Math.max(10,g),{left:y,top:g}})(),a={left:`${o.left}px`,top:`${o.top}px`},l=d=>{d(),n()};return u.jsx("div",{ref:s,className:"fixed z-50 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-2 min-w-[200px]",style:a,children:r.map((d,p)=>u.jsx("div",{children:d.divider?u.jsx("div",{className:"my-2 border-t border-gray-200 dark:border-gray-700"}):u.jsxs("button",{onClick:()=>l(d.action),disabled:d.disabled,className:`
                w-full flex items-center gap-3 px-4 py-2 text-left text-sm
                ${d.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"}
                ${d.danger?"text-red-600 dark:text-red-400":"text-gray-700 dark:text-gray-300"}
              `,children:[d.icon,u.jsx("span",{className:"flex-1",children:d.label}),d.shortcut&&u.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:d.shortcut})]})},p))})}const Dn={delete:e=>({icon:u.jsx(Hm,{size:16}),label:"",shortcut:"Del",danger:!1,action:e}),rename:e=>({icon:u.jsx(fw,{size:16}),label:"",shortcut:"F2",action:e}),move:e=>({icon:u.jsx(uw,{size:16}),label:"",action:e}),copy:e=>({icon:u.jsx(Co,{size:16}),label:"",shortcut:"Ctrl+C",action:e}),newSiblingFolder:e=>({icon:u.jsx(mf,{size:16}),label:"",action:e}),newSubFolder:e=>({icon:u.jsx(mf,{size:16}),label:"",action:e}),divider:()=>({divider:!0})};function qm({isVisible:e,message:t,onUndo:n,onClose:r,duration:s=3e3}){return F.useEffect(()=>{if(!e)return;const i=setTimeout(()=>{r()},s);return()=>clearTimeout(i)},[e,t,s,r]),e?u.jsx("div",{className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:u.jsxs("div",{className:"bg-gray-900 dark:bg-gray-800 text-white rounded-lg shadow-2xl px-4 py-3 flex items-center gap-4 min-w-[300px]",children:[u.jsx("span",{className:"flex-1 text-sm",children:t}),u.jsxs("button",{onClick:n,className:"flex items-center gap-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded transition-colors text-sm font-medium",children:[u.jsx(mw,{size:14}),""]}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:u.jsx(Ai,{size:18})})]})}):null}function Km({folders:e,currentFolder:t,onSelect:n,onClose:r}){const[s,i]=F.useState(new Set),[o,a]=F.useState(t||null),l=F.useRef(null),d=F.useRef(null);F.useEffect(()=>{if(t&&t!==""){const c=new Set,w=t.split("/");for(let f=0;f<w.length-1;f++){const h=w.slice(0,f+1).join("/");c.add(h)}console.log(" :",Array.from(c)),console.log(` : ${t}`),i(c)}},[t]),F.useEffect(()=>{if(l.current&&d.current){const c=l.current,w=d.current;if(c&&w){const f=c.getBoundingClientRect(),h=w.getBoundingClientRect(),b=c.offsetTop-w.offsetTop-h.height/2+f.height/2;w.scrollTop=b,console.log(` : ${t}`)}}},[s,t]);const p=c=>{i(w=>{const f=new Set(w);return f.has(c)?f.delete(c):f.add(c),f})},v=c=>{const w=c.children&&c.children.length>0;o!==c.path?a(c.path):w&&p(c.path)},x=(c,w)=>{c.stopPropagation(),p(w)},y=()=>{o!==null&&n(o)},g=(c,w=0)=>c.map(f=>{const h=s.has(f.path),b=f.children&&f.children.length>0,_=o===f.path,S=t===f.path,T=S;return u.jsxs("div",{children:[u.jsxs("div",{ref:S?l:null,className:`flex items-center px-3 py-2 cursor-pointer rounded-md transition-colors ${T?"opacity-50 cursor-not-allowed bg-gray-100 dark:bg-gray-700":_?"bg-blue-500 dark:bg-blue-600":"hover:bg-blue-50 dark:hover:bg-gray-700"}`,style:{paddingLeft:`${w*16+12}px`},onClick:()=>!T&&v(f),children:[b?u.jsx("div",{className:"flex items-center justify-center w-5 h-5 mr-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 rounded",onClick:j=>x(j,f.path),children:h?u.jsx(hu,{className:"w-4 h-4"}):u.jsx(Wm,{className:"w-4 h-4"})}):u.jsx("div",{className:"w-5 mr-1"}),u.jsx(Yn,{className:`w-4 h-4 mr-2 flex-shrink-0 ${_?"text-white":"text-yellow-500 dark:text-yellow-400"}`}),u.jsx("span",{className:`text-sm truncate flex-1 font-medium ${_?"text-white":"text-gray-900 dark:text-gray-100"}`,children:f.name}),S&&u.jsx("span",{className:`text-xs ml-2 ${_?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:"()"})]}),b&&h&&u.jsx("div",{children:g(f.children,w+1)})]},f.path)});return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-[500px] max-h-[600px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:""}),u.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:u.jsx(Ai,{className:"w-5 h-5"})})]}),u.jsxs("div",{ref:d,className:"flex-1 overflow-y-auto p-4",children:[u.jsxs("div",{className:`flex items-center px-3 py-2 cursor-pointer rounded-md transition-colors mb-2 ${o===""?"bg-blue-500 dark:bg-blue-600":"hover:bg-blue-50 dark:hover:bg-gray-700"}`,onClick:()=>a(""),children:[u.jsx(aw,{className:`w-4 h-4 mr-2 ${o===""?"text-white":"text-blue-500 dark:text-blue-400"}`}),u.jsx("span",{className:`text-sm font-medium ${o===""?"text-white":"text-gray-900 dark:text-gray-100"}`,children:""})]}),e&&e.length>0?g(e):u.jsx("div",{className:"text-center text-gray-500 py-8",children:""})]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:""}),u.jsx("button",{onClick:y,disabled:o===null,className:"px-4 py-2 text-sm text-white bg-blue-500 hover:bg-blue-600 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})})}const xw=async e=>{try{const t=await br.getStatus(e);return t.data||t}catch{return null}};function wf(){var nn;const{libraries:e,currentLibraryId:t,setCurrentLibrary:n,addLibrary:r,removeLibrary:s,showAddLibraryForm:i,setShowAddLibraryForm:o,expandLibrarySelector:a,resetExpandLibrarySelector:l}=Rn(),{folders:d,selectedFolder:p,totalImageCount:v,setSelectedFolder:x,setSelectedFolderItem:y}=Ee(),{isScanning:g}=or(),[c,w]=F.useState(!1),[f,h]=F.useState(""),[b,_]=F.useState(""),[S,T]=F.useState(""),[j,L]=F.useState(""),[O,D]=F.useState(new Set),[le,R]=F.useState(!1),[Z,k]=F.useState(!1),[U,re]=F.useState(null),[Y,B]=F.useState(!1),[M,te]=F.useState({isOpen:!1,position:null,folder:null}),[P,A]=F.useState({isVisible:!1,message:"",count:0}),[ie,J]=F.useState([]),[oe,_e]=F.useState(null),[ae,ce]=F.useState(!1),[be,Te]=F.useState(null),[Ce,He]=F.useState(null),[Be,m]=F.useState(""),[K,V]=F.useState(null),[N,C]=F.useState(""),z=F.useRef(null),ee=F.useRef(null),se=F.useRef(null),$=F.useRef(null),de=G=>{L(G),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{T(G)},300)};F.useEffect(()=>()=>{z.current&&clearTimeout(z.current)},[]),F.useEffect(()=>{A({isVisible:!1,message:"",count:0})},[p]),F.useEffect(()=>{i&&(w(!0),o(!1))},[i,o]),F.useEffect(()=>{a&&(B(!0),l())},[a,l]),F.useEffect(()=>{const G=ye=>{ee.current&&!ee.current.contains(ye.target)&&B(!1)};if(Y)return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[Y]);const ke=F.useCallback((G,ye)=>!G||G.length===0?G:G.filter(E=>E.path!==ye).map(E=>({...E,children:E.children?ke(E.children,ye):[]})),[]),pe=F.useCallback((G,ye)=>{if(!ye||ye.length===0)return null;const E=[],I=ue=>{if(ue)for(const ve of ue)E.push(ve),ve.children&&ve.children.length>0&&I(ve.children)};I(ye);const W=G.includes("/")?G.substring(0,G.lastIndexOf("/")):null,X=E.filter(ue=>(ue.path.includes("/")?ue.path.substring(0,ue.path.lastIndexOf("/")):null)===W);if(X.length===0)return W||null;const H=X.findIndex(ue=>ue.path===G);return H===-1?W||null:H<X.length-1?X[H+1].path:H>0?X[H-1].path:W||null},[]);F.useEffect(()=>{const G=async ye=>{if(!(ye.target.tagName==="INPUT"||ye.target.tagName==="TEXTAREA")){if(ye.key==="Delete"&&p){const{selectedImages:E,selectedImage:I}=Ee.getState();if(E.length>0||I)return;ye.preventDefault(),await ge(p)}if(ye.key==="F2"&&p){const{selectedImages:E,selectedImage:I}=Ee.getState();if(E.length>0||I)return;ye.preventDefault();const W=(H,ue)=>{for(const ve of H){if(ve.path===ue)return ve;if(ve.children){const xe=W(ve.children,ue);if(xe)return xe}}return null},X=W(d,p);X&&(He(X),m(X.name),te({isOpen:!1,position:null,folder:null}),setTimeout(()=>{se.current&&(se.current.focus(),se.current.select())},50))}(ye.ctrlKey||ye.metaKey)&&ye.key==="z"&&ie.length>0&&(ye.preventDefault(),await Ue())}};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[p,ie,d,pe]);const ge=async G=>{if(!t)return;const ye=[{type:"folder",path:G}],E=[...ie,{items:ye,folderPath:G}];if(J(E),p===G){const I=ke(d,G),W=pe(G,I);x(W)}A({isVisible:!0,message:`Ctrl+Z  ${E.length}`,count:1}),Promise.all([Kt.delete(t,ye),De.getFolders(t)]).then(([I,W])=>{const{setFolders:X}=Ee.getState();I.failed.length>0?(console.warn(" :",I.failed),J(ie),A({isVisible:!1,message:"",count:0}),X(W.folders),alert(": "+I.failed[0].error)):X(W.folders)}).catch(I=>{console.error(":",I),J(ie),A({isVisible:!1,message:"",count:0}),De.getFolders(t).then(W=>{const{setFolders:X}=Ee.getState();X(W.folders)}),alert(": "+(I.message||""))})},Ue=async()=>{if(ie.length===0)return;const G=ie[ie.length-1],ye=ie.slice(0,-1);A({isVisible:!1,message:"",count:0}),J(ye);const{folders:E,setFolders:I}=Ee.getState();if(E&&E.length>0&&!E.some(X=>X.path===G.folderPath)){const X={path:G.folderPath,count:0,name:G.folderPath.split("/").pop()||G.folderPath};I([...E,X])}x(G.folderPath),console.log(` : ${G.folderPath}`),Promise.all([Kt.restore(t,G.items),De.getFolders(t)]).then(([W,X])=>{const{setFolders:H}=Ee.getState();if(W.failed.length>0){console.warn(` : ${W.failed.length} `);const ue=W.failed[0].error||"";J(ie),H(X.folders),alert(`: ${ue}

5`)}else H(X.folders)}).catch(W=>{console.error(":",W),J(ie),De.getFolders(t).then(X=>{const{setFolders:H}=Ee.getState();H(X.folders)}),alert(": "+(W.message||""))})},Fe=async(G,ye)=>{if(G.preventDefault(),G.stopPropagation(),_e(null),!!t)try{const E=JSON.parse(G.dataTransfer.getData("application/json")),{items:I}=E;if(!I||I.length===0)return;const W=I.some(ve=>ve.type==="folder");if(!W){const{images:ve,setImages:xe}=Ee.getState(),Ne=new Set(I.map(Ze=>Ze.path)),Me=ve.filter(Ze=>!Ne.has(Ze.path));xe(Me)}const[X,H]=await Promise.all([Kt.move(t,I,ye.path),De.getFolders(t)]);X.failed&&X.failed.length>0?alert(`: ${X.failed[0].error}`):console.log(`  ${I.length} ${W?"":""}: ${ye.path}`);const{setFolders:ue}=Ee.getState();ue(H.folders)}catch(E){console.error(":",E)}},ot=(G,ye)=>{G.preventDefault(),G.stopPropagation(),_e(ye.path)},wt=G=>{G.preventDefault(),G.stopPropagation(),_e(null)},nt=G=>{Te(G),ce(!0),te({isOpen:!1,position:null,folder:null})},Rt=async G=>{if(!t||!be)return;ce(!1);const ye=be.split("/").pop(),E=G?`${G}/${ye}`:ye;try{const I=[{type:"folder",path:be}],[W,X]=await Promise.all([Kt.move(t,I,G),De.getFolders(t)]);W.failed&&W.failed.length>0?alert(`: ${W.failed[0].error}`):(x(E),console.log(` : ${be} -> ${E}`));const{setFolders:H}=Ee.getState();H(X.folders)}catch(I){console.error(":",I),alert(": "+(I.message||"")),De.getFolders(t).then(W=>{const{setFolders:X}=Ee.getState();X(W.folders)})}finally{Te(null)}},$e=G=>{G&&(He(G),m(G.name),te({isOpen:!1,position:null,folder:null}),setTimeout(()=>{se.current&&(se.current.focus(),se.current.select())},50))},q=async()=>{if(!Ce||!Be.trim()){He(null),m("");return}const G=Ce.name,ye=Be.trim();if(ye===G){He(null),m("");return}const E=Ce.path,I=p===E;try{const X=(await Kt.rename(t,E,ye)).newPath;console.log(` : ${G}  ${ye}, : ${E}  ${X}`);const{setImages:H,setFolders:ue,setSelectedFolder:ve}=Ee.getState();H([]);const xe=await De.getFolders(t);console.log(" :",xe.folders),ue(xe.folders),I&&(console.log(` : ${E}  ${X}`),ve(null),setTimeout(()=>{ve(X),console.log(" , selectedFolder =",X)},50))}catch(W){console.error(":",W),alert(": "+(W.message||""))}finally{He(null),m("")}},we=()=>{He(null),m("")},fe=(G,ye)=>{const E=G==="sibling"?ye.includes("/")?ye.substring(0,ye.lastIndexOf("/")):"":ye;V({type:G,parentPath:E,basePath:ye}),C(""),te({isOpen:!1,position:null,folder:null}),setTimeout(()=>{$.current&&($.current.focus(),$.current.select())},50)},je=async()=>{if(!K||!N.trim()){V(null),C("");return}const G=N.trim(),{parentPath:ye}=K,E=ye?`${ye}/${G}`:G;try{await Kt.createFolder(t,E),console.log(` : ${E}`);const I=await De.getFolders(t),{setFolders:W}=Ee.getState();W(I.folders),ye&&D(X=>new Set([...X,ye]))}catch(I){console.error(":",I),alert(": "+(I.message||""))}finally{V(null),C("")}},Oe=()=>{V(null),C("")},Pe=async()=>{var G,ye;if(g()){alert("");return}if(!f.trim()){alert("");return}if(!b.trim()){alert("");return}R(!0);try{console.log(" ...");const E=await Lt.add(f.trim(),b.trim()),I=E.id,W=E.hasExistingIndex;if(r({id:I,name:f.trim(),path:b.trim()}),h(""),_(""),w(!1),R(!1),console.log(" ..."),await Lt.setCurrent(I),n(I),x(null),Ee.getState().setImages([]),Ee.getState().setFolders([]),Ee.getState().setSelectedImage(null),Ee.getState().setTotalImageCount(0),or.getState().setScanProgress({libraryId:I,current:0,total:0,percent:0,status:"preparing"}),W){console.log("...");try{const[X,H]=await Promise.all([De.getFolders(I),De.getCount(I)]);Ee.getState().setFolders(X.folders),Ee.getState().setTotalImageCount(H.count),console.log(" ")}catch(X){console.warn(" :",X)}}console.log(" ..."),W?(console.log("..."),br.sync(I,!1)):(console.log("..."),br.fullScan(I,!1)),console.log(" ...")}catch(E){console.error(" Error adding library:",E);let I=E.message||"";(ye=(G=E.response)==null?void 0:G.data)!=null&&ye.message&&(I=E.response.data.message),I.includes("")||I.includes("")||I.includes("")?alert(` 

`+I+`


1.  FlyPic 
2.  
3.  FlyPic `):alert(": "+I),or.getState().setScanProgress(null),R(!1)}},he=async G=>{if(G!==t){if(g()){alert("");return}k(!0);try{const ye=await Lt.validate(G),E=ye.data||ye;if(E.status!=="ok"){re({id:G,name:E.name,path:E.path,status:E.status}),k(!1);return}gu(),yn.cancelAllRequests(),or.getState().setScanProgress(null),Ee.getState().setSelectedImage(null),Ee.getState().setImages([]),Ee.getState().setFolders([]),Ee.getState().setImageLoadingState({isLoading:!1,loadedCount:0,totalCount:0}),x(null),await Lt.setCurrent(G);const[I,W]=await Promise.all([De.getFolders(G),De.getCount(G)]);Ee.getState().setFolders(I.folders),Ee.getState().setTotalImageCount(W.count),n(G),xw(G).then(X=>{X&&X.status==="scanning"&&or.getState().setScanProgress(X.progress)}).catch(()=>{})}catch(ye){console.error("Error setting current library:",ye),alert(": "+ye.message),Ee.getState().setImageLoadingState({isLoading:!1})}finally{k(!1)}}},Ie=async()=>{if(!t)return;if(g()){alert("");return}const G=e.find(E=>E.id===t);if(!(!G||!confirm(`"${G.name}"

: ${G.path}

 
 
 
 .flypic `)))try{await Lt.remove(t),s(t),Ee.getState().setImages([]),Ee.getState().setFolders([]),Ee.getState().setSelectedImage(null),Ee.getState().setSelectedFolder(null);const E=e.filter(I=>I.id!==t);if(E.length>0){const I=E[0];await Lt.setCurrent(I.id),n(I.id)}console.log(` : ${G.name}`),console.log(`: ${G.path}\\.flypic`)}catch(E){console.error("Error deleting library:",E),alert(": "+E.message)}},Le=G=>{const ye=new Set(O);ye.has(G)?ye.delete(G):ye.add(G),D(ye)},Ae=G=>{const ye=[],E=I=>{I.forEach(W=>{W.children&&W.children.length>0&&(ye.push(W.path),E(W.children))})};return E(G),ye},ne=()=>{const G=Ae(qe.length>0?qe:d);D(new Set(G))},Se=()=>{D(new Set)},ze=()=>{const G=Ae(qe.length>0?qe:d);return G.length>0&&G.every(ye=>O.has(ye))},qe=F.useMemo(()=>{if(!S)return d;const G=S.trim().toLowerCase().split(/\s+/).filter(W=>W.length>0);if(G.length===0)return d;const ye=[],E=W=>W.reduce((X,H)=>{const ue=H.name.toLowerCase(),ve=H.path.toLowerCase(),xe=G.every(Ze=>ue.includes(Ze)),Ne=G.every(Ze=>ve.includes(Ze));let Me=[];return H.children&&H.children.length>0&&(Me=E(H.children)),(xe||Ne||Me.length>0)&&(X.push({...H,children:Me}),Me.length>0&&ye.push(H.path)),X},[]),I=E(d);return ye.length>0&&setTimeout(()=>{D(W=>{const X=new Set(W);return ye.forEach(H=>X.add(H)),X})},0),I},[d,S]),Je=(G,ye)=>{G.stopPropagation(),Le(ye)},st=G=>{const ye=G.children&&G.children.length>0;if(p!==G.path){gu(),x(G.path);const{clearSelection:E,setSelectedFolderItem:I}=Ee.getState();E(),I(G)}else ye&&Le(G.path)},ct=(G,ye=0)=>G.map(E=>{const I=O.has(E.path),W=E.children&&E.children.length>0,X=p===E.path;return u.jsxs("div",{children:[u.jsxs("div",{className:`flex items-center px-3 py-2 rounded-md cursor-pointer transition-colors ${X?"bg-blue-50 dark:bg-blue-900":oe===E.path?"bg-green-100 dark:bg-green-900":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{paddingLeft:`${ye*16+12}px`},onClick:()=>st(E),onContextMenu:H=>{H.preventDefault(),te({isOpen:!0,position:{x:H.clientX,y:H.clientY},folder:E})},draggable:!0,onDragStart:H=>{const ue=[{type:"folder",path:E.path}];H.dataTransfer.setData("application/json",JSON.stringify({items:ue})),H.dataTransfer.effectAllowed="move"},onDrop:H=>Fe(H,E),onDragOver:H=>ot(H,E),onDragLeave:wt,children:[W?u.jsx("div",{className:"flex items-center justify-center w-5 h-5 mr-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 rounded",onClick:H=>Je(H,E.path),children:I?u.jsx(hu,{className:"w-4 h-4 text-gray-500"}):u.jsx(Wm,{className:"w-4 h-4 text-gray-500"})}):u.jsx("div",{className:"w-5 mr-1"}),u.jsx(Yn,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),(Ce==null?void 0:Ce.path)===E.path?u.jsx("input",{ref:se,type:"text",value:Be,onChange:H=>m(H.target.value),onKeyDown:H=>{H.key==="Enter"?(H.preventDefault(),q()):H.key==="Escape"&&(H.preventDefault(),we())},onBlur:q,onClick:H=>H.stopPropagation(),className:"flex-1 text-sm text-gray-700 dark:text-gray-300 truncate bg-transparent border-none outline-none focus:outline-none underline decoration-2 decoration-blue-500 underline-offset-2",style:{padding:0,margin:0}}):u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate flex-1",children:E.name}),u.jsx("span",{className:"text-xs text-gray-400 ml-2 flex-shrink-0",children:E.imageCount})]}),K&&K.type==="child"&&K.basePath===E.path&&I&&u.jsxs("div",{className:"flex items-center py-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",style:{paddingLeft:`${(ye+1)*16+12}px`},children:[u.jsx("div",{className:"w-5 mr-1"}),u.jsx(Yn,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),u.jsx("input",{ref:$,type:"text",value:N,onChange:H=>C(H.target.value),onKeyDown:H=>{H.key==="Enter"?(H.preventDefault(),je()):H.key==="Escape"&&(H.preventDefault(),Oe())},onBlur:je,onClick:H=>H.stopPropagation(),className:"flex-1 text-sm text-gray-700 dark:text-gray-300 bg-transparent border-none outline-none focus:outline-none underline decoration-2 decoration-green-500 underline-offset-2"})]}),W&&I&&ct(E.children,ye+1),K&&K.type==="sibling"&&K.basePath===E.path&&u.jsxs("div",{className:"flex items-center py-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",style:{paddingLeft:`${ye*16+12}px`},children:[u.jsx("div",{className:"w-5 mr-1"}),u.jsx(Yn,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),u.jsx("input",{ref:$,type:"text",value:N,onChange:H=>C(H.target.value),onKeyDown:H=>{H.key==="Enter"?(H.preventDefault(),je()):H.key==="Escape"&&(H.preventDefault(),Oe())},onBlur:je,onClick:H=>H.stopPropagation(),className:"flex-1 text-sm text-gray-700 dark:text-gray-300 bg-transparent border-none outline-none focus:outline-none underline decoration-2 decoration-green-500 underline-offset-2"})]})]},E.path)}),gt=async()=>{if(!U)return;const G=U.id;re(null);try{or.getState().setScanProgress(null),Ee.getState().setSelectedImage(null),Ee.getState().setImages([]),Ee.getState().setFolders([]),Ee.getState().setTotalImageCount(0),x(null),await Lt.setCurrent(G),n(G),await br.fullScan(G)}catch(ye){console.error(":",ye.message),alert(": "+ye.message)}},et=async()=>{if(U){try{await Lt.remove(U.id,!1),s(U.id),n(null),Ee.getState().setImages([]),Ee.getState().setFolders([]),Ee.getState().setTotalImageCount(0),x(null)}catch(G){console.error(":",G.message)}re(null),setTimeout(()=>{B(!0)},100)}},tn=async()=>{if(U){try{await Lt.remove(U.id),s(U.id)}catch(G){console.error(":",G.message)}re(null),w(!0)}};return u.jsxs("div",{className:"w-full h-full border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[u.jsx(yu,{isOpen:!!U,libraryName:U==null?void 0:U.name,libraryPath:U==null?void 0:U.path,status:U==null?void 0:U.status,onRescan:gt,onOpenOther:et,onCreateNew:tn}),u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("div",{className:"flex items-center justify-between mb-3",children:u.jsx("h2",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:""})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",ref:ee,children:[u.jsxs("div",{onClick:()=>{!Z&&!g()&&B(!Y)},className:`w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 cursor-pointer flex items-center justify-between ${Z||g()?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx("span",{className:"truncate",children:e.length===0?"":t?((nn=e.find(G=>G.id===t))==null?void 0:nn.name)||"":"..."}),u.jsx(hu,{className:"w-4 h-4 text-gray-400 flex-shrink-0 ml-2"})]}),Y&&u.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[e.map(G=>u.jsxs("div",{onClick:()=>{G.id!==t&&he(G.id),B(!1)},className:`px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 ${G.id===t?"bg-blue-50 dark:bg-blue-900":""}`,children:[u.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:G.name}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",title:G.path,children:G.path})]},G.id)),u.jsx("div",{onClick:()=>{if(g()){alert("");return}w(!0),B(!1)},className:"px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 border-t border-gray-200 dark:border-gray-700 text-blue-600 dark:text-blue-400",children:"+ "})]})]}),t&&e.length>0&&u.jsx("button",{onClick:Ie,disabled:g(),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:g()?"":"",children:u.jsx(Hm,{className:"w-4 h-4"})})]}),c&&u.jsxs("div",{className:"mt-3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),u.jsx("button",{onClick:()=>w(!1),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:u.jsx(Ai,{className:"w-4 h-4 text-gray-500"})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"text",placeholder:"",value:f,onChange:G=>h(G.target.value),onKeyDown:G=>G.key==="Enter"&&Pe(),autoFocus:!0,className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),u.jsx("input",{type:"text",placeholder:"C:\\Users\\Pictures",value:b,onChange:G=>_(G.target.value),onKeyDown:G=>G.key==="Enter"&&Pe(),className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded text-sm hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300",children:""}),u.jsx("button",{onClick:Pe,disabled:le,className:"flex-1 px-3 py-1.5 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:le?"...":""})]})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[u.jsx("div",{className:"mb-3 space-y-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(mu,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"...",value:j,onChange:G=>de(G.target.value),className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),u.jsx("button",{onClick:ze()?Se:ne,className:"px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-400 transition-colors",title:ze()?"":"",children:ze()?u.jsx(ew,{className:"w-4 h-4"}):u.jsx(J1,{className:"w-4 h-4"})})]})}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:`flex items-center px-3 py-2 cursor-pointer rounded-md transition-colors ${p===null?"bg-blue-50 dark:bg-blue-900":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>x(null),children:[u.jsx("div",{className:"w-5 mr-1"}),u.jsx(Yn,{className:"w-4 h-4 mr-2 text-blue-500 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium flex-1",children:""}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:v})]}),(qe.length>0||d.length>0)&&u.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-2"}),qe.length>0?ct(qe):S?u.jsx("div",{className:"text-center py-8 text-gray-400 dark:text-gray-500 text-sm",children:""}):d.length===0?u.jsx("div",{className:"text-center py-8 text-gray-400 dark:text-gray-500 text-sm",children:""}):null]})]}),u.jsx(Vm,{isOpen:M.isOpen,position:M.position,onClose:()=>te({isOpen:!1,position:null,folder:null}),options:M.folder?[Dn.newSiblingFolder(()=>fe("sibling",M.folder.path)),Dn.newSubFolder(()=>fe("child",M.folder.path)),Dn.divider(),Dn.rename(()=>$e(M.folder)),Dn.move(()=>nt(M.folder.path)),Dn.delete(async()=>{te({isOpen:!1,position:null,folder:null}),await ge(M.folder.path)})]:[]}),u.jsx(qm,{isVisible:P.isVisible,message:P.message,onUndo:Ue,onClose:()=>{A({isVisible:!1,message:"",count:0})}}),ae&&u.jsx(Km,{folders:d,currentFolder:be,onSelect:Rt,onClose:()=>{ce(!1),Te(null)}})]})}class ww{constructor(t={}){this.maxSize=t.maxSize||20,this.cache=new Map,this.accessOrder=[],this.stats={hitCount:0,missCount:0,evictionCount:0,totalSets:0,totalGets:0}}get(t){this.stats.totalGets++;const n=this.cache.get(t);return n?(this.stats.hitCount++,this._updateAccessOrder(t),n.accessCount=(n.accessCount||0)+1,n):(this.stats.missCount++,null)}set(t,n){this.stats.totalSets++,!this.cache.has(t)&&this.cache.size>=this.maxSize&&this.evictLRU();let r=null;n.blob&&(r=URL.createObjectURL(n.blob)),this.cache.set(t,{data:n,blobUrl:r,timestamp:Date.now(),accessCount:1}),this._updateAccessOrder(t)}remove(t){const n=this.cache.get(t);if(n){n.blobUrl&&URL.revokeObjectURL(n.blobUrl),this.cache.delete(t);const r=this.accessOrder.indexOf(t);r>-1&&this.accessOrder.splice(r,1)}}clear(){for(const[t,n]of this.cache.entries())n.blobUrl&&URL.revokeObjectURL(n.blobUrl);this.cache.clear(),this.accessOrder=[]}evictLRU(){if(this.accessOrder.length===0)return;const t=this.accessOrder[0];this.remove(t),this.stats.evictionCount++}size(){return this.cache.size}getStats(){const t=this.stats.totalGets>0?(this.stats.hitCount/this.stats.totalGets*100).toFixed(2):0;return{size:this.cache.size,maxSize:this.maxSize,hitCount:this.stats.hitCount,missCount:this.stats.missCount,evictionCount:this.stats.evictionCount,totalSets:this.stats.totalSets,totalGets:this.stats.totalGets,hitRate:parseFloat(t)}}_updateAccessOrder(t){const n=this.accessOrder.indexOf(t);n>-1&&this.accessOrder.splice(n,1),this.accessOrder.push(t)}has(t){return this.cache.has(t)}keys(){return Array.from(this.cache.keys())}logStats(){this.getStats()}}const bw=new ww;function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(null,arguments)}function ka(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function ms(e){var t=F.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var n=Object.create(null);Object.keys(e).forEach(function(r){n[r]=function(){var s;return(s=t.fn[r]).call.apply(s,[t.fn].concat([].slice.call(arguments)))}}),t.curr=n}return t.curr}function Go(e){return F.useReducer(function(t,n){return Nt({},t,typeof n=="function"?n(t):n)},e)}var kw=F.createContext(void 0),bf="cubic-bezier(0.25, 0.8, 0.25, 1)",Kr=20,Vn=typeof window<"u"&&"ontouchstart"in window,vu=function(e,t,n){return Math.max(Math.min(e,n),t)},to=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=0),vu(e,1*(1-n),Math.max(6,t)*(1+n))},xu=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?F.useEffect:F.useLayoutEffect;function Xr(e,t,n){var r=F.useRef(t);r.current=t,F.useEffect(function(){function s(i){r.current(i)}return e&&window.addEventListener(e,s,n),function(){e&&window.removeEventListener(e,s)}},[e])}var _w=["container"];function Sw(e){var t=e.container,n=t===void 0?document.body:t,r=ka(e,_w);return Yp.createPortal(Ve.createElement("div",Nt({},r)),n)}function Cw(e){return Ve.createElement("svg",Nt({width:"44",height:"44",viewBox:"0 0 768 768"},e),Ve.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function Ew(e){return Ve.createElement("svg",Nt({width:"44",height:"44",viewBox:"0 0 768 768"},e),Ve.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function Nw(e){return Ve.createElement("svg",Nt({width:"44",height:"44",viewBox:"0 0 768 768"},e),Ve.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function jw(){return F.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function kf(e){var t=e.touches[0],n=t.clientX,r=t.clientY;if(e.touches.length>=2){var s=e.touches[1],i=s.clientX,o=s.clientY;return[(n+i)/2,(r+o)/2,Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2))]}return[n,r,0]}var ar=function(e,t,n,r){var s,i=n*t,o=(i-r)/2,a=e;return i<=r?(s=1,a=0):e>0&&o-e<=0?(s=2,a=o):e<0&&o+e<=0&&(s=3,a=-o),[s,a]};function sl(e,t,n,r,s,i,o,a,l,d){o===void 0&&(o=innerWidth/2),a===void 0&&(a=innerHeight/2),l===void 0&&(l=0),d===void 0&&(d=0);var p=ar(e,i,n,innerWidth)[0],v=ar(t,i,r,innerHeight),x=innerWidth/2,y=innerHeight/2;return{x:o-i/s*(o-(x+e))-x+(r/n>=3&&n*i===innerWidth?0:p?l/2:l),y:a-i/s*(a-(y+t))-y+(v[0]?d/2:d),lastCX:o,lastCY:a}}function wu(e,t,n){var r=e%180!=0;return r?[n,t,r]:[t,n,r]}function il(e,t,n){var r=wu(n,innerWidth,innerHeight),s=r[0],i=r[1],o=0,a=s,l=i,d=e/t*i,p=t/e*s;return e<s&&t<i?(a=e,l=t):e<s&&t>=i?a=d:e>=s&&t<i||e/t>s/i?l=p:t/e>=3&&!r[2]?o=((l=p)-i)/2:a=d,{width:a,height:l,x:0,y:o,pause:!0}}function no(e,t){var n=t.leading,r=n!==void 0&&n,s=t.maxWait,i=t.wait,o=i===void 0?s||0:i,a=F.useRef(e);a.current=e;var l=F.useRef(0),d=F.useRef(),p=function(){return d.current&&clearTimeout(d.current)},v=F.useCallback(function(){var x=[].slice.call(arguments),y=Date.now();function g(){l.current=y,p(),a.current.apply(null,x)}var c=l.current,w=y-c;if(c===0&&(r&&g(),l.current=y),s!==void 0){if(w>s)return void g()}else w<o&&(l.current=y);p(),d.current=setTimeout(function(){g(),l.current=0},o)},[o,s,r]);return v.cancel=p,v}var _f=function(e,t,n){return Rr(e,t,n,100,function(r){return r},function(){return Rr(t,e,n)})},Rw=function(e){return 1-Math.pow(1-e,4)};function Rr(e,t,n,r,s,i){r===void 0&&(r=400),s===void 0&&(s=Rw);var o=t-e;if(o!==0){var a=Date.now(),l=0,d=function(){var v=Math.min(1,(Date.now()-a)/r);n(e+s(v)*o)&&v<1?p():(cancelAnimationFrame(l),v>=1&&i&&i())};p()}function p(){l=requestAnimationFrame(d)}}var Tw={T:0,L:0,W:0,H:0,FIT:void 0},Zm=function(){var e=F.useRef(!1);return F.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},Ow=["className"];function Iw(e){var t=e.className,n=t===void 0?"":t,r=ka(e,Ow);return Ve.createElement("div",Nt({className:"PhotoView__Spinner "+n},r),Ve.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},Ve.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),Ve.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var Aw=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function Pw(e){var t=e.src,n=e.loaded,r=e.broken,s=e.className,i=e.onPhotoLoad,o=e.loadingElement,a=e.brokenElement,l=ka(e,Aw),d=Zm();return t&&!r?Ve.createElement(Ve.Fragment,null,Ve.createElement("img",Nt({className:"PhotoView__Photo"+(s?" "+s:""),src:t,onLoad:function(p){var v=p.target;d.current&&i({loaded:!0,naturalWidth:v.naturalWidth,naturalHeight:v.naturalHeight})},onError:function(){d.current&&i({broken:!0})},draggable:!1,alt:""},l)),!n&&(o?Ve.createElement("span",{className:"PhotoView__icon"},o):Ve.createElement(Iw,{className:"PhotoView__icon"}))):a?Ve.createElement("span",{className:"PhotoView__icon"},typeof a=="function"?a({src:t}):a):null}var Lw={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function zw(e){var t=e.item,n=t.src,r=t.render,s=t.width,i=s===void 0?0:s,o=t.height,a=o===void 0?0:o,l=t.originRef,d=e.visible,p=e.speed,v=e.easing,x=e.wrapClassName,y=e.className,g=e.style,c=e.loadingElement,w=e.brokenElement,f=e.onPhotoTap,h=e.onMaskTap,b=e.onReachMove,_=e.onReachUp,S=e.onPhotoResize,T=e.isActive,j=e.expose,L=Go(Lw),O=L[0],D=L[1],le=F.useRef(0),R=Zm(),Z=O.naturalWidth,k=Z===void 0?i:Z,U=O.naturalHeight,re=U===void 0?a:U,Y=O.width,B=Y===void 0?i:Y,M=O.height,te=M===void 0?a:M,P=O.loaded,A=P===void 0?!n:P,ie=O.broken,J=O.x,oe=O.y,_e=O.touched,ae=O.stopRaf,ce=O.maskTouched,be=O.rotate,Te=O.scale,Ce=O.CX,He=O.CY,Be=O.lastX,m=O.lastY,K=O.lastCX,V=O.lastCY,N=O.lastScale,C=O.touchTime,z=O.touchLength,ee=O.pause,se=O.reach,$=ms({onScale:function(ne){return de(to(ne))},onRotate:function(ne){be!==ne&&(j({rotate:ne}),D(Nt({rotate:ne},il(k,re,ne))))}});function de(ne,Se,ze){Te!==ne&&(j({scale:ne}),D(Nt({scale:ne},sl(J,oe,B,te,Te,ne,Se,ze),ne<=1&&{x:0,y:0})))}var ke=no(function(ne,Se,ze){if(ze===void 0&&(ze=0),(_e||ce)&&T){var qe=wu(be,B,te),Je=qe[0],st=qe[1];if(ze===0&&le.current===0){var ct=Math.abs(ne-Ce)<=20,gt=Math.abs(Se-He)<=20;if(ct&&gt)return void D({lastCX:ne,lastCY:Se});le.current=ct?Se>He?3:2:1}var et,tn=ne-K,nn=Se-V;if(ze===0){var G=ar(tn+Be,Te,Je,innerWidth)[0],ye=ar(nn+m,Te,st,innerHeight);et=function(I,W,X,H){return W&&I===1||H==="x"?"x":X&&I>1||H==="y"?"y":void 0}(le.current,G,ye[0],se),et!==void 0&&b(et,ne,Se,Te)}if(et==="x"||ce)return void D({reach:"x"});var E=to(Te+(ze-z)/100/2*Te,k/B,.2);j({scale:E}),D(Nt({touchLength:ze,reach:et,scale:E},sl(J,oe,B,te,Te,E,ne,Se,tn,nn)))}},{maxWait:8});function pe(ne){return!ae&&!_e&&(R.current&&D(Nt({},ne,{pause:d})),R.current)}var ge,Ue,Fe,ot,wt,nt,Rt,$e,q=(wt=function(ne){return pe({x:ne})},nt=function(ne){return pe({y:ne})},Rt=function(ne){return R.current&&(j({scale:ne}),D({scale:ne})),!_e&&R.current},$e=ms({X:function(ne){return wt(ne)},Y:function(ne){return nt(ne)},S:function(ne){return Rt(ne)}}),function(ne,Se,ze,qe,Je,st,ct,gt,et,tn,nn){var G=wu(tn,Je,st),ye=G[0],E=G[1],I=ar(ne,gt,ye,innerWidth),W=I[0],X=I[1],H=ar(Se,gt,E,innerHeight),ue=H[0],ve=H[1],xe=Date.now()-nn;if(xe>=200||gt!==ct||Math.abs(et-ct)>1){var Ne=sl(ne,Se,Je,st,ct,gt),Me=Ne.x,Ze=Ne.y,Ge=W?X:Me!==ne?Me:null,ft=ue?ve:Ze!==Se?Ze:null;return Ge!==null&&Rr(ne,Ge,$e.X),ft!==null&&Rr(Se,ft,$e.Y),void(gt!==ct&&Rr(ct,gt,$e.S))}var at=(ne-ze)/xe,_t=(Se-qe)/xe,Mt=Math.sqrt(Math.pow(at,2)+Math.pow(_t,2)),cn=!1,dn=!1;(function(kn,Bt){var Ut,_n=kn,Hn=0,fn=0,Vr=function(Is){Ut||(Ut=Is);var As=Is-Ut,Rc=Math.sign(kn),Tc=-.001*Rc,Oc=Math.sign(-_n)*Math.pow(_n,2)*2e-4,Jm=_n*As+(Tc+Oc)*Math.pow(As,2)/2;Hn+=Jm,Ut=Is,Rc*(_n+=(Tc+Oc)*As)<=0?hn():Bt(Hn)?Pn():hn()};function Pn(){fn=requestAnimationFrame(Vr)}function hn(){cancelAnimationFrame(fn)}Pn()})(Mt,function(kn){var Bt=ne+kn*(at/Mt),Ut=Se+kn*(_t/Mt),_n=ar(Bt,ct,ye,innerWidth),Hn=_n[0],fn=_n[1],Vr=ar(Ut,ct,E,innerHeight),Pn=Vr[0],hn=Vr[1];if(Hn&&!cn&&(cn=!0,W?Rr(Bt,fn,$e.X):_f(fn,Bt+(Bt-fn),$e.X)),Pn&&!dn&&(dn=!0,ue?Rr(Ut,hn,$e.Y):_f(hn,Ut+(Ut-hn),$e.Y)),cn&&dn)return!1;var Is=cn||$e.X(fn),As=dn||$e.Y(hn);return Is&&As})}),we=(ge=f,Ue=function(ne,Se){se||de(Te!==1?1:Math.max(2,k/B),ne,Se)},Fe=F.useRef(0),ot=no(function(){Fe.current=0,ge.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var ne=[].slice.call(arguments);Fe.current+=1,ot.apply(void 0,ne),Fe.current>=2&&(ot.cancel(),Fe.current=0,Ue.apply(void 0,ne))});function fe(ne,Se){if(le.current=0,(_e||ce)&&T){D({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var ze=to(Te,k/B);if(q(J,oe,Be,m,B,te,Te,ze,N,be,C),_(ne,Se),Ce===ne&&He===Se){if(_e)return void we(ne,Se);ce&&h(ne,Se)}}}function je(ne,Se,ze){ze===void 0&&(ze=0),D({touched:!0,CX:ne,CY:Se,lastCX:ne,lastCY:Se,lastX:J,lastY:oe,lastScale:Te,touchLength:ze,touchTime:Date.now()})}function Oe(ne){D({maskTouched:!0,CX:ne.clientX,CY:ne.clientY,lastX:J,lastY:oe})}Xr(Vn?void 0:"mousemove",function(ne){ne.preventDefault(),ke(ne.clientX,ne.clientY)}),Xr(Vn?void 0:"mouseup",function(ne){fe(ne.clientX,ne.clientY)}),Xr(Vn?"touchmove":void 0,function(ne){ne.preventDefault();var Se=kf(ne);ke.apply(void 0,Se)},{passive:!1}),Xr(Vn?"touchend":void 0,function(ne){var Se=ne.changedTouches[0];fe(Se.clientX,Se.clientY)},{passive:!1}),Xr("resize",no(function(){A&&!_e&&(D(il(k,re,be)),S())},{maxWait:8})),xu(function(){T&&j(Nt({scale:Te,rotate:be},$))},[T]);var Pe=function(ne,Se,ze,qe,Je,st,ct,gt,et,tn){var nn=function(Me,Ze,Ge,ft,at){var _t=F.useRef(!1),Mt=Go({lead:!0,scale:Ge}),cn=Mt[0],dn=cn.lead,kn=cn.scale,Bt=Mt[1],Ut=no(function(_n){try{return at(!0),Bt({lead:!1,scale:_n}),Promise.resolve()}catch(Hn){return Promise.reject(Hn)}},{wait:ft});return xu(function(){_t.current?(at(!1),Bt({lead:!0}),Ut(Ge)):_t.current=!0},[Ge]),dn?[Me*kn,Ze*kn,Ge/kn]:[Me*Ge,Ze*Ge,1]}(st,ct,gt,et,tn),G=nn[0],ye=nn[1],E=nn[2],I=function(Me,Ze,Ge,ft,at){var _t=F.useState(Tw),Mt=_t[0],cn=_t[1],dn=F.useState(0),kn=dn[0],Bt=dn[1],Ut=F.useRef(),_n=ms({OK:function(){return Me&&Bt(4)}});function Hn(fn){at(!1),Bt(fn)}return F.useEffect(function(){if(Ut.current||(Ut.current=Date.now()),Ge){if(function(fn,Vr){var Pn=fn&&fn.current;if(Pn&&Pn.nodeType===1){var hn=Pn.getBoundingClientRect();Vr({T:hn.top,L:hn.left,W:hn.width,H:hn.height,FIT:Pn.tagName==="IMG"?getComputedStyle(Pn).objectFit:void 0})}}(Ze,cn),Me)return Date.now()-Ut.current<250?(Bt(1),requestAnimationFrame(function(){Bt(2),requestAnimationFrame(function(){return Hn(3)})}),void setTimeout(_n.OK,ft)):void Bt(4);Hn(5)}},[Me,Ge]),[kn,Mt]}(ne,Se,ze,et,tn),W=I[0],X=I[1],H=X.W,ue=X.FIT,ve=innerWidth/2,xe=innerHeight/2,Ne=W<3||W>4;return[Ne?H?X.L:ve:qe+(ve-st*gt/2),Ne?H?X.T:xe:Je+(xe-ct*gt/2),G,Ne&&ue?G*(X.H/H):ye,W===0?E:Ne?H/(st*gt)||.01:E,Ne?ue?1:0:1,W,ue]}(d,l,A,J,oe,B,te,Te,p,function(ne){return D({pause:ne})}),he=Pe[4],Ie=Pe[6],Le="transform "+p+"ms "+v,Ae={className:y,onMouseDown:Vn?void 0:function(ne){ne.stopPropagation(),ne.button===0&&je(ne.clientX,ne.clientY,0)},onTouchStart:Vn?function(ne){ne.stopPropagation(),je.apply(void 0,kf(ne))}:void 0,onWheel:function(ne){if(!se){var Se=to(Te-ne.deltaY/100/2,k/B);D({stopRaf:!0}),de(Se,ne.clientX,ne.clientY)}},style:{width:Pe[2]+"px",height:Pe[3]+"px",opacity:Pe[5],objectFit:Ie===4?void 0:Pe[7],transform:be?"rotate("+be+"deg)":void 0,transition:Ie>2?Le+", opacity "+p+"ms ease, height "+(Ie<4?p/2:Ie>4?p:0)+"ms "+v:void 0}};return Ve.createElement("div",{className:"PhotoView__PhotoWrap"+(x?" "+x:""),style:g,onMouseDown:!Vn&&T?Oe:void 0,onTouchStart:Vn&&T?function(ne){return Oe(ne.touches[0])}:void 0},Ve.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+he+", 0, 0, "+he+", "+Pe[0]+", "+Pe[1]+")",transition:_e||ee?void 0:Le,willChange:T?"transform":void 0}},n?Ve.createElement(Pw,Nt({src:n,loaded:A,broken:ie},Ae,{onPhotoLoad:function(ne){D(Nt({},ne,ne.loaded&&il(ne.naturalWidth||0,ne.naturalHeight||0,be)))},loadingElement:c,brokenElement:w})):r&&r({attrs:Ae,scale:he,rotate:be})))}var Sf={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function Fw(e){var t=e.loop,n=t===void 0?3:t,r=e.speed,s=e.easing,i=e.photoClosable,o=e.maskClosable,a=o===void 0||o,l=e.maskOpacity,d=l===void 0?1:l,p=e.pullClosable,v=p===void 0||p,x=e.bannerVisible,y=x===void 0||x,g=e.overlayRender,c=e.toolbarRender,w=e.className,f=e.maskClassName,h=e.photoClassName,b=e.photoWrapClassName,_=e.loadingElement,S=e.brokenElement,T=e.images,j=e.index,L=j===void 0?0:j,O=e.onIndexChange,D=e.visible,le=e.onClose,R=e.afterClose,Z=e.portalContainer,k=Go(Sf),U=k[0],re=k[1],Y=F.useState(0),B=Y[0],M=Y[1],te=U.x,P=U.touched,A=U.pause,ie=U.lastCX,J=U.lastCY,oe=U.bg,_e=oe===void 0?d:oe,ae=U.lastBg,ce=U.overlay,be=U.minimal,Te=U.scale,Ce=U.rotate,He=U.onScale,Be=U.onRotate,m=e.hasOwnProperty("index"),K=m?L:B,V=m?O:M,N=F.useRef(K),C=T.length,z=T[K],ee=typeof n=="boolean"?n:C>n,se=function(he,Ie){var Le=F.useReducer(function(ze){return!ze},!1)[1],Ae=F.useRef(0),ne=function(ze){var qe=F.useRef(ze);function Je(st){qe.current=st}return F.useMemo(function(){(function(st){he?(st(he),Ae.current=1):Ae.current=2})(Je)},[ze]),[qe.current,Je]}(he),Se=ne[1];return[ne[0],Ae.current,function(){Le(),Ae.current===2&&(Se(!1),Ie&&Ie()),Ae.current=0}]}(D,R),$=se[0],de=se[1],ke=se[2];xu(function(){if($)return re({pause:!0,x:K*-(innerWidth+Kr)}),void(N.current=K);re(Sf)},[$]);var pe=ms({close:function(he){Be&&Be(0),re({overlay:!0,lastBg:_e}),le(he)},changeIndex:function(he,Ie){Ie===void 0&&(Ie=!1);var Le=ee?N.current+(he-K):he,Ae=C-1,ne=vu(Le,0,Ae),Se=ee?Le:ne,ze=innerWidth+Kr;re({touched:!1,lastCX:void 0,lastCY:void 0,x:-ze*Se,pause:Ie}),N.current=Se,V&&V(ee?he<0?Ae:he>Ae?0:he:ne)}}),ge=pe.close,Ue=pe.changeIndex;function Fe(he){return he?ge():re({overlay:!ce})}function ot(){re({x:-(innerWidth+Kr)*K,lastCX:void 0,lastCY:void 0,pause:!0}),N.current=K}function wt(he,Ie,Le,Ae){he==="x"?function(ne){if(ie!==void 0){var Se=ne-ie,ze=Se;!ee&&(K===0&&Se>0||K===C-1&&Se<0)&&(ze=Se/2),re({touched:!0,lastCX:ie,x:-(innerWidth+Kr)*N.current+ze,pause:!1})}else re({touched:!0,lastCX:ne,x:te,pause:!1})}(Ie):he==="y"&&function(ne,Se){if(J!==void 0){var ze=d===null?null:vu(d,.01,d-Math.abs(ne-J)/100/4);re({touched:!0,lastCY:J,bg:Se===1?ze:d,minimal:Se===1})}else re({touched:!0,lastCY:ne,bg:_e,minimal:!0})}(Le,Ae)}function nt(he,Ie){var Le=he-(ie??he),Ae=Ie-(J??Ie),ne=!1;if(Le<-40)Ue(K+1);else if(Le>40)Ue(K-1);else{var Se=-(innerWidth+Kr)*N.current;Math.abs(Ae)>100&&be&&v&&(ne=!0,ge()),re({touched:!1,x:Se,lastCX:void 0,lastCY:void 0,bg:d,overlay:!!ne||ce})}}Xr("keydown",function(he){if(D)switch(he.key){case"ArrowLeft":Ue(K-1,!0);break;case"ArrowRight":Ue(K+1,!0);break;case"Escape":ge()}});var Rt=function(he,Ie,Le){return F.useMemo(function(){var Ae=he.length;return Le?he.concat(he).concat(he).slice(Ae+Ie-1,Ae+Ie+2):he.slice(Math.max(Ie-1,0),Math.min(Ie+2,Ae+1))},[he,Ie,Le])}(T,K,ee);if(!$)return null;var $e=ce&&!de,q=D?_e:ae,we=He&&Be&&{images:T,index:K,visible:D,onClose:ge,onIndexChange:Ue,overlayVisible:$e,overlay:z&&z.overlay,scale:Te,rotate:Ce,onScale:He,onRotate:Be},fe=r?r(de):400,je=s?s(de):bf,Oe=r?r(3):600,Pe=s?s(3):bf;return Ve.createElement(Sw,{className:"PhotoView-Portal"+($e?"":" PhotoView-Slider__clean")+(D?"":" PhotoView-Slider__willClose")+(w?" "+w:""),role:"dialog",onClick:function(he){return he.stopPropagation()},container:Z},D&&Ve.createElement(jw,null),Ve.createElement("div",{className:"PhotoView-Slider__Backdrop"+(f?" "+f:"")+(de===1?" PhotoView-Slider__fadeIn":de===2?" PhotoView-Slider__fadeOut":""),style:{background:q?"rgba(0, 0, 0, "+q+")":void 0,transitionTimingFunction:je,transitionDuration:(P?0:fe)+"ms",animationDuration:fe+"ms"},onAnimationEnd:ke}),y&&Ve.createElement("div",{className:"PhotoView-Slider__BannerWrap"},Ve.createElement("div",{className:"PhotoView-Slider__Counter"},K+1," / ",C),Ve.createElement("div",{className:"PhotoView-Slider__BannerRight"},c&&we&&c(we),Ve.createElement(Cw,{className:"PhotoView-Slider__toolbarIcon",onClick:ge}))),Rt.map(function(he,Ie){var Le=ee||K!==0?N.current-1+Ie:K+Ie;return Ve.createElement(zw,{key:ee?he.key+"/"+he.src+"/"+Le:he.key,item:he,speed:fe,easing:je,visible:D,onReachMove:wt,onReachUp:nt,onPhotoTap:function(){return Fe(i)},onMaskTap:function(){return Fe(a)},wrapClassName:b,className:h,style:{left:(innerWidth+Kr)*Le+"px",transform:"translate3d("+te+"px, 0px, 0)",transition:P||A?void 0:"transform "+Oe+"ms "+Pe},loadingElement:_,brokenElement:S,onPhotoResize:ot,isActive:N.current===Le,expose:re})}),!Vn&&y&&Ve.createElement(Ve.Fragment,null,(ee||K!==0)&&Ve.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return Ue(K-1,!0)}},Ve.createElement(Ew,null)),(ee||K+1<C)&&Ve.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return Ue(K+1,!0)}},Ve.createElement(Nw,null))),g&&we&&Ve.createElement("div",{className:"PhotoView-Slider__Overlay"},g(we)))}var Dw=["children","onIndexChange","onVisibleChange"],Mw={images:[],visible:!1,index:0};function Bw(e){var t=e.children,n=e.onIndexChange,r=e.onVisibleChange,s=ka(e,Dw),i=Go(Mw),o=i[0],a=i[1],l=F.useRef(0),d=o.images,p=o.visible,v=o.index,x=ms({nextId:function(){return l.current+=1},update:function(c){var w=d.findIndex(function(h){return h.key===c.key});if(w>-1){var f=d.slice();return f.splice(w,1,c),void a({images:f})}a(function(h){return{images:h.images.concat(c)}})},remove:function(c){a(function(w){var f=w.images.filter(function(h){return h.key!==c});return{images:f,index:Math.min(f.length-1,v)}})},show:function(c){var w=d.findIndex(function(f){return f.key===c});a({visible:!0,index:w}),r&&r(!0,w,o)}}),y=ms({close:function(){a({visible:!1}),r&&r(!1,v,o)},changeIndex:function(c){a({index:c}),n&&n(c,o)}}),g=F.useMemo(function(){return Nt({},o,x)},[o,x]);return Ve.createElement(kw.Provider,{value:g},t,Ve.createElement(Fw,Nt({images:d,visible:p,index:v,onIndexChange:y.changeIndex,onClose:y.close},s)))}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(null,arguments)}function Cf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ku(e,t){return ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ku(e,t)}function Uw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ku(e,t)}var Ef=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function $w(e,t){return!!(e===t||Ef(e)&&Ef(t))}function Ww(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!$w(e[n],t[n]))return!1;return!0}function ol(e,t){t===void 0&&(t=Ww);var n,r=[],s,i=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return i&&n===this&&t(a,r)||(s=e.apply(this,a),i=!0,n=this,r=a),s}return o}var Hw=typeof performance=="object"&&typeof performance.now=="function",Nf=Hw?function(){return performance.now()}:function(){return Date.now()};function jf(e){cancelAnimationFrame(e.id)}function Vw(e,t){var n=Nf();function r(){Nf()-n>=t?e.call(null):s.id=requestAnimationFrame(r)}var s={id:requestAnimationFrame(r)};return s}var al=-1;function Rf(e){if(e===void 0&&(e=!1),al===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),al=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return al}var Zr=null;function Tf(e){if(e===void 0&&(e=!1),Zr===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Zr="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Zr="negative":Zr="positive-ascending"),document.body.removeChild(t),Zr}return Zr}var qw=150,Kw=function(t,n){return t};function Zw(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,s=e.getItemSize,i=e.getOffsetForIndexAndAlignment,o=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,l=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,p=e.validateProps;return t=function(v){Uw(x,v);function x(g){var c;return c=v.call(this,g)||this,c._instanceProps=l(c.props,Cf(c)),c._outerRef=void 0,c._resetIsScrollingTimeoutId=null,c.state={instance:Cf(c),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof c.props.initialScrollOffset=="number"?c.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},c._callOnItemsRendered=void 0,c._callOnItemsRendered=ol(function(w,f,h,b){return c.props.onItemsRendered({overscanStartIndex:w,overscanStopIndex:f,visibleStartIndex:h,visibleStopIndex:b})}),c._callOnScroll=void 0,c._callOnScroll=ol(function(w,f,h){return c.props.onScroll({scrollDirection:w,scrollOffset:f,scrollUpdateWasRequested:h})}),c._getItemStyle=void 0,c._getItemStyle=function(w){var f=c.props,h=f.direction,b=f.itemSize,_=f.layout,S=c._getItemStyleCache(d&&b,d&&_,d&&h),T;if(S.hasOwnProperty(w))T=S[w];else{var j=n(c.props,w,c._instanceProps),L=s(c.props,w,c._instanceProps),O=h==="horizontal"||_==="horizontal",D=h==="rtl",le=O?j:0;S[w]=T={position:"absolute",left:D?void 0:le,right:D?le:void 0,top:O?0:j,height:O?"100%":L,width:O?L:"100%"}}return T},c._getItemStyleCache=void 0,c._getItemStyleCache=ol(function(w,f,h){return{}}),c._onScrollHorizontal=function(w){var f=w.currentTarget,h=f.clientWidth,b=f.scrollLeft,_=f.scrollWidth;c.setState(function(S){if(S.scrollOffset===b)return null;var T=c.props.direction,j=b;if(T==="rtl")switch(Tf()){case"negative":j=-b;break;case"positive-descending":j=_-h-b;break}return j=Math.max(0,Math.min(j,_-h)),{isScrolling:!0,scrollDirection:S.scrollOffset<j?"forward":"backward",scrollOffset:j,scrollUpdateWasRequested:!1}},c._resetIsScrollingDebounced)},c._onScrollVertical=function(w){var f=w.currentTarget,h=f.clientHeight,b=f.scrollHeight,_=f.scrollTop;c.setState(function(S){if(S.scrollOffset===_)return null;var T=Math.max(0,Math.min(_,b-h));return{isScrolling:!0,scrollDirection:S.scrollOffset<T?"forward":"backward",scrollOffset:T,scrollUpdateWasRequested:!1}},c._resetIsScrollingDebounced)},c._outerRefSetter=function(w){var f=c.props.outerRef;c._outerRef=w,typeof f=="function"?f(w):f!=null&&typeof f=="object"&&f.hasOwnProperty("current")&&(f.current=w)},c._resetIsScrollingDebounced=function(){c._resetIsScrollingTimeoutId!==null&&jf(c._resetIsScrollingTimeoutId),c._resetIsScrollingTimeoutId=Vw(c._resetIsScrolling,qw)},c._resetIsScrolling=function(){c._resetIsScrollingTimeoutId=null,c.setState({isScrolling:!1},function(){c._getItemStyleCache(-1,null)})},c}x.getDerivedStateFromProps=function(c,w){return Xw(c,w),p(c),null};var y=x.prototype;return y.scrollTo=function(c){c=Math.max(0,c),this.setState(function(w){return w.scrollOffset===c?null:{scrollDirection:w.scrollOffset<c?"forward":"backward",scrollOffset:c,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(c,w){w===void 0&&(w="auto");var f=this.props,h=f.itemCount,b=f.layout,_=this.state.scrollOffset;c=Math.max(0,Math.min(c,h-1));var S=0;if(this._outerRef){var T=this._outerRef;b==="vertical"?S=T.scrollWidth>T.clientWidth?Rf():0:S=T.scrollHeight>T.clientHeight?Rf():0}this.scrollTo(i(this.props,c,w,_,this._instanceProps,S))},y.componentDidMount=function(){var c=this.props,w=c.direction,f=c.initialScrollOffset,h=c.layout;if(typeof f=="number"&&this._outerRef!=null){var b=this._outerRef;w==="horizontal"||h==="horizontal"?b.scrollLeft=f:b.scrollTop=f}this._callPropsCallbacks()},y.componentDidUpdate=function(){var c=this.props,w=c.direction,f=c.layout,h=this.state,b=h.scrollOffset,_=h.scrollUpdateWasRequested;if(_&&this._outerRef!=null){var S=this._outerRef;if(w==="horizontal"||f==="horizontal")if(w==="rtl")switch(Tf()){case"negative":S.scrollLeft=-b;break;case"positive-ascending":S.scrollLeft=b;break;default:var T=S.clientWidth,j=S.scrollWidth;S.scrollLeft=j-T-b;break}else S.scrollLeft=b;else S.scrollTop=b}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&jf(this._resetIsScrollingTimeoutId)},y.render=function(){var c=this.props,w=c.children,f=c.className,h=c.direction,b=c.height,_=c.innerRef,S=c.innerElementType,T=c.innerTagName,j=c.itemCount,L=c.itemData,O=c.itemKey,D=O===void 0?Kw:O,le=c.layout,R=c.outerElementType,Z=c.outerTagName,k=c.style,U=c.useIsScrolling,re=c.width,Y=this.state.isScrolling,B=h==="horizontal"||le==="horizontal",M=B?this._onScrollHorizontal:this._onScrollVertical,te=this._getRangeToRender(),P=te[0],A=te[1],ie=[];if(j>0)for(var J=P;J<=A;J++)ie.push(F.createElement(w,{data:L,key:D(J,L),index:J,isScrolling:U?Y:void 0,style:this._getItemStyle(J)}));var oe=r(this.props,this._instanceProps);return F.createElement(R||Z||"div",{className:f,onScroll:M,ref:this._outerRefSetter,style:bu({position:"relative",height:b,width:re,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:h},k)},F.createElement(S||T||"div",{children:ie,ref:_,style:{height:B?"100%":oe,pointerEvents:Y?"none":void 0,width:B?oe:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var c=this.props.itemCount;if(c>0){var w=this._getRangeToRender(),f=w[0],h=w[1],b=w[2],_=w[3];this._callOnItemsRendered(f,h,b,_)}}if(typeof this.props.onScroll=="function"){var S=this.state,T=S.scrollDirection,j=S.scrollOffset,L=S.scrollUpdateWasRequested;this._callOnScroll(T,j,L)}},y._getRangeToRender=function(){var c=this.props,w=c.itemCount,f=c.overscanCount,h=this.state,b=h.isScrolling,_=h.scrollDirection,S=h.scrollOffset;if(w===0)return[0,0,0,0];var T=o(this.props,S,this._instanceProps),j=a(this.props,T,S,this._instanceProps),L=!b||_==="backward"?Math.max(1,f):1,O=!b||_==="forward"?Math.max(1,f):1;return[Math.max(0,T-L),Math.max(0,Math.min(w-1,j+O)),T,j]},x}(F.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Xw=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},Yw=50,ls=function(t,n,r){var s=t,i=s.itemSize,o=r.itemMetadataMap,a=r.lastMeasuredIndex;if(n>a){var l=0;if(a>=0){var d=o[a];l=d.offset+d.size}for(var p=a+1;p<=n;p++){var v=i(p);o[p]={offset:l,size:v},l+=v}r.lastMeasuredIndex=n}return o[n]},Gw=function(t,n,r){var s=n.itemMetadataMap,i=n.lastMeasuredIndex,o=i>0?s[i].offset:0;return o>=r?Xm(t,n,i,0,r):Qw(t,n,Math.max(0,i),r)},Xm=function(t,n,r,s,i){for(;s<=r;){var o=s+Math.floor((r-s)/2),a=ls(t,o,n).offset;if(a===i)return o;a<i?s=o+1:a>i&&(r=o-1)}return s>0?s-1:0},Qw=function(t,n,r,s){for(var i=t.itemCount,o=1;r<i&&ls(t,r,n).offset<s;)r+=o,o*=2;return Xm(t,n,Math.min(r,i-1),Math.floor(r/2),s)},Of=function(t,n){var r=t.itemCount,s=n.itemMetadataMap,i=n.estimatedItemSize,o=n.lastMeasuredIndex,a=0;if(o>=r&&(o=r-1),o>=0){var l=s[o];a=l.offset+l.size}var d=r-o-1,p=d*i;return a+p},Jw=Zw({getItemOffset:function(t,n,r){return ls(t,n,r).offset},getItemSize:function(t,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:Of,getOffsetForIndexAndAlignment:function(t,n,r,s,i,o){var a=t.direction,l=t.height,d=t.layout,p=t.width,v=a==="horizontal"||d==="horizontal",x=v?p:l,y=ls(t,n,i),g=Of(t,i),c=Math.max(0,Math.min(g-x,y.offset)),w=Math.max(0,y.offset-x+y.size+o);switch(r==="smart"&&(s>=w-x&&s<=c+x?r="auto":r="center"),r){case"start":return c;case"end":return w;case"center":return Math.round(w+(c-w)/2);case"auto":default:return s>=w&&s<=c?s:s<w?w:c}},getStartIndexForOffset:function(t,n,r){return Gw(t,r,n)},getStopIndexForStartIndex:function(t,n,r,s){for(var i=t.direction,o=t.height,a=t.itemCount,l=t.layout,d=t.width,p=i==="horizontal"||l==="horizontal",v=p?d:o,x=ls(t,n,s),y=r+v,g=x.offset+x.size,c=n;c<a-1&&g<y;)c++,g+=ls(t,c,s).size;return c},initInstanceProps:function(t,n){var r=t,s=r.estimatedItemSize,i={itemMetadataMap:{},estimatedItemSize:s||Yw,lastMeasuredIndex:-1};return n.resetAfterIndex=function(o,a){a===void 0&&(a=!0),i.lastMeasuredIndex=Math.min(i.lastMeasuredIndex,o-1),n._getItemStyleCache(-1),a&&n.forceUpdate()},i},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});const Ym=Rs((e,t)=>({clipboardItems:[],clipboardType:null,copyToClipboard:(n,r="copy")=>{e({clipboardItems:n,clipboardType:r}),console.log(`  ${n.length} `)},clearClipboard:()=>{e({clipboardItems:[],clipboardType:null})},getClipboard:()=>{const{clipboardItems:n,clipboardType:r}=t();return{items:n,type:r}},hasClipboard:()=>t().clipboardItems.length>0}));function e2({file:e,libraryId:t,onClose:n}){if(!e)return null;const r=e.file_type||"image",s=De.getOriginalUrl(t,e.path),i=async()=>{try{await De.openInExplorer(t,e.path)}catch(o){console.error("Failed to open file:",o)}};return u.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:[u.jsxs("div",{className:"absolute top-0 left-0 right-0 h-16 bg-black bg-opacity-50 flex items-center justify-between px-4 z-10",children:[u.jsx("div",{className:"text-white text-sm truncate max-w-md",children:e.filename}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:i,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded transition-colors",title:"",children:u.jsx(nw,{className:"w-5 h-5"})}),u.jsx("button",{onClick:n,className:"p-2 text-white hover:bg-white hover:bg-opacity-20 rounded transition-colors",children:u.jsx(Ai,{className:"w-6 h-6"})})]})]}),u.jsxs("div",{className:"w-full h-full flex items-center justify-center p-20",children:[r==="video"&&u.jsx("video",{src:s,controls:!0,autoPlay:!0,className:"max-w-full max-h-full rounded shadow-2xl",onError:o=>{console.error("Video load error:",o),alert("")},children:""}),r==="audio"&&u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx("div",{className:"text-white text-6xl mb-8",children:""}),u.jsx("audio",{src:s,controls:!0,autoPlay:!0,className:"w-96 rounded shadow-2xl",onError:o=>{console.error("Audio load error:",o),alert("")},children:""}),u.jsx("p",{className:"text-white mt-4 text-sm opacity-70",children:e.filename})]}),r==="document"&&u.jsx("div",{className:"w-full h-full bg-white rounded shadow-2xl overflow-hidden",children:e.format==="pdf"?u.jsx("iframe",{src:s,className:"w-full h-full",title:e.filename}):u.jsx("iframe",{src:s,className:"w-full h-full",title:e.filename,sandbox:"allow-same-origin"})}),(r==="design"||r==="other"||!r)&&u.jsxs("div",{className:"text-center text-white",children:[u.jsx("p",{className:"mb-4",children:""}),u.jsx("button",{onClick:i,className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors",children:""})]})]}),u.jsx("div",{className:"absolute inset-0 -z-10",onClick:n})]})}function t2({isVisible:e,rating:t,count:n,onClose:r,duration:s=2e3}){return F.useEffect(()=>{if(!e)return;const i=setTimeout(()=>{r()},s);return()=>clearTimeout(i)},[e,t,n,s,r]),e?u.jsx("div",{className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:u.jsxs("div",{className:"bg-gray-900 dark:bg-gray-800 text-white rounded-lg shadow-2xl px-6 py-4 flex items-center gap-3 min-w-[200px]",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(t)].map((i,o)=>u.jsx(bi,{size:16,className:"fill-yellow-400 text-yellow-400"},o)),[...Array(5-t)].map((i,o)=>u.jsx(bi,{size:16,className:"fill-none text-gray-600"},o+t))]}),u.jsxs("span",{className:"text-sm font-medium",children:[t===0?"":` ${t} `,n>1?` (${n} )`:""]})]})}):null}function n2({isOpen:e,conflicts:t,onResolve:n,onCancel:r}){if(!e)return null;const s=i=>{n(i)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($m,{className:"w-5 h-5 text-yellow-500"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:""})]}),u.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:u.jsx(Ai,{className:"w-5 h-5 text-gray-500"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:t.some(i=>i.isSameLocation)?u.jsxs(u.Fragment,{children:[" ",u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t.length})," /"]}):u.jsxs(u.Fragment,{children:[" ",u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t.length})," /"]})}),u.jsxs("div",{className:"mb-4 max-h-40 overflow-y-auto bg-gray-50 dark:bg-gray-900 rounded p-3",children:[t.slice(0,5).map((i,o)=>u.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-1",children:[" ",i.name,i.isSameLocation&&u.jsx("span",{className:"ml-2 text-xs text-blue-500 dark:text-blue-400",children:""})]},o)),t.length>5&&u.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["...  ",t.length-5," "]})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:""}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>s("skip"),className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-lg transition-colors text-left",children:[u.jsx("div",{className:"font-medium",children:""}),u.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.some(i=>i.isSameLocation)?"":""})]}),u.jsxs("button",{onClick:()=>s("replace"),className:"w-full px-4 py-2 bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-900 dark:hover:bg-yellow-800 text-gray-900 dark:text-white rounded-lg transition-colors text-left",children:[u.jsx("div",{className:"font-medium",children:""}),u.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.some(i=>i.isSameLocation)?"":""})]}),u.jsxs("button",{onClick:()=>s("rename"),className:"w-full px-4 py-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900 dark:hover:bg-blue-800 text-gray-900 dark:text-white rounded-lg transition-colors text-left",children:[u.jsx("div",{className:"font-medium",children:""}),u.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:' " (1).ext"'})]})]})]}),u.jsx("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200 dark:border-gray-700",children:u.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:""})})]})})}const r2=100,ll=e=>{const t=e.match(/^(\d+(?:\.\d+)?)(B|KB|MB|GB)$/);if(!t)return 0;const n=parseFloat(t[1]);switch(t[2]){case"B":return n/1024;case"KB":return n;case"MB":return n*1024;case"GB":return n*1024*1024;default:return 0}},s2=(e,t)=>{if(t.startsWith(">")){const n=t.substring(1).trim(),r=ll(n);return e>=r}else if(t.includes(" - ")){const[n,r]=t.split(" - ").map(o=>o.trim()),s=ll(n),i=ll(r);return e>=s&&e<i}return!1},ro={pageSize:100,preloadThreshold:300,overscanCount:4};function i2(){const{currentLibraryId:e}=Rn(),{images:t,selectedImage:n,setSelectedImage:r,selectedImages:s,setSelectedImages:i,toggleImageSelection:o,clearSelection:a,imageLoadingState:l,selectedFolder:d,setSelectedFolder:p,searchKeywords:v,filters:x,appendImages:y,setImageLoadingState:g,setImages:c,folders:w,setFolders:f,renamingImage:h,setRenamingImage:b,updateImage:_,setSelectedFolderItem:S}=Ee(),{thumbnailHeight:T,isResizingPanels:j}=Wt(),L=F.useMemo(()=>{const{formats:E,sizes:I,orientations:W,ratings:X}=x;return(!E||E.length===0)&&(!I||I.length===0)&&(!W||W.length===0)&&(!X||X.length===0)?t:t.filter(H=>{var ue;if(E&&E.length>0&&!E.includes((ue=H.format)==null?void 0:ue.toLowerCase()))return!1;if(I&&I.length>0){const ve=H.size/1024;let xe=!1;for(const Ne of I)if(s2(ve,Ne)){xe=!0;break}if(!xe)return!1}if(W&&W.length>0){const ve=H.width/H.height;let xe=!1;for(const Ne of W)if(Ne==="horizontal"&&ve>1.05){xe=!0;break}else if(Ne==="vertical"&&ve<.95){xe=!0;break}else if(Ne==="square"&&ve>=.95&&ve<=1.05){xe=!0;break}if(!xe)return!1}if(X&&X.length>0){const ve=H.rating||0;if(!X.includes(ve))return!1}return!0})},[t,x]),O=F.useRef(null),D=F.useRef(null),[le,R]=F.useState(0),[Z,k]=F.useState(0),[U,re]=F.useState(-1),[Y,B]=F.useState(null),[M,te]=F.useState(null),[P,A]=F.useState({isOpen:!1,position:null,image:null}),[ie,J]=F.useState({isVisible:!1,message:"",count:0}),[oe,_e]=F.useState([]),[ae,ce]=F.useState({isVisible:!1,rating:0,count:0}),[be,Te]=F.useState(!1),[Ce,He]=F.useState([]),[Be,m]=F.useState(""),K=F.useRef(null),[V,N]=F.useState({isOpen:!1,conflicts:[],pendingPaste:null,pendingUpload:null}),[C,z]=F.useState(!1),[ee,se]=F.useState({isUploading:!1,percent:0,current:0,total:0}),{copyToClipboard:$,getClipboard:de,hasClipboard:ke}=Ym();F.useEffect(()=>{J({isVisible:!1,message:"",count:0})},[d]),F.useEffect(()=>{const E=I=>{I.preventDefault(),I.stopPropagation()};return document.addEventListener("dragover",E),document.addEventListener("drop",E),()=>{document.removeEventListener("dragover",E),document.removeEventListener("drop",E)}},[]),F.useEffect(()=>{const E=async I=>{if(!(I.target.tagName==="INPUT"||I.target.tagName==="TEXTAREA")){if((I.ctrlKey||I.metaKey)&&I.key==="c"){(s.length>0||n)&&(I.preventDefault(),Le());return}if((I.ctrlKey||I.metaKey)&&I.key==="v"){ke()&&d&&(I.preventDefault(),await Ae());return}if((I.ctrlKey||I.metaKey)&&I.key==="z"){I.preventDefault(),oe.length>0&&await fe();return}if((I.key==="F2"||I.key==="Enter")&&n&&s.length===0){I.preventDefault(),gt(n);return}if(I.key==="Delete"){(s.length>0||n)&&(I.preventDefault(),await Oe());return}if(["1","2","3","4","5"].includes(I.key)){if(s.length>0||n){I.preventDefault();const W=parseInt(I.key);await je(W)}return}if(I.key==="0"){(s.length>0||n)&&(I.preventDefault(),await je(0));return}}};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[s,n,t,e,oe,d,ke]);const pe=F.useCallback(async()=>{var I;if(!e||!l.hasMore||l.isLoading)return;const E=yn.createRequest(ki.IMAGES);g({isLoading:!0});try{const W={offset:t.length,limit:ro.pageSize};d&&(W.folder=d),v&&(W.keywords=v),((I=x.formats)==null?void 0:I.length)>0&&(W.formats=x.formats.join(","));const X=await De.search(e,W,{signal:E.signal});if(!yn.isValid(E.id))return;const{images:H,total:ue,hasMore:ve}=X;yn.complete(E.id),y(H),g({isLoading:!1,loadedCount:t.length+H.length,totalCount:ue,hasMore:ve||!1})}catch(W){if(W.name==="CanceledError"||W.name==="AbortError")return;console.error("Error loading more images:",W),yn.error(E.id),g({isLoading:!1})}},[e,l,t.length,d,v,x,y,g]);F.useEffect(()=>{let E=null,I=0;const W=10,X={current:0};let H=null;const ue=(Ne,Me)=>(Math.abs(Ne-X.current)<12||(X.current=Ne,H&&clearTimeout(H),H=setTimeout(()=>{R(Ne),k(Me)},50)),!0),ve=()=>{if(O.current){const Ne=O.current.offsetWidth-32,Me=O.current.offsetHeight;if(Ne>0)return ue(Ne,Me)}return!1},xe=()=>{ve()?O.current&&(E=new ResizeObserver(()=>{Wt.getState().isResizingPanels||ve()}),E.observe(O.current)):I<W&&(I++,requestAnimationFrame(xe))};return requestAnimationFrame(xe),()=>{E&&E.disconnect(),H&&clearTimeout(H)}},[]),F.useEffect(()=>{if(j||!O.current)return;const E=O.current.offsetWidth-32,I=O.current.offsetHeight;E>0&&(R(E),k(I),D.current&&D.current.resetAfterIndex(0))},[j]);const ge=F.useMemo(()=>{if(!L.length||!le)return[];const E=16,I=T,W=[];let X=[],H=0;return L.forEach((ue,ve)=>{const xe=ue.width/ue.height,Ne=I*xe;X.push({...ue,originalWidth:Ne,aspectRatio:xe}),H+=Ne;const Me=(X.length-1)*E,Ze=H+Me,Ge=ve===L.length-1;let ft=!1;if(Ge)ft=!0;else if(Ze>=le*.95)ft=!0;else{const at=L[ve+1];if(at){const _t=at.width/at.height,Mt=I*_t;H+Mt+X.length*E>le*1.2&&(ft=!0)}}if(ft){const at=(X.length-1)*E;let Mt=(le-at)/H;Ge&&X.length<3&&(Mt=Math.min(Mt,1.2));const cn=I*Mt;X=X.map(dn=>({...dn,calculatedWidth:dn.originalWidth*Mt,calculatedHeight:cn})),W.push(X),X=[],H=0}}),W},[L,T,le]),Ue=E=>{const I=E.thumbnailPath;if(!e||!I)return"";const W=I.replace(/\\/g,"/").split("/").pop();return De.getThumbnailUrl(e,W)},Fe=E=>e?De.getOriginalUrl(e,E.path):"",ot=F.useMemo(()=>L.map(E=>({src:Fe(E),key:E.id})),[L,e]),wt=L.length>r2,nt=F.useCallback(E=>{if(!ge||!ge[E]||ge[E].length===0)return T+40;const I=ge[E][0];return((I==null?void 0:I.calculatedHeight)||T)+28+32},[ge,T]),Rt=F.useRef(0);F.useEffect(()=>{if(D.current&&wt){const E=Rt.current,I=ge.length;if(I>E&&E>0){const W=Math.max(0,E-1);D.current.resetAfterIndex(W)}else I!==E&&D.current.resetAfterIndex(0);Rt.current=I}},[ge,wt]);const $e=F.useMemo(()=>!ge||ge.length===0?[]:ge.flat(),[ge]),q=F.useCallback((E,I,W)=>{if(S(null),I.ctrlKey||I.metaKey)I.preventDefault(),o(E),B(W);else if(I.shiftKey&&Y!==null){I.preventDefault();const X=Math.min(Y,W),H=Math.max(Y,W),ue=$e.slice(X,H+1);i(ue)}else a(),r(E),B(W)},[$e,Y,o,i,a,r,S]),we=F.useCallback((E,I)=>{E.preventDefault(),A({isOpen:!0,position:{x:E.clientX,y:E.clientY},image:I})},[]),fe=async()=>{var ue;if(oe.length===0)return;const E=oe[oe.length-1],I=oe.slice(0,-1);J({isVisible:!1,message:"",count:0}),_e(I);const W=((ue=E.images[0])==null?void 0:ue.folder)||null,{folders:X,setFolders:H}=Ee.getState();if(X&&X.length>0){const ve=X.map(xe=>{const Ne=E.images.filter(Me=>{var Ze;return Me.folder===xe.path||((Ze=Me.folder)==null?void 0:Ze.startsWith(xe.path+"/"))}).length;return Ne>0?{...xe,count:(xe.count||0)+Ne}:xe});H(ve)}if(W&&W!==d)p(W),console.log(` : ${W}`);else{const ve=[...t,...E.images];c(ve)}Promise.all([Kt.restore(e,E.items),De.getFolders(e)]).then(([ve,xe])=>{if(ve.failed.length>0){console.warn(` : ${ve.failed.length} `);const Ne=ve.failed[0].error||"";_e(oe),W===d&&c(t),H(xe.folders),alert(`: ${Ne}

5`)}else H(xe.folders)}).catch(ve=>{console.error(":",ve),_e(oe),W===d&&c(t),De.getFolders(e).then(xe=>{H(xe.folders)}),alert(": "+(ve.message||""))})},je=async E=>{const I=s.length>0?s:n?[n]:[];if(I.length!==0)try{const W=I.map(H=>H.path);await De.updateRating(e,W,E);const X=t.map(H=>W.includes(H.path)?{...H,rating:E}:H);if(c(X),n&&W.includes(n.path)&&Ee.getState().setSelectedImage({...n,rating:E}),s.length>0){const H=s.map(ue=>W.includes(ue.path)?{...ue,rating:E}:ue);Ee.getState().setSelectedImages(H)}ce({isVisible:!0,rating:E,count:I.length}),console.log(`  ${I.length}  ${E} `)}catch(W){console.error(":",W),alert(": "+(W.message||""))}},Oe=async()=>{const E=s.length>0?s.map(xe=>({type:"file",path:xe.path})):n?[{type:"file",path:n.path}]:[];if(E.length===0)return;const I=new Set(E.map(xe=>xe.path)),W=t.filter(xe=>I.has(xe.path)),X=t.filter(xe=>!I.has(xe.path));c(X),a();const{folders:H,setFolders:ue}=Ee.getState();if(H&&H.length>0){const xe=H.map(Ne=>{const Me=W.filter(Ze=>{var Ge;return Ze.folder===Ne.path||((Ge=Ze.folder)==null?void 0:Ge.startsWith(Ne.path+"/"))}).length;return Me>0?{...Ne,count:Math.max(0,(Ne.count||0)-Me)}:Ne});ue(xe)}const ve=[...oe,{images:W,paths:Array.from(I),items:E}];_e(ve),J({isVisible:!0,message:` ${E.length} Ctrl+Z  ${ve.length}`,count:E.length}),Promise.all([Kt.delete(e,E),De.getFolders(e)]).then(([xe,Ne])=>{xe.failed.length>0?(console.warn(` : ${xe.failed.length} `,xe.failed),c(t),_e(oe),J({isVisible:!1,message:"",count:0}),ue(Ne.folders),alert(": ")):ue(Ne.folders)}).catch(xe=>{console.error(":",xe),c(t),_e(oe),J({isVisible:!1,message:"",count:0}),De.getFolders(e).then(Ne=>{ue(Ne.folders)}),alert(": "+(xe.message||""))})},Pe=F.useCallback(()=>{const E=s.length>0?s.map(I=>({type:"file",path:I.path})):n?[{type:"file",path:n.path}]:[];E.length!==0&&(He(E),Te(!0),A({isOpen:!1,position:null,image:null}))},[s,n]),he=F.useCallback(async E=>{if(!e||Ce.length===0)return;Te(!1);const I=new Set(Ce.map(X=>X.path)),W=t.filter(X=>!I.has(X.path));c(W),a();try{const[X,H]=await Promise.all([Kt.move(e,Ce,E),De.getFolders(e)]);X.failed&&X.failed.length>0?(alert(`: ${X.failed[0].error}`),c(t)):console.log(`  ${Ce.length} : ${E||""}`),f(H.folders)}catch(X){console.error(":",X),alert(": "+(X.message||"")),c(t)}finally{He([])}},[e,Ce,t,c,a,f]),Ie=async E=>{try{if(typeof ClipboardItem>"u"||!navigator.clipboard||typeof navigator.clipboard.write!="function")return console.warn(" API "),!1;if(E.length===0)return!1;if(E.length===1)try{const I=E[0],W=`/api/image/original/${e}/${I.path}`,H=await(await fetch(W)).blob(),ue=document.createElement("canvas"),ve=new Image;await new Promise((Me,Ze)=>{ve.onload=Me,ve.onerror=Ze,ve.src=URL.createObjectURL(H)}),ue.width=ve.width,ue.height=ve.height,ue.getContext("2d").drawImage(ve,0,0),URL.revokeObjectURL(ve.src);const Ne=await new Promise(Me=>{ue.toBlob(Me,"image/png")});return await navigator.clipboard.write([new ClipboardItem({"image/png":Ne})]),!0}catch(I){return console.warn(":",I),!1}try{const W=(await Promise.all(E.map(async H=>{const ue=`/api/image/original/${e}/${H.path}`,xe=await(await fetch(ue)).blob();return new Promise(Ne=>{const Me=new FileReader;Me.onloadend=()=>{Ne({dataUrl:Me.result,filename:H.filename})},Me.readAsDataURL(xe)})}))).map(({dataUrl:H,filename:ue})=>`<span><img src="${H}" alt="${ue}"></span>`).join(""),X=E.map(H=>H.filename).join(`
`);return await navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([W],{type:"text/html"}),"text/plain":new Blob([X],{type:"text/plain"})})]),!0}catch(I){return console.warn(":",I),!1}}catch(I){return console.warn(":",I),!1}},Le=F.useCallback(()=>{const E=s.length>0?s:n?[n]:[];if(E.length===0)return;const I=E.map(W=>({type:"file",path:W.path,data:W}));$(I,"copy"),console.log(`  ${I.length} `),J({isVisible:!0,message:` ${I.length} `,count:I.length}),setTimeout(()=>{J({isVisible:!1,message:"",count:0})},3e3),Ie(E).then(W=>{W&&console.log(" ")})},[s,n,$,e]),Ae=F.useCallback(async()=>{if(!e||!d)return;const{items:E}=de();if(!E||E.length===0)return;const I=t.filter(X=>X.folder===d),W=[];for(const X of E){const H=X.path.split("/").pop(),ue=X.path.substring(0,X.path.lastIndexOf("/"));I.some(xe=>xe.filename===H)&&W.push({path:X.path,name:H,isSameLocation:ue===d})}W.length>0?N({isOpen:!0,conflicts:W,pendingPaste:{items:E,targetFolder:d}}):await ne(E,d,"rename")},[e,d,de,t]),ne=F.useCallback(async(E,I,W)=>{if(!e)return;console.log(`  ${E.length} : ${I}`);const{folders:X,setFolders:H}=Ee.getState(),ue=X;if(X&&X.length>0){const ve=X.map(xe=>xe.path===I||I.startsWith(xe.path+"/")?{...xe,count:(xe.count||0)+E.length}:xe);H(ve)}J({isVisible:!0,message:` ${E.length} `,count:E.length}),setTimeout(()=>{J({isVisible:!1,message:"",count:0})},3e3),(async()=>{var ve,xe;try{const Ne=await Kt.copy(e,E,I,W),Me=((ve=Ne.success)==null?void 0:ve.length)||0,Ze=((xe=Ne.failed)==null?void 0:xe.length)||0;if(Ze>0&&(J({isVisible:!0,message:Me>0?` ${Me} ${Ze} `:`: ${Ne.failed[0].error}`,count:Me}),setTimeout(()=>{J({isVisible:!1,message:"",count:0})},3e3)),d===I){const ft={folder:d},at=await De.search(e,ft);c(at.images)}const Ge=await De.getFolders(e);H(Ge.folders)}catch(Ne){console.error(":",Ne),H(ue),J({isVisible:!1,message:"",count:0}),alert(": "+(Ne.message||""))}})()},[e,d,c]),Se=F.useCallback(async E=>{var X,H,ue,ve;const{pendingPaste:I,pendingUpload:W}=V;if(N({isOpen:!1,conflicts:[],pendingPaste:null,pendingUpload:null}),I)await ne(I.items,I.targetFolder,E);else if(W){if(console.log(`: ${E}`),E==="skip"){console.log("");return}se({isUploading:!0,percent:0,current:0,total:W.files.length});try{const xe=await Kt.upload(e,W.targetFolder,W.files,Ge=>{const ft=Math.round(Ge.loaded*100/Ge.total);se(at=>({...at,percent:ft}))},E);se({isUploading:!1,percent:100,current:xe.success.length,total:W.files.length});const Ne=((X=xe.success)==null?void 0:X.length)||0,Me=((H=xe.failed)==null?void 0:H.length)||0;let Ze=`:  ${Ne} `;if(Me>0&&(Ze+=`,  ${Me} `),J({isVisible:!0,message:Ze,count:Ne}),setTimeout(()=>{J({isVisible:!1,message:"",count:0}),se({isUploading:!1,percent:0,current:0,total:0})},3e3),Ne>0){const Ge={folder:d||""},ft=await De.search(e,Ge);c(ft.images);const at=await De.getFolders(e);f(at.folders),setTimeout(async()=>{try{const _t=await De.search(e,Ge);c(_t.images),console.log(" ")}catch(_t){console.error(":",_t)}},2e3)}}catch(xe){console.error(":",xe),se({isUploading:!1,percent:0,current:0,total:0}),alert(": "+(((ve=(ue=xe.response)==null?void 0:ue.data)==null?void 0:ve.error)||xe.message||""))}}},[V,ne,e,d,c,f]),ze=F.useCallback(()=>{N({isOpen:!1,conflicts:[],pendingPaste:null,pendingUpload:null})},[]),qe=F.useCallback(E=>{E.preventDefault(),E.stopPropagation();const I=E.dataTransfer.types,W=I.includes("Files"),X=I.includes("application/json");W&&!X&&z(!0)},[]),Je=F.useCallback(E=>{E.preventDefault(),E.stopPropagation();const I=E.dataTransfer.types,W=I.includes("Files"),X=I.includes("application/json");W&&!X?E.dataTransfer.dropEffect="copy":E.dataTransfer.dropEffect="none"},[]),st=F.useCallback(E=>{var W;E.preventDefault(),E.stopPropagation();const I=(W=O.current)==null?void 0:W.getBoundingClientRect();if(I){const X=E.clientX,H=E.clientY;(X<I.left||X>I.right||H<I.top||H>I.bottom)&&z(!1)}},[]),ct=F.useCallback(async E=>{var W,X,H,ue;if(E.preventDefault(),E.stopPropagation(),z(!1),!e){alert("");return}const I=Array.from(E.dataTransfer.files);if(I.length!==0){console.log(`  ${I.length} : ${d||""}`),se({isUploading:!0,percent:0,current:0,total:I.length});try{const ve=await Kt.upload(e,d||"",I,Ge=>{const ft=Math.round(Ge.loaded*100/Ge.total);se(at=>({...at,percent:ft}))});se({isUploading:!1,percent:100,current:ve.success.length,total:I.length});const xe=ve.conflicts||[];if(xe.length>0){console.log(`  ${xe.length} `),N({isOpen:!0,conflicts:xe,pendingUpload:{files:I.filter(Ge=>{const ft=Ge.name;return xe.some(at=>at.name===ft)}),targetFolder:d||""}}),se({isUploading:!1,percent:0,current:0,total:0});return}const Ne=((W=ve.success)==null?void 0:W.length)||0,Me=((X=ve.failed)==null?void 0:X.length)||0;let Ze=`:  ${Ne} `;if(Me>0&&(Ze+=`,  ${Me} `),J({isVisible:!0,message:Ze,count:Ne}),setTimeout(()=>{J({isVisible:!1,message:"",count:0}),se({isUploading:!1,percent:0,current:0,total:0})},3e3),Ne>0){const Ge={folder:d||""},ft=await De.search(e,Ge);c(ft.images);const at=await De.getFolders(e);f(at.folders),setTimeout(async()=>{try{const _t=await De.search(e,Ge);c(_t.images),console.log(" ")}catch(_t){console.error(":",_t)}},2e3)}}catch(ve){console.error(":",ve),se({isUploading:!1,percent:0,current:0,total:0}),alert(": "+(((ue=(H=ve.response)==null?void 0:H.data)==null?void 0:ue.error)||ve.message||""))}}},[e,d,c,f]),gt=F.useCallback(E=>{if(!E)return;b(E);const I=E.filename.substring(0,E.filename.lastIndexOf("."))||E.filename;m(I),setTimeout(()=>{K.current&&(K.current.focus(),K.current.select())},50)},[b]),et=F.useCallback(async()=>{if(!h||!Be.trim()){b(null),m("");return}const E=h.filename,I=E.substring(E.lastIndexOf(".")),W=Be.trim()+I;if(W===E){b(null),m("");return}try{const X=await Kt.rename(e,h.path,W),H=X.newPath,ue=X.newName;_(h.path,{path:H,filename:ue}),console.log(` : ${E}  ${ue}`)}catch(X){console.error(":",X),alert(": "+(X.message||""))}finally{b(null),m("")}},[h,Be,e,_]),tn=F.useCallback(()=>{b(null),m("")},[]),nn=F.useCallback(E=>{const I=s.length>0,W=[];return I||W.push(Dn.rename(()=>{A({isOpen:!1,position:null,image:null}),gt(E)})),W.push(Dn.copy(()=>{A({isOpen:!1,position:null,image:null}),Le()}),Dn.move(Pe),Dn.delete(async()=>{A({isOpen:!1,position:null,image:null}),await Oe()})),W},[s,n,Pe,gt,Le]),G=(E,I)=>{const W=(n==null?void 0:n.id)===E.id,X=s.some(ue=>ue.id===E.id),H=W||X;return u.jsxs("div",{className:"flex-shrink-0",style:{width:`${E.calculatedWidth}px`},children:[u.jsxs("div",{className:`relative group cursor-pointer overflow-hidden rounded-lg transition-all hover:shadow-lg ${H?"border-2 border-blue-400 dark:border-blue-500":"border border-gray-200 dark:border-gray-600"}`,style:{height:`${E.calculatedHeight}px`},onClick:ue=>q(E,ue,I),onDoubleClick:()=>{(E.fileType||"image")==="image"?re(I):te(E)},onContextMenu:ue=>we(ue,E),draggable:!0,onDragStart:ue=>{const xe=(s.length>0&&s.some(Ne=>Ne.id===E.id)?s:[E]).map(Ne=>({type:"file",path:Ne.path}));ue.dataTransfer.setData("application/json",JSON.stringify({items:xe})),ue.dataTransfer.effectAllowed="move"},children:[u.jsx("img",{src:Ue(E)||'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23f3f4f6" width="200" height="200"/%3E%3Ctext x="50%25" y="45%25" dominant-baseline="middle" text-anchor="middle" fill="%239ca3af" font-family="sans-serif" font-size="14"%3E%3C/text%3E%3Ctext x="50%25" y="60%25" dominant-baseline="middle" text-anchor="middle" fill="%23d1d5db" font-family="sans-serif" font-size="12"%3E%3C/text%3E%3C/svg%3E',alt:E.filename,className:"w-full h-full object-cover",loading:"lazy",onError:ue=>{ue.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23fef2f2" width="200" height="200"/%3E%3Ctext x="50%25" y="45%25" dominant-baseline="middle" text-anchor="middle" fill="%23dc2626" font-family="sans-serif" font-size="14"%3E%3C/text%3E%3Ctext x="50%25" y="60%25" dominant-baseline="middle" text-anchor="middle" fill="%23f87171" font-family="sans-serif" font-size="12"%3E%3C/text%3E%3C/svg%3E',ue.target.onerror=null}}),E.fileType&&E.fileType!=="image"&&u.jsxs("div",{className:`absolute top-2 right-2 rounded-md px-2 py-1 flex items-center gap-1 shadow-lg ${E.fileType==="video"?"bg-blue-500 bg-opacity-90":E.fileType==="audio"?"bg-pink-500 bg-opacity-90":E.fileType==="document"?"bg-green-500 bg-opacity-90":E.fileType==="design"?"bg-purple-500 bg-opacity-90":"bg-gray-500 bg-opacity-90"}`,children:[E.fileType==="video"&&u.jsx(hw,{className:"w-4 h-4 text-white fill-white"}),E.fileType==="audio"&&u.jsx(cw,{className:"w-4 h-4 text-white"}),E.fileType==="document"&&u.jsx(rw,{className:"w-4 h-4 text-white"}),E.fileType==="design"&&u.jsx(dw,{className:"w-4 h-4 text-white"}),E.fileType==="other"&&u.jsx(sw,{className:"w-4 h-4 text-white"}),u.jsx("span",{className:"text-white text-xs font-semibold uppercase",children:E.format||E.filename.split(".").pop()})]}),u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all pointer-events-none"})]}),u.jsx("div",{className:"mt-1 px-1 h-4 flex items-center",children:(h==null?void 0:h.id)===E.id?u.jsx("input",{ref:K,type:"text",value:Be,onChange:ue=>m(ue.target.value),onKeyDown:ue=>{ue.key==="Enter"?(ue.preventDefault(),et()):ue.key==="Escape"&&(ue.preventDefault(),tn())},onBlur:et,onClick:ue=>ue.stopPropagation(),className:"w-full text-xs text-center bg-transparent border-none outline-none focus:outline-none underline decoration-2 decoration-blue-500 underline-offset-2 truncate leading-none",style:{color:H?"#3b82f6":"#909090",fontWeight:H?"600":"400",padding:0,margin:0,height:"1rem"}}):u.jsx("p",{className:"text-xs truncate text-center transition-colors cursor-text m-0 leading-none",style:{color:H?"#3b82f6":"#909090",fontWeight:H?"600":"400",height:"1rem"},onDoubleClick:ue=>{s.length===0&&(ue.stopPropagation(),gt(E))},title:s.length===0?"":"",children:E.filename})})]},E.id)},ye=({index:E,style:I})=>{var H;const W=ge[E];if(!W)return null;let X=0;for(let ue=0;ue<E;ue++)X+=((H=ge[ue])==null?void 0:H.length)||0;return u.jsx("div",{style:{...I,paddingBottom:"32px"},className:"flex gap-4",children:W.map((ue,ve)=>G(ue,X+ve))})};return!L.length&&l.isLoading?u.jsxs("div",{ref:O,className:"h-full overflow-hidden relative",onDragEnter:qe,onDragOver:Je,onDragLeave:st,onDrop:ct,children:[C&&u.jsx("div",{className:"absolute inset-0 z-50 bg-blue-500 bg-opacity-20 border-4 border-dashed border-blue-500 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:""}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:" JPGPNGGIFWebP "})]})})}),ee.isUploading&&u.jsxs("div",{className:"absolute top-4 right-4 z-40 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 min-w-[300px]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"..."}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ee.percent,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ee.percent}%`}})}),u.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-right",children:[" ",ee.total," "]})]})]}):L.length?!le&&L.length>0?u.jsx("div",{ref:O,className:"h-full overflow-hidden"}):u.jsxs("div",{ref:O,className:"h-full overflow-hidden relative",onDragEnter:qe,onDragOver:Je,onDragLeave:st,onDrop:ct,children:[C&&u.jsx("div",{className:"absolute inset-0 z-50 bg-blue-500 bg-opacity-20 border-4 border-dashed border-blue-500 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:""}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:" JPGPNGGIFWebP "})]})})}),ee.isUploading&&u.jsxs("div",{className:"absolute top-4 right-4 z-40 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 min-w-[300px]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"..."}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ee.percent,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ee.percent}%`}})}),u.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-right",children:[" ",ee.total," "]})]}),u.jsx(Bw,{images:ot,visible:U>=0,onClose:()=>re(-1),index:U,onIndexChange:re,children:wt?u.jsx(Jw,{ref:D,height:Z||600,width:le+32,itemCount:ge.length,itemSize:nt,className:"p-4",overscanCount:ro.overscanCount,onScroll:({scrollOffset:E,scrollDirection:I})=>{if(I==="forward"&&l.hasMore&&!l.isLoading){const W=ge.reduce((H,ue,ve)=>H+nt(ve),0),X=E+(Z||600);W-X<ro.preloadThreshold&&pe()}},children:ye}):u.jsx("div",{className:"h-full overflow-y-auto p-4",onScroll:E=>{if(l.hasMore&&!l.isLoading){const{scrollTop:I,scrollHeight:W,clientHeight:X}=E.target;W-I-X<ro.preloadThreshold&&pe()}},children:u.jsx("div",{className:"space-y-8",children:ge.map((E,I)=>{var X;let W=0;for(let H=0;H<I;H++)W+=((X=ge[H])==null?void 0:X.length)||0;return u.jsx("div",{className:"flex gap-4",children:E.map((H,ue)=>G(H,W+ue))},I)})})})}),M&&u.jsx(e2,{file:M,libraryId:e,onClose:()=>te(null)}),u.jsx(Vm,{isOpen:P.isOpen,position:P.position,onClose:()=>A({isOpen:!1,position:null,image:null}),options:P.image?nn(P.image):[]}),u.jsx(qm,{isVisible:ie.isVisible,message:ie.message,onUndo:fe,onClose:()=>{J({isVisible:!1,message:"",count:0})}}),u.jsx(t2,{isVisible:ae.isVisible,rating:ae.rating,count:ae.count,onClose:()=>ce({isVisible:!1,rating:0,count:0})}),be&&u.jsx(Km,{folders:w,currentFolder:d,onSelect:he,onClose:()=>{Te(!1),He([])}}),u.jsx(n2,{isOpen:V.isOpen,conflicts:V.conflicts,onResolve:Se,onCancel:ze})]}):u.jsxs("div",{ref:O,className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400 relative",onDragEnter:qe,onDragOver:Je,onDragLeave:st,onDrop:ct,children:[C&&u.jsx("div",{className:"absolute inset-0 z-50 bg-blue-500 bg-opacity-20 border-4 border-dashed border-blue-500 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:""}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:" JPGPNGGIFWebP "})]})})}),ee.isUploading&&u.jsxs("div",{className:"absolute top-4 right-4 z-40 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 min-w-[300px]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"..."}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ee.percent,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${ee.percent}%`}})}),u.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 text-right",children:[" ",ee.total," "]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-lg mb-2",children:""}),u.jsx("p",{className:"text-sm",children:""}),u.jsx("p",{className:"text-xs mt-4 text-gray-400",children:""})]})]})}function o2(){const{currentLibraryId:e,getCurrentLibrary:t}=Rn(),{totalImageCount:n,totalSize:r,folders:s}=Ee(),i=t(),o=s.length,a=s.filter(d=>!d.parentPath||d.parentPath==="."||d.parentPath===""),l=d=>{if(d===0)return"0 B";const p=1024,v=["B","KB","MB","GB","TB"],x=Math.floor(Math.log(d)/Math.log(p));return Math.round(d/Math.pow(p,x)*100)/100+" "+v[x]};return u.jsx("div",{className:"flex-1 h-full overflow-y-auto bg-primary p-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:(i==null?void 0:i.name)||""}),(i==null?void 0:i.path)&&u.jsx("p",{className:"text-sm text-tertiary",children:i.path})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[u.jsx("div",{className:"bg-secondary rounded-xl p-6 shadow-sm border",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg text-accent",children:u.jsx(lw,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:n.toLocaleString()}),u.jsx("div",{className:"text-sm text-tertiary",children:""})]})]})}),u.jsx("div",{className:"bg-secondary rounded-xl p-6 shadow-sm border",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg text-indigo-600",children:u.jsx(Yn,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:o.toLocaleString()}),u.jsx("div",{className:"text-sm text-tertiary",children:""})]})]})}),u.jsx("div",{className:"bg-secondary rounded-xl p-6 shadow-sm border",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg text-purple-600",children:u.jsx(ow,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:l(r)}),u.jsx("div",{className:"text-sm text-tertiary",children:""})]})]})})]}),a.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:""}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(d=>u.jsxs("div",{className:"bg-secondary rounded-lg p-4 shadow-sm border hover:shadow-md transition-shadow cursor-pointer group",onClick:()=>Ee.getState().setSelectedFolder(d.path),children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Yn,{className:"w-8 h-8 text-yellow-500 group-hover:text-yellow-400 transition-colors"}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("div",{className:"font-medium text-primary truncate",title:d.name,children:d.name})})]}),u.jsxs("div",{className:"text-xs text-tertiary",children:[d.imageCount||0," "]})]},d.path))})]}),a.length===0&&u.jsxs("div",{className:"text-center py-12 bg-secondary rounded-xl border border-dashed",children:[u.jsx(Yn,{className:"w-12 h-12 text-secondary mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-primary mb-2",children:""}),u.jsx("p",{className:"text-tertiary max-w-sm mx-auto",children:""})]})]})})}function If(){const{currentLibraryId:e}=Rn(),{searchKeywords:t,filters:n,selectedFolder:r,setImages:s,setOriginalImages:i,imageLoadingState:o,images:a}=Ee(),{scanProgress:l}=or(),d=F.useRef(null),p=F.useRef(null),v=()=>{if(!l||l.current===0)return null;if(l.estimatedTimeLeft!==void 0){const g=l.estimatedTimeLeft;return g<1?"":g<60?` ${g} `:` ${Math.floor(g/60)} `}return null},x=F.useCallback(()=>{yn.cancelAll(ki.IMAGES),d.current=null},[]),y=F.useCallback(async(g=!0)=>{var w;if(!e)return;if(!r&&!t&&n.formats.length===0){s([]),Ee.getState().setImageLoadingState({isLoading:!1,loadedCount:0,totalCount:0,hasMore:!1});return}g&&bw.clear(),gu(),x();const c=yn.createRequest(ki.IMAGES);d.current=c,Ee.getState().setImageLoadingState({...o,isLoading:!0});try{const f={offset:g?0:o.loadedCount,limit:100};r&&(f.folder=r),t&&(f.keywords=t),((w=n.formats)==null?void 0:w.length)>0&&(f.formats=n.formats.join(","));const h=await De.search(e,f,{signal:c.signal}),{images:b,total:_,hasMore:S}=h;if(!yn.isValid(c.id))return;yn.complete(c.id),g&&(s(b),i(b)),Ee.getState().setImageLoadingState({isLoading:!1,loadedCount:b.length,totalCount:_,hasMore:S||!1}),S&&vw(S)}catch(f){if(f.name==="CanceledError"||f.name==="AbortError")return;console.error("Error loading images:",f),yn.error(c.id)}finally{(yn.isValid(c.id)||c.status==="completed")&&(d.current=null)}},[e,t,r,s,i,x]);return F.useEffect(()=>{if(e)return p.current&&clearTimeout(p.current),x(),Ee.getState().setImageLoadingState({isLoading:!0,loadedCount:o.loadedCount,totalCount:o.totalCount,hasMore:!1}),p.current=setTimeout(()=>{y(!0)},50),()=>{p.current&&clearTimeout(p.current)}},[e,t,r,y,x]),F.useEffect(()=>{const g=localStorage.getItem("flypic_restore_folder");if(g){const{setSelectedFolder:c}=Ee.getState();c(g),localStorage.removeItem("flypic_restore_folder"),console.log(" :",g)}},[]),F.useEffect(()=>()=>{x(),p.current&&clearTimeout(p.current),fu.cancelPendingLoads(),fu.removeAllEventListeners()},[x]),u.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",children:[l&&u.jsxs("div",{className:"p-4 border-b bg-blue-50 dark:bg-blue-900 border-blue-200 dark:border-blue-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:(l==null?void 0:l.status)==="preparing"?"...":"..."}),u.jsxs("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:[(l==null?void 0:l.percent)||0,"%"]})]}),u.jsx("div",{className:"w-full rounded-full h-2 mb-2 bg-blue-200 dark:bg-blue-800",children:u.jsx("div",{className:"h-2 rounded-full transition-all bg-blue-500",style:{width:`${(l==null?void 0:l.percent)||0}%`}})}),u.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:[" ",(l==null?void 0:l.current)||0," / ",(l==null?void 0:l.total)||0," ",v()&&`  ${v()}`]})]}),o.totalCount>0&&u.jsx("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[" ",a.length," / ",o.totalCount," "]}),u.jsx("div",{className:"w-32 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500",style:{width:`${o.totalCount?a.length/o.totalCount*100:0}%`}})})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:!r&&!t&&n.formats.length===0?u.jsx(o2,{}):u.jsx(i2,{})})]})}function so(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(d,p){if(!s[d]){if(!r[d]){var v=typeof so=="function"&&so;if(!p&&v)return v(d,!0);if(a)return a(d,!0);var x=new Error("Cannot find module '"+d+"'");throw x.code="MODULE_NOT_FOUND",x}var y=s[d]={exports:{}};r[d][0].call(y.exports,function(g){var c=r[d][1][g];return o(c||g)},y,y.exports,n,r,s,i)}return s[d].exports}for(var a=typeof so=="function"&&so,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var d,p,v,x,y,g,c,w=[],f=0,h=l.length,b=h,_=i.getTypeOf(l)!=="string";f<l.length;)b=h-f,v=_?(d=l[f++],p=f<h?l[f++]:0,f<h?l[f++]:0):(d=l.charCodeAt(f++),p=f<h?l.charCodeAt(f++):0,f<h?l.charCodeAt(f++):0),x=d>>2,y=(3&d)<<4|p>>4,g=1<b?(15&p)<<2|v>>6:64,c=2<b?63&v:64,w.push(a.charAt(x)+a.charAt(y)+a.charAt(g)+a.charAt(c));return w.join("")},s.decode=function(l){var d,p,v,x,y,g,c=0,w=0,f="data:";if(l.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var h,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&b--,l.charAt(l.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=o.uint8array?new Uint8Array(0|b):new Array(0|b);c<l.length;)d=a.indexOf(l.charAt(c++))<<2|(x=a.indexOf(l.charAt(c++)))>>4,p=(15&x)<<4|(y=a.indexOf(l.charAt(c++)))>>2,v=(3&y)<<6|(g=a.indexOf(l.charAt(c++))),h[w++]=d,y!==64&&(h[w++]=p),g!==64&&(h[w++]=v);return h}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function d(p,v,x,y,g){this.compressedSize=p,this.uncompressedSize=v,this.crc32=x,this.compression=y,this.compressedContent=g}d.prototype={getContentWorker:function(){var p=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),v=this;return p.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(p,v,x){return p.pipe(new a).pipe(new l("uncompressedSize")).pipe(v.compressWorker(x)).pipe(new l("compressedSize")).withStreamInfo("compression",v)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=function(){for(var a,l=[],d=0;d<256;d++){a=d;for(var p=0;p<8;p++)a=1&a?3988292384^a>>>1:a>>>1;l[d]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(d,p,v,x){var y=o,g=x+v;d^=-1;for(var c=x;c<g;c++)d=d>>>8^y[255&(d^p[c])];return-1^d}(0|l,a,a.length,0):function(d,p,v,x){var y=o,g=x+v;d^=-1;for(var c=x;c<g;c++)d=d>>>8^y[255&(d^p.charCodeAt(c))];return-1^d}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),d=i?"uint8array":"array";function p(v,x){l.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=x,this.meta={}}s.magic="\b\0",a.inherits(p,l),p.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(d,v.data),!1)},p.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(x){v.push({data:x,meta:v.meta})}},s.compressWorker=function(v){return new p("Deflate",v)},s.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(y,g){var c,w="";for(c=0;c<g;c++)w+=String.fromCharCode(255&y),y>>>=8;return w}function o(y,g,c,w,f,h){var b,_,S=y.file,T=y.compression,j=h!==d.utf8encode,L=a.transformTo("string",h(S.name)),O=a.transformTo("string",d.utf8encode(S.name)),D=S.comment,le=a.transformTo("string",h(D)),R=a.transformTo("string",d.utf8encode(D)),Z=O.length!==S.name.length,k=R.length!==D.length,U="",re="",Y="",B=S.dir,M=S.date,te={crc32:0,compressedSize:0,uncompressedSize:0};g&&!c||(te.crc32=y.crc32,te.compressedSize=y.compressedSize,te.uncompressedSize=y.uncompressedSize);var P=0;g&&(P|=8),j||!Z&&!k||(P|=2048);var A=0,ie=0;B&&(A|=16),f==="UNIX"?(ie=798,A|=function(oe,_e){var ae=oe;return oe||(ae=_e?16893:33204),(65535&ae)<<16}(S.unixPermissions,B)):(ie=20,A|=function(oe){return 63&(oe||0)}(S.dosPermissions)),b=M.getUTCHours(),b<<=6,b|=M.getUTCMinutes(),b<<=5,b|=M.getUTCSeconds()/2,_=M.getUTCFullYear()-1980,_<<=4,_|=M.getUTCMonth()+1,_<<=5,_|=M.getUTCDate(),Z&&(re=i(1,1)+i(p(L),4)+O,U+="up"+i(re.length,2)+re),k&&(Y=i(1,1)+i(p(le),4)+R,U+="uc"+i(Y.length,2)+Y);var J="";return J+=`
\0`,J+=i(P,2),J+=T.magic,J+=i(b,2),J+=i(_,2),J+=i(te.crc32,4),J+=i(te.compressedSize,4),J+=i(te.uncompressedSize,4),J+=i(L.length,2),J+=i(U.length,2),{fileRecord:v.LOCAL_FILE_HEADER+J+L+U,dirRecord:v.CENTRAL_FILE_HEADER+i(ie,2)+J+i(le.length,2)+"\0\0\0\0"+i(A,4)+i(w,4)+L+U+le}}var a=n("../utils"),l=n("../stream/GenericWorker"),d=n("../utf8"),p=n("../crc32"),v=n("../signature");function x(y,g,c,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=c,this.encodeFileName=w,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(x,l),x.prototype.push=function(y){var g=y.meta.percent||0,c=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,l.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:c?(g+100*(c-w-1))/c:100}}))},x.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var g=this.streamFiles&&!y.file.dir;if(g){var c=o(y,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(y){this.accumulate=!1;var g=this.streamFiles&&!y.file.dir,c=o(y,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),g)this.push({data:function(w){return v.DATA_DESCRIPTOR+i(w.crc32,4)+i(w.compressedSize,4)+i(w.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var y=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var c=this.bytesWritten-y,w=function(f,h,b,_,S){var T=a.transformTo("string",S(_));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(f,2)+i(f,2)+i(h,4)+i(b,4)+i(T.length,2)+T}(this.dirRecords.length,c,y,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(y){this._sources.push(y);var g=this;return y.on("data",function(c){g.processChunk(c)}),y.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),y.on("error",function(c){g.error(c)}),this},x.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(y){var g=this._sources;if(!l.prototype.error.call(this,y))return!1;for(var c=0;c<g.length;c++)try{g[c].error(y)}catch{}return!0},x.prototype.lock=function(){l.prototype.lock.call(this);for(var y=this._sources,g=0;g<y.length;g++)y[g].lock()},r.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,l,d){var p=new o(l.streamFiles,d,l.platform,l.encodeFileName),v=0;try{a.forEach(function(x,y){v++;var g=function(h,b){var _=h||b,S=i[_];if(!S)throw new Error(_+" is not a valid compression method !");return S}(y.options.compression,l.compression),c=y.options.compressionOptions||l.compressionOptions||{},w=y.dir,f=y.date;y._compressWorker(g,c).withStreamInfo("file",{name:x,dir:w,date:f,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(p)}),p.entriesCount=v}catch(x){p.error(x)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),d=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function v(x){return new o.Promise(function(y,g){var c=x.decompressed.getContentWorker().pipe(new d);c.on("error",function(w){g(w)}).on("end",function(){c.streamInfo.crc32!==x.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(x,y){var g=this;return y=i.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),p.isNode&&p.isStream(x)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",x,!0,y.optimizedBinaryString,y.base64).then(function(c){var w=new l(y);return w.load(c),w}).then(function(c){var w=[o.Promise.resolve(c)],f=c.files;if(y.checkCRC32)for(var h=0;h<f.length;h++)w.push(v(f[h]));return o.Promise.all(w)}).then(function(c){for(var w=c.shift(),f=w.files,h=0;h<f.length;h++){var b=f[h],_=b.fileNameStr,S=i.resolve(b.fileNameStr);g.file(S,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:y.createFolders}),b.dir||(g.file(S).unsafeOriginalName=_)}return w.zipComment.length&&(g.comment=w.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(l,d){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(d)}i.inherits(a,o),a.prototype._bindStream=function(l){var d=this;(this._stream=l).pause(),l.on("data",function(p){d.push({data:p,meta:{percent:0}})}).on("error",function(p){d.isPaused?this.generatedError=p:d.error(p)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,l,d){i.call(this,l),this._helper=a;var p=this;a.on("data",function(v,x){p.push(v)||p._helper.pause(),d&&d(x)}).on("error",function(v){p.emit("error",v)}).on("end",function(){p.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(S,T,j){var L,O=a.getTypeOf(T),D=a.extend(j||{},p);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(S=f(S)),D.createFolders&&(L=w(S))&&h.call(this,L,!0);var le=O==="string"&&D.binary===!1&&D.base64===!1;j&&j.binary!==void 0||(D.binary=!le),(T instanceof v&&T.uncompressedSize===0||D.dir||!T||T.length===0)&&(D.base64=!1,D.binary=!0,T="",D.compression="STORE",O="string");var R=null;R=T instanceof v||T instanceof l?T:g.isNode&&g.isStream(T)?new c(S,T):a.prepareContent(S,T,D.binary,D.optimizedBinaryString,D.base64);var Z=new x(S,R,D);this.files[S]=Z}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),p=n("./defaults"),v=n("./compressedObject"),x=n("./zipObject"),y=n("./generate"),g=n("./nodejsUtils"),c=n("./nodejs/NodejsStreamInputAdapter"),w=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var T=S.lastIndexOf("/");return 0<T?S.substring(0,T):""},f=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},h=function(S,T){return T=T!==void 0?T:p.createFolders,S=f(S),this.files[S]||i.call(this,S,null,{dir:!0,createFolders:T}),this.files[S]};function b(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var T,j,L;for(T in this.files)L=this.files[T],(j=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&S(j,L)},filter:function(S){var T=[];return this.forEach(function(j,L){S(j,L)&&T.push(L)}),T},file:function(S,T,j){if(arguments.length!==1)return S=this.root+S,i.call(this,S,T,j),this;if(b(S)){var L=S;return this.filter(function(D,le){return!le.dir&&L.test(D)})}var O=this.files[this.root+S];return O&&!O.dir?O:null},folder:function(S){if(!S)return this;if(b(S))return this.filter(function(O,D){return D.dir&&S.test(O)});var T=this.root+S,j=h.call(this,T),L=this.clone();return L.root=j.name,L},remove:function(S){S=this.root+S;var T=this.files[S];if(T||(S.slice(-1)!=="/"&&(S+="/"),T=this.files[S]),T&&!T.dir)delete this.files[S];else for(var j=this.filter(function(O,D){return D.name.slice(0,S.length)===S}),L=0;L<j.length;L++)delete this.files[j[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var T,j={};try{if((j=a.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");a.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var L=j.comment||this.comment||"";T=y.generateWorker(this,j,L)}catch(O){(T=new l("error")).error(O)}return new d(T,j.type||"string",j.mimeType)},generateAsync:function(S,T){return this.generateInternalStream(S).accumulate(T)},generateNodeStream:function(S,T){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(T)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),d=a.charCodeAt(1),p=a.charCodeAt(2),v=a.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===l&&this.data[x+1]===d&&this.data[x+2]===p&&this.data[x+3]===v)return x-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),d=a.charCodeAt(1),p=a.charCodeAt(2),v=a.charCodeAt(3),x=this.readData(4);return l===x[0]&&d===x[1]&&p===x[2]&&v===x[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,d=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)d=(d<<8)+this.byteAt(l);return this.index+=a,d},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),d=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(v){var x=i.getTypeOf(v);return i.checkSupport(x),x!=="string"||o.uint8array?x==="nodebuffer"?new d(v):o.uint8array?new p(i.transformTo("uint8array",v)):new a(i.transformTo("array",v)):new l(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,o),a.prototype.processChunk=function(l){if(l){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=i.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,d);break;case"uint8array":l=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":l=this.data.slice(this.index,d)}return this.index=d,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),d=n("../support"),p=n("../external"),v=null;if(d.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(g,c){return new p.Promise(function(w,f){var h=[],b=g._internalType,_=g._outputType,S=g._mimeType;g.on("data",function(T,j){h.push(T),c&&c(j)}).on("error",function(T){h=[],f(T)}).on("end",function(){try{var T=function(j,L,O){switch(j){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),O);case"base64":return l.encode(L);default:return i.transformTo(j,L)}}(_,function(j,L){var O,D=0,le=null,R=0;for(O=0;O<L.length;O++)R+=L[O].length;switch(j){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(le=new Uint8Array(R),O=0;O<L.length;O++)le.set(L[O],D),D+=L[O].length;return le;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+j+"'")}}(b,h),S);w(T)}catch(j){f(j)}h=[]}).resume()})}function y(g,c,w){var f=c;switch(c){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=c,this._mimeType=w,i.checkSupport(f),this._worker=g.pipe(new o(f)),g.lock()}catch(h){this._worker=new a("error"),this._worker.error(h)}}y.prototype={accumulate:function(g){return x(this,g)},on:function(g,c){var w=this;return g==="data"?this._worker.on(g,function(f){c.call(w,f.data,f.meta)}):this._worker.on(g,function(){i.delay(c,arguments,w)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),d=new Array(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;d[254]=d[254]=1;function v(){l.call(this,"utf-8 decode"),this.leftOver=null}function x(){l.call(this,"utf-8 encode")}s.utf8encode=function(y){return o.nodebuffer?a.newBufferFrom(y,"utf-8"):function(g){var c,w,f,h,b,_=g.length,S=0;for(h=0;h<_;h++)(64512&(w=g.charCodeAt(h)))==55296&&h+1<_&&(64512&(f=g.charCodeAt(h+1)))==56320&&(w=65536+(w-55296<<10)+(f-56320),h++),S+=w<128?1:w<2048?2:w<65536?3:4;for(c=o.uint8array?new Uint8Array(S):new Array(S),h=b=0;b<S;h++)(64512&(w=g.charCodeAt(h)))==55296&&h+1<_&&(64512&(f=g.charCodeAt(h+1)))==56320&&(w=65536+(w-55296<<10)+(f-56320),h++),w<128?c[b++]=w:(w<2048?c[b++]=192|w>>>6:(w<65536?c[b++]=224|w>>>12:(c[b++]=240|w>>>18,c[b++]=128|w>>>12&63),c[b++]=128|w>>>6&63),c[b++]=128|63&w);return c}(y)},s.utf8decode=function(y){return o.nodebuffer?i.transformTo("nodebuffer",y).toString("utf-8"):function(g){var c,w,f,h,b=g.length,_=new Array(2*b);for(c=w=0;c<b;)if((f=g[c++])<128)_[w++]=f;else if(4<(h=d[f]))_[w++]=65533,c+=h-1;else{for(f&=h===2?31:h===3?15:7;1<h&&c<b;)f=f<<6|63&g[c++],h--;1<h?_[w++]=65533:f<65536?_[w++]=f:(f-=65536,_[w++]=55296|f>>10&1023,_[w++]=56320|1023&f)}return _.length!==w&&(_.subarray?_=_.subarray(0,w):_.length=w),i.applyFromCharCode(_)}(y=i.transformTo(o.uint8array?"uint8array":"array",y))},i.inherits(v,l),v.prototype.processChunk=function(y){var g=i.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var c=g;(g=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),g.set(c,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var w=function(h,b){var _;for((b=b||h.length)>h.length&&(b=h.length),_=b-1;0<=_&&(192&h[_])==128;)_--;return _<0||_===0?b:_+d[h[_]]>b?_:b}(g),f=g;w!==g.length&&(o.uint8array?(f=g.subarray(0,w),this.leftOver=g.subarray(w,g.length)):(f=g.slice(0,w),this.leftOver=g.slice(w,g.length))),this.push({data:s.utf8decode(f),meta:y.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=v,i.inherits(x,l),x.prototype.processChunk=function(y){this.push({data:s.utf8encode(y.data),meta:y.meta})},s.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function d(c){return c}function p(c,w){for(var f=0;f<c.length;++f)w[f]=255&c.charCodeAt(f);return w}n("setimmediate"),s.newBlob=function(c,w){s.checkSupport("blob");try{return new Blob([c],{type:w})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(c),f.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(c,w,f){var h=[],b=0,_=c.length;if(_<=f)return String.fromCharCode.apply(null,c);for(;b<_;)w==="array"||w==="nodebuffer"?h.push(String.fromCharCode.apply(null,c.slice(b,Math.min(b+f,_)))):h.push(String.fromCharCode.apply(null,c.subarray(b,Math.min(b+f,_)))),b+=f;return h.join("")},stringifyByChar:function(c){for(var w="",f=0;f<c.length;f++)w+=String.fromCharCode(c[f]);return w},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function x(c){var w=65536,f=s.getTypeOf(c),h=!0;if(f==="uint8array"?h=v.applyCanBeUsed.uint8array:f==="nodebuffer"&&(h=v.applyCanBeUsed.nodebuffer),h)for(;1<w;)try{return v.stringifyByChunk(c,f,w)}catch{w=Math.floor(w/2)}return v.stringifyByChar(c)}function y(c,w){for(var f=0;f<c.length;f++)w[f]=c[f];return w}s.applyFromCharCode=x;var g={};g.string={string:d,array:function(c){return p(c,new Array(c.length))},arraybuffer:function(c){return g.string.uint8array(c).buffer},uint8array:function(c){return p(c,new Uint8Array(c.length))},nodebuffer:function(c){return p(c,a.allocBuffer(c.length))}},g.array={string:x,array:d,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return a.newBufferFrom(c)}},g.arraybuffer={string:function(c){return x(new Uint8Array(c))},array:function(c){return y(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:d,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return a.newBufferFrom(new Uint8Array(c))}},g.uint8array={string:x,array:function(c){return y(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:d,nodebuffer:function(c){return a.newBufferFrom(c)}},g.nodebuffer={string:x,array:function(c){return y(c,new Array(c.length))},arraybuffer:function(c){return g.nodebuffer.uint8array(c).buffer},uint8array:function(c){return y(c,new Uint8Array(c.length))},nodebuffer:d},s.transformTo=function(c,w){if(w=w||"",!c)return w;s.checkSupport(c);var f=s.getTypeOf(w);return g[f][c](w)},s.resolve=function(c){for(var w=c.split("/"),f=[],h=0;h<w.length;h++){var b=w[h];b==="."||b===""&&h!==0&&h!==w.length-1||(b===".."?f.pop():f.push(b))}return f.join("/")},s.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(c)?"nodebuffer":i.uint8array&&c instanceof Uint8Array?"uint8array":i.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(c){if(!i[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(c){var w,f,h="";for(f=0;f<(c||"").length;f++)h+="\\x"+((w=c.charCodeAt(f))<16?"0":"")+w.toString(16).toUpperCase();return h},s.delay=function(c,w,f){setImmediate(function(){c.apply(f||null,w||[])})},s.inherits=function(c,w){function f(){}f.prototype=w.prototype,c.prototype=new f},s.extend=function(){var c,w,f={};for(c=0;c<arguments.length;c++)for(w in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],w)&&f[w]===void 0&&(f[w]=arguments[c][w]);return f},s.prepareContent=function(c,w,f,h,b){return l.Promise.resolve(w).then(function(_){return i.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,T){var j=new FileReader;j.onload=function(L){S(L.target.result)},j.onerror=function(L){T(L.target.error)},j.readAsArrayBuffer(_)}):_}).then(function(_){var S=s.getTypeOf(_);return S?(S==="arraybuffer"?_=s.transformTo("uint8array",_):S==="string"&&(b?_=o.decode(_):f&&h!==!0&&(_=function(T){return p(T,i.uint8array?new Uint8Array(T.length):new Array(T.length))}(_))),_):l.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),d=n("./support");function p(v){this.files=[],this.loadOptions=v}p.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(x)+", expected "+o.pretty(v)+")")}},isSignature:function(v,x){var y=this.reader.index;this.reader.setIndex(v);var g=this.reader.readString(4)===x;return this.reader.setIndex(y),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),x=d.uint8array?"uint8array":"array",y=o.transformTo(x,v);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,x,y,g=this.zip64EndOfCentralSize-44;0<g;)v=this.reader.readInt(2),x=this.reader.readInt(4),y=this.reader.readData(x),this.zip64ExtensibleData[v]={id:v,length:x,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,x;for(v=0;v<this.files.length;v++)x=this.files[v],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(v=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var x=v;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var g=x-y;if(0<g)this.isSignature(x,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(v){this.reader=i(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),d=n("./utf8"),p=n("./compressions"),v=n("./support");function x(y,g){this.options=y,this.loadOptions=g}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var g,c;if(y.skip(22),this.fileNameLength=y.readInt(2),c=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(w){for(var f in p)if(Object.prototype.hasOwnProperty.call(p,f)&&p[f].magic===w)return p[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var g=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(g),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var g,c,w,f=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<f;)g=y.readInt(2),c=y.readInt(2),w=y.readData(c),this.extraFields[g]={id:g,length:c,value:w};y.setIndex(f)},handleUTF8:function(){var y=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var c=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var f=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var g=i(y.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:d.utf8decode(g.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var g=i(y.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:d.utf8decode(g.readData(y.length-5))}return null}},r.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(g,c,w){this.name=g,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=c,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),d=n("./compressedObject"),p=n("./stream/GenericWorker");i.prototype={internalStream:function(g){var c=null,w="string";try{if(!g)throw new Error("No output type specified.");var f=(w=g.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),c=this._decompressWorker();var h=!this._dataBinary;h&&!f&&(c=c.pipe(new l.Utf8EncodeWorker)),!h&&f&&(c=c.pipe(new l.Utf8DecodeWorker))}catch(b){(c=new p("error")).error(b)}return new o(c,w,"")},async:function(g,c){return this.internalStream(g).accumulate(c)},nodeStream:function(g,c){return this.internalStream(g||"nodebuffer").toNodejsStream(c)},_compressWorker:function(g,c){if(this._data instanceof d&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),d.createWorkerFrom(w,g,c)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof p?this._data:new a(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<v.length;y++)i.prototype[v[y]]=x;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var d=0,p=new l(g),v=i.document.createTextNode("");p.observe(v,{characterData:!0}),o=function(){v.data=d=++d%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var c=i.document.createElement("script");c.onreadystatechange=function(){g(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},i.document.documentElement.appendChild(c)}:function(){setTimeout(g,0)};else{var x=new i.MessageChannel;x.port1.onmessage=g,o=function(){x.port2.postMessage(0)}}var y=[];function g(){var c,w;a=!0;for(var f=y.length;f;){for(w=y,y=[],c=-1;++c<f;)w[c]();f=y.length}a=!1}r.exports=function(c){y.push(c)!==1||a||o()}}).call(this,typeof Pi<"u"?Pi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},l=["REJECTED"],d=["FULFILLED"],p=["PENDING"];function v(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,f!==o&&c(this,f)}function x(f,h,b){this.promise=f,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function y(f,h,b){i(function(){var _;try{_=h(b)}catch(S){return a.reject(f,S)}_===f?a.reject(f,new TypeError("Cannot resolve promise with itself")):a.resolve(f,_)})}function g(f){var h=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof h=="function")return function(){h.apply(f,arguments)}}function c(f,h){var b=!1;function _(j){b||(b=!0,a.reject(f,j))}function S(j){b||(b=!0,a.resolve(f,j))}var T=w(function(){h(S,_)});T.status==="error"&&_(T.value)}function w(f,h){var b={};try{b.value=f(h),b.status="success"}catch(_){b.status="error",b.value=_}return b}(r.exports=v).prototype.finally=function(f){if(typeof f!="function")return this;var h=this.constructor;return this.then(function(b){return h.resolve(f()).then(function(){return b})},function(b){return h.resolve(f()).then(function(){throw b})})},v.prototype.catch=function(f){return this.then(null,f)},v.prototype.then=function(f,h){if(typeof f!="function"&&this.state===d||typeof h!="function"&&this.state===l)return this;var b=new this.constructor(o);return this.state!==p?y(b,this.state===d?f:h,this.outcome):this.queue.push(new x(b,f,h)),b},x.prototype.callFulfilled=function(f){a.resolve(this.promise,f)},x.prototype.otherCallFulfilled=function(f){y(this.promise,this.onFulfilled,f)},x.prototype.callRejected=function(f){a.reject(this.promise,f)},x.prototype.otherCallRejected=function(f){y(this.promise,this.onRejected,f)},a.resolve=function(f,h){var b=w(g,h);if(b.status==="error")return a.reject(f,b.value);var _=b.value;if(_)c(f,_);else{f.state=d,f.outcome=h;for(var S=-1,T=f.queue.length;++S<T;)f.queue[S].callFulfilled(h)}return f},a.reject=function(f,h){f.state=l,f.outcome=h;for(var b=-1,_=f.queue.length;++b<_;)f.queue[b].callRejected(h);return f},v.resolve=function(f){return f instanceof this?f:a.resolve(new this(o),f)},v.reject=function(f){var h=new this(o);return a.reject(h,f)},v.all=function(f){var h=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=f.length,_=!1;if(!b)return this.resolve([]);for(var S=new Array(b),T=0,j=-1,L=new this(o);++j<b;)O(f[j],j);return L;function O(D,le){h.resolve(D).then(function(R){S[le]=R,++T!==b||_||(_=!0,a.resolve(L,S))},function(R){_||(_=!0,a.reject(L,R))})}},v.race=function(f){var h=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=f.length,_=!1;if(!b)return this.resolve([]);for(var S=-1,T=new this(o);++S<b;)j=f[S],h.resolve(j).then(function(L){_||(_=!0,a.resolve(T,L))},function(L){_||(_=!0,a.reject(T,L))});var j;return T}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),d=n("./zlib/zstream"),p=Object.prototype.toString,v=0,x=-1,y=0,g=8;function c(f){if(!(this instanceof c))return new c(f);this.options=o.assign({level:x,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},f||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var b=i.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(b!==v)throw new Error(l[b]);if(h.header&&i.deflateSetHeader(this.strm,h.header),h.dictionary){var _;if(_=typeof h.dictionary=="string"?a.string2buf(h.dictionary):p.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(b=i.deflateSetDictionary(this.strm,_))!==v)throw new Error(l[b]);this._dict_set=!0}}function w(f,h){var b=new c(h);if(b.push(f,!0),b.err)throw b.msg||l[b.err];return b.result}c.prototype.push=function(f,h){var b,_,S=this.strm,T=this.options.chunkSize;if(this.ended)return!1;_=h===~~h?h:h===!0?4:0,typeof f=="string"?S.input=a.string2buf(f):p.call(f)==="[object ArrayBuffer]"?S.input=new Uint8Array(f):S.input=f,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(T),S.next_out=0,S.avail_out=T),(b=i.deflate(S,_))!==1&&b!==v)return this.onEnd(b),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(S.output,S.next_out))):this.onData(o.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&b!==1);return _===4?(b=i.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===v):_!==2||(this.onEnd(v),!(S.avail_out=0))},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},s.Deflate=c,s.deflate=w,s.deflateRaw=function(f,h){return(h=h||{}).raw=!0,w(f,h)},s.gzip=function(f,h){return(h=h||{}).gzip=!0,w(f,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),d=n("./zlib/messages"),p=n("./zlib/zstream"),v=n("./zlib/gzheader"),x=Object.prototype.toString;function y(c){if(!(this instanceof y))return new y(c);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},c||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||c&&c.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var f=i.inflateInit2(this.strm,w.windowBits);if(f!==l.Z_OK)throw new Error(d[f]);this.header=new v,i.inflateGetHeader(this.strm,this.header)}function g(c,w){var f=new y(w);if(f.push(c,!0),f.err)throw f.msg||d[f.err];return f.result}y.prototype.push=function(c,w){var f,h,b,_,S,T,j=this.strm,L=this.options.chunkSize,O=this.options.dictionary,D=!1;if(this.ended)return!1;h=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof c=="string"?j.input=a.binstring2buf(c):x.call(c)==="[object ArrayBuffer]"?j.input=new Uint8Array(c):j.input=c,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(L),j.next_out=0,j.avail_out=L),(f=i.inflate(j,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&O&&(T=typeof O=="string"?a.string2buf(O):x.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,f=i.inflateSetDictionary(this.strm,T)),f===l.Z_BUF_ERROR&&D===!0&&(f=l.Z_OK,D=!1),f!==l.Z_STREAM_END&&f!==l.Z_OK)return this.onEnd(f),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&f!==l.Z_STREAM_END&&(j.avail_in!==0||h!==l.Z_FINISH&&h!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(j.output,j.next_out),_=j.next_out-b,S=a.buf2string(j.output,b),j.next_out=_,j.avail_out=L-_,_&&o.arraySet(j.output,j.output,b,_,0),this.onData(S)):this.onData(o.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(D=!0)}while((0<j.avail_in||j.avail_out===0)&&f!==l.Z_STREAM_END);return f===l.Z_STREAM_END&&(h=l.Z_FINISH),h===l.Z_FINISH?(f=i.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===l.Z_OK):h!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(j.avail_out=0))},y.prototype.onData=function(c){this.chunks.push(c)},y.prototype.onEnd=function(c){c===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},s.Inflate=y,s.inflate=g,s.inflateRaw=function(c,w){return(w=w||{}).raw=!0,g(c,w)},s.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var p=d.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var v in p)p.hasOwnProperty(v)&&(l[v]=p[v])}}return l},s.shrinkBuf=function(l,d){return l.length===d?l:l.subarray?l.subarray(0,d):(l.length=d,l)};var o={arraySet:function(l,d,p,v,x){if(d.subarray&&l.subarray)l.set(d.subarray(p,p+v),x);else for(var y=0;y<v;y++)l[x+y]=d[p+y]},flattenChunks:function(l){var d,p,v,x,y,g;for(d=v=0,p=l.length;d<p;d++)v+=l[d].length;for(g=new Uint8Array(v),d=x=0,p=l.length;d<p;d++)y=l[d],g.set(y,x),x+=y.length;return g}},a={arraySet:function(l,d,p,v,x){for(var y=0;y<v;y++)l[x+y]=d[p+y]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),d=0;d<256;d++)l[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function p(v,x){if(x<65537&&(v.subarray&&a||!v.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(v,x));for(var y="",g=0;g<x;g++)y+=String.fromCharCode(v[g]);return y}l[254]=l[254]=1,s.string2buf=function(v){var x,y,g,c,w,f=v.length,h=0;for(c=0;c<f;c++)(64512&(y=v.charCodeAt(c)))==55296&&c+1<f&&(64512&(g=v.charCodeAt(c+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),c++),h+=y<128?1:y<2048?2:y<65536?3:4;for(x=new i.Buf8(h),c=w=0;w<h;c++)(64512&(y=v.charCodeAt(c)))==55296&&c+1<f&&(64512&(g=v.charCodeAt(c+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),c++),y<128?x[w++]=y:(y<2048?x[w++]=192|y>>>6:(y<65536?x[w++]=224|y>>>12:(x[w++]=240|y>>>18,x[w++]=128|y>>>12&63),x[w++]=128|y>>>6&63),x[w++]=128|63&y);return x},s.buf2binstring=function(v){return p(v,v.length)},s.binstring2buf=function(v){for(var x=new i.Buf8(v.length),y=0,g=x.length;y<g;y++)x[y]=v.charCodeAt(y);return x},s.buf2string=function(v,x){var y,g,c,w,f=x||v.length,h=new Array(2*f);for(y=g=0;y<f;)if((c=v[y++])<128)h[g++]=c;else if(4<(w=l[c]))h[g++]=65533,y+=w-1;else{for(c&=w===2?31:w===3?15:7;1<w&&y<f;)c=c<<6|63&v[y++],w--;1<w?h[g++]=65533:c<65536?h[g++]=c:(c-=65536,h[g++]=55296|c>>10&1023,h[g++]=56320|1023&c)}return p(h,g)},s.utf8border=function(v,x){var y;for((x=x||v.length)>v.length&&(x=v.length),y=x-1;0<=y&&(192&v[y])==128;)y--;return y<0||y===0?x:y+l[v[y]]>x?y:x}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,l){for(var d=65535&i|0,p=i>>>16&65535|0,v=0;a!==0;){for(a-=v=2e3<a?2e3:a;p=p+(d=d+o[l++]|0)|0,--v;);d%=65521,p%=65521}return d|p<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,d){var p=i,v=d+l;o^=-1;for(var x=d;x<v;x++)o=o>>>8^p[255&(o^a[x])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),d=n("./crc32"),p=n("./messages"),v=0,x=4,y=0,g=-2,c=-1,w=4,f=2,h=8,b=9,_=286,S=30,T=19,j=2*_+1,L=15,O=3,D=258,le=D+O+1,R=42,Z=113,k=1,U=2,re=3,Y=4;function B(m,K){return m.msg=p[K],K}function M(m){return(m<<1)-(4<m?9:0)}function te(m){for(var K=m.length;0<=--K;)m[K]=0}function P(m){var K=m.state,V=K.pending;V>m.avail_out&&(V=m.avail_out),V!==0&&(o.arraySet(m.output,K.pending_buf,K.pending_out,V,m.next_out),m.next_out+=V,K.pending_out+=V,m.total_out+=V,m.avail_out-=V,K.pending-=V,K.pending===0&&(K.pending_out=0))}function A(m,K){a._tr_flush_block(m,0<=m.block_start?m.block_start:-1,m.strstart-m.block_start,K),m.block_start=m.strstart,P(m.strm)}function ie(m,K){m.pending_buf[m.pending++]=K}function J(m,K){m.pending_buf[m.pending++]=K>>>8&255,m.pending_buf[m.pending++]=255&K}function oe(m,K){var V,N,C=m.max_chain_length,z=m.strstart,ee=m.prev_length,se=m.nice_match,$=m.strstart>m.w_size-le?m.strstart-(m.w_size-le):0,de=m.window,ke=m.w_mask,pe=m.prev,ge=m.strstart+D,Ue=de[z+ee-1],Fe=de[z+ee];m.prev_length>=m.good_match&&(C>>=2),se>m.lookahead&&(se=m.lookahead);do if(de[(V=K)+ee]===Fe&&de[V+ee-1]===Ue&&de[V]===de[z]&&de[++V]===de[z+1]){z+=2,V++;do;while(de[++z]===de[++V]&&de[++z]===de[++V]&&de[++z]===de[++V]&&de[++z]===de[++V]&&de[++z]===de[++V]&&de[++z]===de[++V]&&de[++z]===de[++V]&&de[++z]===de[++V]&&z<ge);if(N=D-(ge-z),z=ge-D,ee<N){if(m.match_start=K,se<=(ee=N))break;Ue=de[z+ee-1],Fe=de[z+ee]}}while((K=pe[K&ke])>$&&--C!=0);return ee<=m.lookahead?ee:m.lookahead}function _e(m){var K,V,N,C,z,ee,se,$,de,ke,pe=m.w_size;do{if(C=m.window_size-m.lookahead-m.strstart,m.strstart>=pe+(pe-le)){for(o.arraySet(m.window,m.window,pe,pe,0),m.match_start-=pe,m.strstart-=pe,m.block_start-=pe,K=V=m.hash_size;N=m.head[--K],m.head[K]=pe<=N?N-pe:0,--V;);for(K=V=pe;N=m.prev[--K],m.prev[K]=pe<=N?N-pe:0,--V;);C+=pe}if(m.strm.avail_in===0)break;if(ee=m.strm,se=m.window,$=m.strstart+m.lookahead,de=C,ke=void 0,ke=ee.avail_in,de<ke&&(ke=de),V=ke===0?0:(ee.avail_in-=ke,o.arraySet(se,ee.input,ee.next_in,ke,$),ee.state.wrap===1?ee.adler=l(ee.adler,se,ke,$):ee.state.wrap===2&&(ee.adler=d(ee.adler,se,ke,$)),ee.next_in+=ke,ee.total_in+=ke,ke),m.lookahead+=V,m.lookahead+m.insert>=O)for(z=m.strstart-m.insert,m.ins_h=m.window[z],m.ins_h=(m.ins_h<<m.hash_shift^m.window[z+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[z+O-1])&m.hash_mask,m.prev[z&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=z,z++,m.insert--,!(m.lookahead+m.insert<O)););}while(m.lookahead<le&&m.strm.avail_in!==0)}function ae(m,K){for(var V,N;;){if(m.lookahead<le){if(_e(m),m.lookahead<le&&K===v)return k;if(m.lookahead===0)break}if(V=0,m.lookahead>=O&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+O-1])&m.hash_mask,V=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),V!==0&&m.strstart-V<=m.w_size-le&&(m.match_length=oe(m,V)),m.match_length>=O)if(N=a._tr_tally(m,m.strstart-m.match_start,m.match_length-O),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=O){for(m.match_length--;m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+O-1])&m.hash_mask,V=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart,--m.match_length!=0;);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else N=a._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(N&&(A(m,!1),m.strm.avail_out===0))return k}return m.insert=m.strstart<O-1?m.strstart:O-1,K===x?(A(m,!0),m.strm.avail_out===0?re:Y):m.last_lit&&(A(m,!1),m.strm.avail_out===0)?k:U}function ce(m,K){for(var V,N,C;;){if(m.lookahead<le){if(_e(m),m.lookahead<le&&K===v)return k;if(m.lookahead===0)break}if(V=0,m.lookahead>=O&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+O-1])&m.hash_mask,V=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=O-1,V!==0&&m.prev_length<m.max_lazy_match&&m.strstart-V<=m.w_size-le&&(m.match_length=oe(m,V),m.match_length<=5&&(m.strategy===1||m.match_length===O&&4096<m.strstart-m.match_start)&&(m.match_length=O-1)),m.prev_length>=O&&m.match_length<=m.prev_length){for(C=m.strstart+m.lookahead-O,N=a._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-O),m.lookahead-=m.prev_length-1,m.prev_length-=2;++m.strstart<=C&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+O-1])&m.hash_mask,V=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),--m.prev_length!=0;);if(m.match_available=0,m.match_length=O-1,m.strstart++,N&&(A(m,!1),m.strm.avail_out===0))return k}else if(m.match_available){if((N=a._tr_tally(m,0,m.window[m.strstart-1]))&&A(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return k}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(N=a._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<O-1?m.strstart:O-1,K===x?(A(m,!0),m.strm.avail_out===0?re:Y):m.last_lit&&(A(m,!1),m.strm.avail_out===0)?k:U}function be(m,K,V,N,C){this.good_length=m,this.max_lazy=K,this.nice_length=V,this.max_chain=N,this.func=C}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*j),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*_+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ce(m){var K;return m&&m.state?(m.total_in=m.total_out=0,m.data_type=f,(K=m.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?R:Z,m.adler=K.wrap===2?0:1,K.last_flush=v,a._tr_init(K),y):B(m,g)}function He(m){var K=Ce(m);return K===y&&function(V){V.window_size=2*V.w_size,te(V.head),V.max_lazy_match=i[V.level].max_lazy,V.good_match=i[V.level].good_length,V.nice_match=i[V.level].nice_length,V.max_chain_length=i[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=O-1,V.match_available=0,V.ins_h=0}(m.state),K}function Be(m,K,V,N,C,z){if(!m)return g;var ee=1;if(K===c&&(K=6),N<0?(ee=0,N=-N):15<N&&(ee=2,N-=16),C<1||b<C||V!==h||N<8||15<N||K<0||9<K||z<0||w<z)return B(m,g);N===8&&(N=9);var se=new Te;return(m.state=se).strm=m,se.wrap=ee,se.gzhead=null,se.w_bits=N,se.w_size=1<<se.w_bits,se.w_mask=se.w_size-1,se.hash_bits=C+7,se.hash_size=1<<se.hash_bits,se.hash_mask=se.hash_size-1,se.hash_shift=~~((se.hash_bits+O-1)/O),se.window=new o.Buf8(2*se.w_size),se.head=new o.Buf16(se.hash_size),se.prev=new o.Buf16(se.w_size),se.lit_bufsize=1<<C+6,se.pending_buf_size=4*se.lit_bufsize,se.pending_buf=new o.Buf8(se.pending_buf_size),se.d_buf=1*se.lit_bufsize,se.l_buf=3*se.lit_bufsize,se.level=K,se.strategy=z,se.method=V,He(m)}i=[new be(0,0,0,0,function(m,K){var V=65535;for(V>m.pending_buf_size-5&&(V=m.pending_buf_size-5);;){if(m.lookahead<=1){if(_e(m),m.lookahead===0&&K===v)return k;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var N=m.block_start+V;if((m.strstart===0||m.strstart>=N)&&(m.lookahead=m.strstart-N,m.strstart=N,A(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-le&&(A(m,!1),m.strm.avail_out===0))return k}return m.insert=0,K===x?(A(m,!0),m.strm.avail_out===0?re:Y):(m.strstart>m.block_start&&(A(m,!1),m.strm.avail_out),k)}),new be(4,4,8,4,ae),new be(4,5,16,8,ae),new be(4,6,32,32,ae),new be(4,4,16,16,ce),new be(8,16,32,32,ce),new be(8,16,128,128,ce),new be(8,32,128,256,ce),new be(32,128,258,1024,ce),new be(32,258,258,4096,ce)],s.deflateInit=function(m,K){return Be(m,K,h,15,8,0)},s.deflateInit2=Be,s.deflateReset=He,s.deflateResetKeep=Ce,s.deflateSetHeader=function(m,K){return m&&m.state?m.state.wrap!==2?g:(m.state.gzhead=K,y):g},s.deflate=function(m,K){var V,N,C,z;if(!m||!m.state||5<K||K<0)return m?B(m,g):g;if(N=m.state,!m.output||!m.input&&m.avail_in!==0||N.status===666&&K!==x)return B(m,m.avail_out===0?-5:g);if(N.strm=m,V=N.last_flush,N.last_flush=K,N.status===R)if(N.wrap===2)m.adler=0,ie(N,31),ie(N,139),ie(N,8),N.gzhead?(ie(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),ie(N,255&N.gzhead.time),ie(N,N.gzhead.time>>8&255),ie(N,N.gzhead.time>>16&255),ie(N,N.gzhead.time>>24&255),ie(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),ie(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(ie(N,255&N.gzhead.extra.length),ie(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(m.adler=d(m.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(ie(N,0),ie(N,0),ie(N,0),ie(N,0),ie(N,0),ie(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),ie(N,3),N.status=Z);else{var ee=h+(N.w_bits-8<<4)<<8;ee|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(ee|=32),ee+=31-ee%31,N.status=Z,J(N,ee),N.strstart!==0&&(J(N,m.adler>>>16),J(N,65535&m.adler)),m.adler=1}if(N.status===69)if(N.gzhead.extra){for(C=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>C&&(m.adler=d(m.adler,N.pending_buf,N.pending-C,C)),P(m),C=N.pending,N.pending!==N.pending_buf_size));)ie(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>C&&(m.adler=d(m.adler,N.pending_buf,N.pending-C,C)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){C=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>C&&(m.adler=d(m.adler,N.pending_buf,N.pending-C,C)),P(m),C=N.pending,N.pending===N.pending_buf_size)){z=1;break}z=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,ie(N,z)}while(z!==0);N.gzhead.hcrc&&N.pending>C&&(m.adler=d(m.adler,N.pending_buf,N.pending-C,C)),z===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){C=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>C&&(m.adler=d(m.adler,N.pending_buf,N.pending-C,C)),P(m),C=N.pending,N.pending===N.pending_buf_size)){z=1;break}z=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,ie(N,z)}while(z!==0);N.gzhead.hcrc&&N.pending>C&&(m.adler=d(m.adler,N.pending_buf,N.pending-C,C)),z===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&P(m),N.pending+2<=N.pending_buf_size&&(ie(N,255&m.adler),ie(N,m.adler>>8&255),m.adler=0,N.status=Z)):N.status=Z),N.pending!==0){if(P(m),m.avail_out===0)return N.last_flush=-1,y}else if(m.avail_in===0&&M(K)<=M(V)&&K!==x)return B(m,-5);if(N.status===666&&m.avail_in!==0)return B(m,-5);if(m.avail_in!==0||N.lookahead!==0||K!==v&&N.status!==666){var se=N.strategy===2?function($,de){for(var ke;;){if($.lookahead===0&&(_e($),$.lookahead===0)){if(de===v)return k;break}if($.match_length=0,ke=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,ke&&(A($,!1),$.strm.avail_out===0))return k}return $.insert=0,de===x?(A($,!0),$.strm.avail_out===0?re:Y):$.last_lit&&(A($,!1),$.strm.avail_out===0)?k:U}(N,K):N.strategy===3?function($,de){for(var ke,pe,ge,Ue,Fe=$.window;;){if($.lookahead<=D){if(_e($),$.lookahead<=D&&de===v)return k;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=O&&0<$.strstart&&(pe=Fe[ge=$.strstart-1])===Fe[++ge]&&pe===Fe[++ge]&&pe===Fe[++ge]){Ue=$.strstart+D;do;while(pe===Fe[++ge]&&pe===Fe[++ge]&&pe===Fe[++ge]&&pe===Fe[++ge]&&pe===Fe[++ge]&&pe===Fe[++ge]&&pe===Fe[++ge]&&pe===Fe[++ge]&&ge<Ue);$.match_length=D-(Ue-ge),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=O?(ke=a._tr_tally($,1,$.match_length-O),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(ke=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),ke&&(A($,!1),$.strm.avail_out===0))return k}return $.insert=0,de===x?(A($,!0),$.strm.avail_out===0?re:Y):$.last_lit&&(A($,!1),$.strm.avail_out===0)?k:U}(N,K):i[N.level].func(N,K);if(se!==re&&se!==Y||(N.status=666),se===k||se===re)return m.avail_out===0&&(N.last_flush=-1),y;if(se===U&&(K===1?a._tr_align(N):K!==5&&(a._tr_stored_block(N,0,0,!1),K===3&&(te(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),P(m),m.avail_out===0))return N.last_flush=-1,y}return K!==x?y:N.wrap<=0?1:(N.wrap===2?(ie(N,255&m.adler),ie(N,m.adler>>8&255),ie(N,m.adler>>16&255),ie(N,m.adler>>24&255),ie(N,255&m.total_in),ie(N,m.total_in>>8&255),ie(N,m.total_in>>16&255),ie(N,m.total_in>>24&255)):(J(N,m.adler>>>16),J(N,65535&m.adler)),P(m),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?y:1)},s.deflateEnd=function(m){var K;return m&&m.state?(K=m.state.status)!==R&&K!==69&&K!==73&&K!==91&&K!==103&&K!==Z&&K!==666?B(m,g):(m.state=null,K===Z?B(m,-3):y):g},s.deflateSetDictionary=function(m,K){var V,N,C,z,ee,se,$,de,ke=K.length;if(!m||!m.state||(z=(V=m.state).wrap)===2||z===1&&V.status!==R||V.lookahead)return g;for(z===1&&(m.adler=l(m.adler,K,ke,0)),V.wrap=0,ke>=V.w_size&&(z===0&&(te(V.head),V.strstart=0,V.block_start=0,V.insert=0),de=new o.Buf8(V.w_size),o.arraySet(de,K,ke-V.w_size,V.w_size,0),K=de,ke=V.w_size),ee=m.avail_in,se=m.next_in,$=m.input,m.avail_in=ke,m.next_in=0,m.input=K,_e(V);V.lookahead>=O;){for(N=V.strstart,C=V.lookahead-(O-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[N+O-1])&V.hash_mask,V.prev[N&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=N,N++,--C;);V.strstart=N,V.lookahead=O-1,_e(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=O-1,V.match_available=0,m.next_in=se,m.input=$,m.avail_in=ee,V.wrap=z,y},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,l,d,p,v,x,y,g,c,w,f,h,b,_,S,T,j,L,O,D,le,R,Z,k,U;a=i.state,l=i.next_in,k=i.input,d=l+(i.avail_in-5),p=i.next_out,U=i.output,v=p-(o-i.avail_out),x=p+(i.avail_out-257),y=a.dmax,g=a.wsize,c=a.whave,w=a.wnext,f=a.window,h=a.hold,b=a.bits,_=a.lencode,S=a.distcode,T=(1<<a.lenbits)-1,j=(1<<a.distbits)-1;e:do{b<15&&(h+=k[l++]<<b,b+=8,h+=k[l++]<<b,b+=8),L=_[h&T];t:for(;;){if(h>>>=O=L>>>24,b-=O,(O=L>>>16&255)===0)U[p++]=65535&L;else{if(!(16&O)){if(!(64&O)){L=_[(65535&L)+(h&(1<<O)-1)];continue t}if(32&O){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}D=65535&L,(O&=15)&&(b<O&&(h+=k[l++]<<b,b+=8),D+=h&(1<<O)-1,h>>>=O,b-=O),b<15&&(h+=k[l++]<<b,b+=8,h+=k[l++]<<b,b+=8),L=S[h&j];n:for(;;){if(h>>>=O=L>>>24,b-=O,!(16&(O=L>>>16&255))){if(!(64&O)){L=S[(65535&L)+(h&(1<<O)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(le=65535&L,b<(O&=15)&&(h+=k[l++]<<b,(b+=8)<O&&(h+=k[l++]<<b,b+=8)),y<(le+=h&(1<<O)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(h>>>=O,b-=O,(O=p-v)<le){if(c<(O=le-O)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(Z=f,(R=0)===w){if(R+=g-O,O<D){for(D-=O;U[p++]=f[R++],--O;);R=p-le,Z=U}}else if(w<O){if(R+=g+w-O,(O-=w)<D){for(D-=O;U[p++]=f[R++],--O;);if(R=0,w<D){for(D-=O=w;U[p++]=f[R++],--O;);R=p-le,Z=U}}}else if(R+=w-O,O<D){for(D-=O;U[p++]=f[R++],--O;);R=p-le,Z=U}for(;2<D;)U[p++]=Z[R++],U[p++]=Z[R++],U[p++]=Z[R++],D-=3;D&&(U[p++]=Z[R++],1<D&&(U[p++]=Z[R++]))}else{for(R=p-le;U[p++]=U[R++],U[p++]=U[R++],U[p++]=U[R++],2<(D-=3););D&&(U[p++]=U[R++],1<D&&(U[p++]=U[R++]))}break}}break}}while(l<d&&p<x);l-=D=b>>3,h&=(1<<(b-=D<<3))-1,i.next_in=l,i.next_out=p,i.avail_in=l<d?d-l+5:5-(l-d),i.avail_out=p<x?x-p+257:257-(p-x),a.hold=h,a.bits=b}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),d=n("./inftrees"),p=1,v=2,x=0,y=-2,g=1,c=852,w=592;function f(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(R){var Z;return R&&R.state?(Z=R.state,R.total_in=R.total_out=Z.total=0,R.msg="",Z.wrap&&(R.adler=1&Z.wrap),Z.mode=g,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new i.Buf32(c),Z.distcode=Z.distdyn=new i.Buf32(w),Z.sane=1,Z.back=-1,x):y}function _(R){var Z;return R&&R.state?((Z=R.state).wsize=0,Z.whave=0,Z.wnext=0,b(R)):y}function S(R,Z){var k,U;return R&&R.state?(U=R.state,Z<0?(k=0,Z=-Z):(k=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?y:(U.window!==null&&U.wbits!==Z&&(U.window=null),U.wrap=k,U.wbits=Z,_(R))):y}function T(R,Z){var k,U;return R?(U=new h,(R.state=U).window=null,(k=S(R,Z))!==x&&(R.state=null),k):y}var j,L,O=!0;function D(R){if(O){var Z;for(j=new i.Buf32(512),L=new i.Buf32(32),Z=0;Z<144;)R.lens[Z++]=8;for(;Z<256;)R.lens[Z++]=9;for(;Z<280;)R.lens[Z++]=7;for(;Z<288;)R.lens[Z++]=8;for(d(p,R.lens,0,288,j,0,R.work,{bits:9}),Z=0;Z<32;)R.lens[Z++]=5;d(v,R.lens,0,32,L,0,R.work,{bits:5}),O=!1}R.lencode=j,R.lenbits=9,R.distcode=L,R.distbits=5}function le(R,Z,k,U){var re,Y=R.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new i.Buf8(Y.wsize)),U>=Y.wsize?(i.arraySet(Y.window,Z,k-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(U<(re=Y.wsize-Y.wnext)&&(re=U),i.arraySet(Y.window,Z,k-U,re,Y.wnext),(U-=re)?(i.arraySet(Y.window,Z,k-U,U,0),Y.wnext=U,Y.whave=Y.wsize):(Y.wnext+=re,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=re))),0}s.inflateReset=_,s.inflateReset2=S,s.inflateResetKeep=b,s.inflateInit=function(R){return T(R,15)},s.inflateInit2=T,s.inflate=function(R,Z){var k,U,re,Y,B,M,te,P,A,ie,J,oe,_e,ae,ce,be,Te,Ce,He,Be,m,K,V,N,C=0,z=new i.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return y;(k=R.state).mode===12&&(k.mode=13),B=R.next_out,re=R.output,te=R.avail_out,Y=R.next_in,U=R.input,M=R.avail_in,P=k.hold,A=k.bits,ie=M,J=te,K=x;e:for(;;)switch(k.mode){case g:if(k.wrap===0){k.mode=13;break}for(;A<16;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(2&k.wrap&&P===35615){z[k.check=0]=255&P,z[1]=P>>>8&255,k.check=a(k.check,z,2,0),A=P=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&P)<<8)+(P>>8))%31){R.msg="incorrect header check",k.mode=30;break}if((15&P)!=8){R.msg="unknown compression method",k.mode=30;break}if(A-=4,m=8+(15&(P>>>=4)),k.wbits===0)k.wbits=m;else if(m>k.wbits){R.msg="invalid window size",k.mode=30;break}k.dmax=1<<m,R.adler=k.check=1,k.mode=512&P?10:12,A=P=0;break;case 2:for(;A<16;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(k.flags=P,(255&k.flags)!=8){R.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){R.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=P>>8&1),512&k.flags&&(z[0]=255&P,z[1]=P>>>8&255,k.check=a(k.check,z,2,0)),A=P=0,k.mode=3;case 3:for(;A<32;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}k.head&&(k.head.time=P),512&k.flags&&(z[0]=255&P,z[1]=P>>>8&255,z[2]=P>>>16&255,z[3]=P>>>24&255,k.check=a(k.check,z,4,0)),A=P=0,k.mode=4;case 4:for(;A<16;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}k.head&&(k.head.xflags=255&P,k.head.os=P>>8),512&k.flags&&(z[0]=255&P,z[1]=P>>>8&255,k.check=a(k.check,z,2,0)),A=P=0,k.mode=5;case 5:if(1024&k.flags){for(;A<16;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}k.length=P,k.head&&(k.head.extra_len=P),512&k.flags&&(z[0]=255&P,z[1]=P>>>8&255,k.check=a(k.check,z,2,0)),A=P=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(M<(oe=k.length)&&(oe=M),oe&&(k.head&&(m=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),i.arraySet(k.head.extra,U,Y,oe,m)),512&k.flags&&(k.check=a(k.check,U,oe,Y)),M-=oe,Y+=oe,k.length-=oe),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(M===0)break e;for(oe=0;m=U[Y+oe++],k.head&&m&&k.length<65536&&(k.head.name+=String.fromCharCode(m)),m&&oe<M;);if(512&k.flags&&(k.check=a(k.check,U,oe,Y)),M-=oe,Y+=oe,m)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(M===0)break e;for(oe=0;m=U[Y+oe++],k.head&&m&&k.length<65536&&(k.head.comment+=String.fromCharCode(m)),m&&oe<M;);if(512&k.flags&&(k.check=a(k.check,U,oe,Y)),M-=oe,Y+=oe,m)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;A<16;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(P!==(65535&k.check)){R.msg="header crc mismatch",k.mode=30;break}A=P=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),R.adler=k.check=0,k.mode=12;break;case 10:for(;A<32;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}R.adler=k.check=f(P),A=P=0,k.mode=11;case 11:if(k.havedict===0)return R.next_out=B,R.avail_out=te,R.next_in=Y,R.avail_in=M,k.hold=P,k.bits=A,2;R.adler=k.check=1,k.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(k.last){P>>>=7&A,A-=7&A,k.mode=27;break}for(;A<3;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}switch(k.last=1&P,A-=1,3&(P>>>=1)){case 0:k.mode=14;break;case 1:if(D(k),k.mode=20,Z!==6)break;P>>>=2,A-=2;break e;case 2:k.mode=17;break;case 3:R.msg="invalid block type",k.mode=30}P>>>=2,A-=2;break;case 14:for(P>>>=7&A,A-=7&A;A<32;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if((65535&P)!=(P>>>16^65535)){R.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&P,A=P=0,k.mode=15,Z===6)break e;case 15:k.mode=16;case 16:if(oe=k.length){if(M<oe&&(oe=M),te<oe&&(oe=te),oe===0)break e;i.arraySet(re,U,Y,oe,B),M-=oe,Y+=oe,te-=oe,B+=oe,k.length-=oe;break}k.mode=12;break;case 17:for(;A<14;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(k.nlen=257+(31&P),P>>>=5,A-=5,k.ndist=1+(31&P),P>>>=5,A-=5,k.ncode=4+(15&P),P>>>=4,A-=4,286<k.nlen||30<k.ndist){R.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;A<3;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}k.lens[ee[k.have++]]=7&P,P>>>=3,A-=3}for(;k.have<19;)k.lens[ee[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,V={bits:k.lenbits},K=d(0,k.lens,0,19,k.lencode,0,k.work,V),k.lenbits=V.bits,K){R.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;be=(C=k.lencode[P&(1<<k.lenbits)-1])>>>16&255,Te=65535&C,!((ce=C>>>24)<=A);){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(Te<16)P>>>=ce,A-=ce,k.lens[k.have++]=Te;else{if(Te===16){for(N=ce+2;A<N;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(P>>>=ce,A-=ce,k.have===0){R.msg="invalid bit length repeat",k.mode=30;break}m=k.lens[k.have-1],oe=3+(3&P),P>>>=2,A-=2}else if(Te===17){for(N=ce+3;A<N;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}A-=ce,m=0,oe=3+(7&(P>>>=ce)),P>>>=3,A-=3}else{for(N=ce+7;A<N;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}A-=ce,m=0,oe=11+(127&(P>>>=ce)),P>>>=7,A-=7}if(k.have+oe>k.nlen+k.ndist){R.msg="invalid bit length repeat",k.mode=30;break}for(;oe--;)k.lens[k.have++]=m}}if(k.mode===30)break;if(k.lens[256]===0){R.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,V={bits:k.lenbits},K=d(p,k.lens,0,k.nlen,k.lencode,0,k.work,V),k.lenbits=V.bits,K){R.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,V={bits:k.distbits},K=d(v,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,V),k.distbits=V.bits,K){R.msg="invalid distances set",k.mode=30;break}if(k.mode=20,Z===6)break e;case 20:k.mode=21;case 21:if(6<=M&&258<=te){R.next_out=B,R.avail_out=te,R.next_in=Y,R.avail_in=M,k.hold=P,k.bits=A,l(R,J),B=R.next_out,re=R.output,te=R.avail_out,Y=R.next_in,U=R.input,M=R.avail_in,P=k.hold,A=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;be=(C=k.lencode[P&(1<<k.lenbits)-1])>>>16&255,Te=65535&C,!((ce=C>>>24)<=A);){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(be&&!(240&be)){for(Ce=ce,He=be,Be=Te;be=(C=k.lencode[Be+((P&(1<<Ce+He)-1)>>Ce)])>>>16&255,Te=65535&C,!(Ce+(ce=C>>>24)<=A);){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}P>>>=Ce,A-=Ce,k.back+=Ce}if(P>>>=ce,A-=ce,k.back+=ce,k.length=Te,be===0){k.mode=26;break}if(32&be){k.back=-1,k.mode=12;break}if(64&be){R.msg="invalid literal/length code",k.mode=30;break}k.extra=15&be,k.mode=22;case 22:if(k.extra){for(N=k.extra;A<N;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}k.length+=P&(1<<k.extra)-1,P>>>=k.extra,A-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;be=(C=k.distcode[P&(1<<k.distbits)-1])>>>16&255,Te=65535&C,!((ce=C>>>24)<=A);){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(!(240&be)){for(Ce=ce,He=be,Be=Te;be=(C=k.distcode[Be+((P&(1<<Ce+He)-1)>>Ce)])>>>16&255,Te=65535&C,!(Ce+(ce=C>>>24)<=A);){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}P>>>=Ce,A-=Ce,k.back+=Ce}if(P>>>=ce,A-=ce,k.back+=ce,64&be){R.msg="invalid distance code",k.mode=30;break}k.offset=Te,k.extra=15&be,k.mode=24;case 24:if(k.extra){for(N=k.extra;A<N;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}k.offset+=P&(1<<k.extra)-1,P>>>=k.extra,A-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){R.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(te===0)break e;if(oe=J-te,k.offset>oe){if((oe=k.offset-oe)>k.whave&&k.sane){R.msg="invalid distance too far back",k.mode=30;break}_e=oe>k.wnext?(oe-=k.wnext,k.wsize-oe):k.wnext-oe,oe>k.length&&(oe=k.length),ae=k.window}else ae=re,_e=B-k.offset,oe=k.length;for(te<oe&&(oe=te),te-=oe,k.length-=oe;re[B++]=ae[_e++],--oe;);k.length===0&&(k.mode=21);break;case 26:if(te===0)break e;re[B++]=k.length,te--,k.mode=21;break;case 27:if(k.wrap){for(;A<32;){if(M===0)break e;M--,P|=U[Y++]<<A,A+=8}if(J-=te,R.total_out+=J,k.total+=J,J&&(R.adler=k.check=k.flags?a(k.check,re,J,B-J):o(k.check,re,J,B-J)),J=te,(k.flags?P:f(P))!==k.check){R.msg="incorrect data check",k.mode=30;break}A=P=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;A<32;){if(M===0)break e;M--,P+=U[Y++]<<A,A+=8}if(P!==(4294967295&k.total)){R.msg="incorrect length check",k.mode=30;break}A=P=0}k.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;case 32:default:return y}return R.next_out=B,R.avail_out=te,R.next_in=Y,R.avail_in=M,k.hold=P,k.bits=A,(k.wsize||J!==R.avail_out&&k.mode<30&&(k.mode<27||Z!==4))&&le(R,R.output,R.next_out,J-R.avail_out)?(k.mode=31,-4):(ie-=R.avail_in,J-=R.avail_out,R.total_in+=ie,R.total_out+=J,k.total+=J,k.wrap&&J&&(R.adler=k.check=k.flags?a(k.check,re,J,R.next_out-J):o(k.check,re,J,R.next_out-J)),R.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(ie==0&&J===0||Z===4)&&K===x&&(K=-5),K)},s.inflateEnd=function(R){if(!R||!R.state)return y;var Z=R.state;return Z.window&&(Z.window=null),R.state=null,x},s.inflateGetHeader=function(R,Z){var k;return R&&R.state&&2&(k=R.state).wrap?((k.head=Z).done=!1,x):y},s.inflateSetDictionary=function(R,Z){var k,U=Z.length;return R&&R.state?(k=R.state).wrap!==0&&k.mode!==11?y:k.mode===11&&o(1,Z,U,0)!==k.check?-3:le(R,Z,U,U)?(k.mode=31,-4):(k.havedict=1,x):y},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,v,x,y,g,c,w,f){var h,b,_,S,T,j,L,O,D,le=f.bits,R=0,Z=0,k=0,U=0,re=0,Y=0,B=0,M=0,te=0,P=0,A=null,ie=0,J=new i.Buf16(16),oe=new i.Buf16(16),_e=null,ae=0;for(R=0;R<=15;R++)J[R]=0;for(Z=0;Z<y;Z++)J[v[x+Z]]++;for(re=le,U=15;1<=U&&J[U]===0;U--);if(U<re&&(re=U),U===0)return g[c++]=20971520,g[c++]=20971520,f.bits=1,0;for(k=1;k<U&&J[k]===0;k++);for(re<k&&(re=k),R=M=1;R<=15;R++)if(M<<=1,(M-=J[R])<0)return-1;if(0<M&&(p===0||U!==1))return-1;for(oe[1]=0,R=1;R<15;R++)oe[R+1]=oe[R]+J[R];for(Z=0;Z<y;Z++)v[x+Z]!==0&&(w[oe[v[x+Z]]++]=Z);if(j=p===0?(A=_e=w,19):p===1?(A=o,ie-=257,_e=a,ae-=257,256):(A=l,_e=d,-1),R=k,T=c,B=Z=P=0,_=-1,S=(te=1<<(Y=re))-1,p===1&&852<te||p===2&&592<te)return 1;for(;;){for(L=R-B,D=w[Z]<j?(O=0,w[Z]):w[Z]>j?(O=_e[ae+w[Z]],A[ie+w[Z]]):(O=96,0),h=1<<R-B,k=b=1<<Y;g[T+(P>>B)+(b-=h)]=L<<24|O<<16|D|0,b!==0;);for(h=1<<R-1;P&h;)h>>=1;if(h!==0?(P&=h-1,P+=h):P=0,Z++,--J[R]==0){if(R===U)break;R=v[x+w[Z]]}if(re<R&&(P&S)!==_){for(B===0&&(B=re),T+=k,M=1<<(Y=R-B);Y+B<U&&!((M-=J[Y+B])<=0);)Y++,M<<=1;if(te+=1<<Y,p===1&&852<te||p===2&&592<te)return 1;g[_=P&S]=re<<24|Y<<16|T-c|0}}return P!==0&&(g[T+P]=R-B<<24|64<<16|0),f.bits=re,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function l(C){for(var z=C.length;0<=--z;)C[z]=0}var d=0,p=29,v=256,x=v+1+p,y=30,g=19,c=2*x+1,w=15,f=16,h=7,b=256,_=16,S=17,T=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=new Array(2*(x+2));l(le);var R=new Array(2*y);l(R);var Z=new Array(512);l(Z);var k=new Array(256);l(k);var U=new Array(p);l(U);var re,Y,B,M=new Array(y);function te(C,z,ee,se,$){this.static_tree=C,this.extra_bits=z,this.extra_base=ee,this.elems=se,this.max_length=$,this.has_stree=C&&C.length}function P(C,z){this.dyn_tree=C,this.max_code=0,this.stat_desc=z}function A(C){return C<256?Z[C]:Z[256+(C>>>7)]}function ie(C,z){C.pending_buf[C.pending++]=255&z,C.pending_buf[C.pending++]=z>>>8&255}function J(C,z,ee){C.bi_valid>f-ee?(C.bi_buf|=z<<C.bi_valid&65535,ie(C,C.bi_buf),C.bi_buf=z>>f-C.bi_valid,C.bi_valid+=ee-f):(C.bi_buf|=z<<C.bi_valid&65535,C.bi_valid+=ee)}function oe(C,z,ee){J(C,ee[2*z],ee[2*z+1])}function _e(C,z){for(var ee=0;ee|=1&C,C>>>=1,ee<<=1,0<--z;);return ee>>>1}function ae(C,z,ee){var se,$,de=new Array(w+1),ke=0;for(se=1;se<=w;se++)de[se]=ke=ke+ee[se-1]<<1;for($=0;$<=z;$++){var pe=C[2*$+1];pe!==0&&(C[2*$]=_e(de[pe]++,pe))}}function ce(C){var z;for(z=0;z<x;z++)C.dyn_ltree[2*z]=0;for(z=0;z<y;z++)C.dyn_dtree[2*z]=0;for(z=0;z<g;z++)C.bl_tree[2*z]=0;C.dyn_ltree[2*b]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function be(C){8<C.bi_valid?ie(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function Te(C,z,ee,se){var $=2*z,de=2*ee;return C[$]<C[de]||C[$]===C[de]&&se[z]<=se[ee]}function Ce(C,z,ee){for(var se=C.heap[ee],$=ee<<1;$<=C.heap_len&&($<C.heap_len&&Te(z,C.heap[$+1],C.heap[$],C.depth)&&$++,!Te(z,se,C.heap[$],C.depth));)C.heap[ee]=C.heap[$],ee=$,$<<=1;C.heap[ee]=se}function He(C,z,ee){var se,$,de,ke,pe=0;if(C.last_lit!==0)for(;se=C.pending_buf[C.d_buf+2*pe]<<8|C.pending_buf[C.d_buf+2*pe+1],$=C.pending_buf[C.l_buf+pe],pe++,se===0?oe(C,$,z):(oe(C,(de=k[$])+v+1,z),(ke=j[de])!==0&&J(C,$-=U[de],ke),oe(C,de=A(--se),ee),(ke=L[de])!==0&&J(C,se-=M[de],ke)),pe<C.last_lit;);oe(C,b,z)}function Be(C,z){var ee,se,$,de=z.dyn_tree,ke=z.stat_desc.static_tree,pe=z.stat_desc.has_stree,ge=z.stat_desc.elems,Ue=-1;for(C.heap_len=0,C.heap_max=c,ee=0;ee<ge;ee++)de[2*ee]!==0?(C.heap[++C.heap_len]=Ue=ee,C.depth[ee]=0):de[2*ee+1]=0;for(;C.heap_len<2;)de[2*($=C.heap[++C.heap_len]=Ue<2?++Ue:0)]=1,C.depth[$]=0,C.opt_len--,pe&&(C.static_len-=ke[2*$+1]);for(z.max_code=Ue,ee=C.heap_len>>1;1<=ee;ee--)Ce(C,de,ee);for($=ge;ee=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Ce(C,de,1),se=C.heap[1],C.heap[--C.heap_max]=ee,C.heap[--C.heap_max]=se,de[2*$]=de[2*ee]+de[2*se],C.depth[$]=(C.depth[ee]>=C.depth[se]?C.depth[ee]:C.depth[se])+1,de[2*ee+1]=de[2*se+1]=$,C.heap[1]=$++,Ce(C,de,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(Fe,ot){var wt,nt,Rt,$e,q,we,fe=ot.dyn_tree,je=ot.max_code,Oe=ot.stat_desc.static_tree,Pe=ot.stat_desc.has_stree,he=ot.stat_desc.extra_bits,Ie=ot.stat_desc.extra_base,Le=ot.stat_desc.max_length,Ae=0;for($e=0;$e<=w;$e++)Fe.bl_count[$e]=0;for(fe[2*Fe.heap[Fe.heap_max]+1]=0,wt=Fe.heap_max+1;wt<c;wt++)Le<($e=fe[2*fe[2*(nt=Fe.heap[wt])+1]+1]+1)&&($e=Le,Ae++),fe[2*nt+1]=$e,je<nt||(Fe.bl_count[$e]++,q=0,Ie<=nt&&(q=he[nt-Ie]),we=fe[2*nt],Fe.opt_len+=we*($e+q),Pe&&(Fe.static_len+=we*(Oe[2*nt+1]+q)));if(Ae!==0){do{for($e=Le-1;Fe.bl_count[$e]===0;)$e--;Fe.bl_count[$e]--,Fe.bl_count[$e+1]+=2,Fe.bl_count[Le]--,Ae-=2}while(0<Ae);for($e=Le;$e!==0;$e--)for(nt=Fe.bl_count[$e];nt!==0;)je<(Rt=Fe.heap[--wt])||(fe[2*Rt+1]!==$e&&(Fe.opt_len+=($e-fe[2*Rt+1])*fe[2*Rt],fe[2*Rt+1]=$e),nt--)}}(C,z),ae(de,Ue,C.bl_count)}function m(C,z,ee){var se,$,de=-1,ke=z[1],pe=0,ge=7,Ue=4;for(ke===0&&(ge=138,Ue=3),z[2*(ee+1)+1]=65535,se=0;se<=ee;se++)$=ke,ke=z[2*(se+1)+1],++pe<ge&&$===ke||(pe<Ue?C.bl_tree[2*$]+=pe:$!==0?($!==de&&C.bl_tree[2*$]++,C.bl_tree[2*_]++):pe<=10?C.bl_tree[2*S]++:C.bl_tree[2*T]++,de=$,Ue=(pe=0)===ke?(ge=138,3):$===ke?(ge=6,3):(ge=7,4))}function K(C,z,ee){var se,$,de=-1,ke=z[1],pe=0,ge=7,Ue=4;for(ke===0&&(ge=138,Ue=3),se=0;se<=ee;se++)if($=ke,ke=z[2*(se+1)+1],!(++pe<ge&&$===ke)){if(pe<Ue)for(;oe(C,$,C.bl_tree),--pe!=0;);else $!==0?($!==de&&(oe(C,$,C.bl_tree),pe--),oe(C,_,C.bl_tree),J(C,pe-3,2)):pe<=10?(oe(C,S,C.bl_tree),J(C,pe-3,3)):(oe(C,T,C.bl_tree),J(C,pe-11,7));de=$,Ue=(pe=0)===ke?(ge=138,3):$===ke?(ge=6,3):(ge=7,4)}}l(M);var V=!1;function N(C,z,ee,se){J(C,(d<<1)+(se?1:0),3),function($,de,ke,pe){be($),ie($,ke),ie($,~ke),i.arraySet($.pending_buf,$.window,de,ke,$.pending),$.pending+=ke}(C,z,ee)}s._tr_init=function(C){V||(function(){var z,ee,se,$,de,ke=new Array(w+1);for($=se=0;$<p-1;$++)for(U[$]=se,z=0;z<1<<j[$];z++)k[se++]=$;for(k[se-1]=$,$=de=0;$<16;$++)for(M[$]=de,z=0;z<1<<L[$];z++)Z[de++]=$;for(de>>=7;$<y;$++)for(M[$]=de<<7,z=0;z<1<<L[$]-7;z++)Z[256+de++]=$;for(ee=0;ee<=w;ee++)ke[ee]=0;for(z=0;z<=143;)le[2*z+1]=8,z++,ke[8]++;for(;z<=255;)le[2*z+1]=9,z++,ke[9]++;for(;z<=279;)le[2*z+1]=7,z++,ke[7]++;for(;z<=287;)le[2*z+1]=8,z++,ke[8]++;for(ae(le,x+1,ke),z=0;z<y;z++)R[2*z+1]=5,R[2*z]=_e(z,5);re=new te(le,j,v+1,x,w),Y=new te(R,L,0,y,w),B=new te(new Array(0),O,0,g,h)}(),V=!0),C.l_desc=new P(C.dyn_ltree,re),C.d_desc=new P(C.dyn_dtree,Y),C.bl_desc=new P(C.bl_tree,B),C.bi_buf=0,C.bi_valid=0,ce(C)},s._tr_stored_block=N,s._tr_flush_block=function(C,z,ee,se){var $,de,ke=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(pe){var ge,Ue=4093624447;for(ge=0;ge<=31;ge++,Ue>>>=1)if(1&Ue&&pe.dyn_ltree[2*ge]!==0)return o;if(pe.dyn_ltree[18]!==0||pe.dyn_ltree[20]!==0||pe.dyn_ltree[26]!==0)return a;for(ge=32;ge<v;ge++)if(pe.dyn_ltree[2*ge]!==0)return a;return o}(C)),Be(C,C.l_desc),Be(C,C.d_desc),ke=function(pe){var ge;for(m(pe,pe.dyn_ltree,pe.l_desc.max_code),m(pe,pe.dyn_dtree,pe.d_desc.max_code),Be(pe,pe.bl_desc),ge=g-1;3<=ge&&pe.bl_tree[2*D[ge]+1]===0;ge--);return pe.opt_len+=3*(ge+1)+5+5+4,ge}(C),$=C.opt_len+3+7>>>3,(de=C.static_len+3+7>>>3)<=$&&($=de)):$=de=ee+5,ee+4<=$&&z!==-1?N(C,z,ee,se):C.strategy===4||de===$?(J(C,2+(se?1:0),3),He(C,le,R)):(J(C,4+(se?1:0),3),function(pe,ge,Ue,Fe){var ot;for(J(pe,ge-257,5),J(pe,Ue-1,5),J(pe,Fe-4,4),ot=0;ot<Fe;ot++)J(pe,pe.bl_tree[2*D[ot]+1],3);K(pe,pe.dyn_ltree,ge-1),K(pe,pe.dyn_dtree,Ue-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,ke+1),He(C,C.dyn_ltree,C.dyn_dtree)),ce(C),se&&be(C)},s._tr_tally=function(C,z,ee){return C.pending_buf[C.d_buf+2*C.last_lit]=z>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&z,C.pending_buf[C.l_buf+C.last_lit]=255&ee,C.last_lit++,z===0?C.dyn_ltree[2*ee]++:(C.matches++,z--,C.dyn_ltree[2*(k[ee]+v+1)]++,C.dyn_dtree[2*A(z)]++),C.last_lit===C.lit_bufsize-1},s._tr_align=function(C){J(C,2,3),oe(C,b,le),function(z){z.bi_valid===16?(ie(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var l,d,p,v,x=1,y={},g=!1,c=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){h(_)})}:function(){if(o.postMessage&&!o.importScripts){var _=!0,S=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=S,_}}()?(v="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(_){o.postMessage(v+_,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(_){h(_.data)},function(_){p.port2.postMessage(_)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,function(_){var S=c.createElement("script");S.onreadystatechange=function(){h(_),S.onreadystatechange=null,d.removeChild(S),S=null},d.appendChild(S)}):function(_){setTimeout(h,0,_)},w.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var S=new Array(arguments.length-1),T=0;T<S.length;T++)S[T]=arguments[T+1];var j={callback:_,args:S};return y[x]=j,l(x),x++},w.clearImmediate=f}function f(_){delete y[_]}function h(_){if(g)setTimeout(h,0,_);else{var S=y[_];if(S){g=!0;try{(function(T){var j=T.callback,L=T.args;switch(L.length){case 0:j();break;case 1:j(L[0]);break;case 2:j(L[0],L[1]);break;case 3:j(L[0],L[1],L[2]);break;default:j.apply(a,L)}})(S)}finally{f(_),g=!1}}}}function b(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(v)===0&&h(+_.data.slice(v.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Pi<"u"?Pi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Gm);var a2=Gm.exports;const Af=Su(a2);function Pf({rating:e,onChange:t,size:n=20,disabled:r=!1}){const[s,i]=F.useState(0),o=s||e||0,a=l=>{if(r)return;const d=e===l?0:l;t==null||t(d)};return u.jsxs("div",{className:"flex items-center gap-1",onMouseLeave:()=>i(0),children:[[1,2,3,4,5].map(l=>{const d=l<=o,p=s>0&&l<=s;return u.jsx("button",{type:"button",disabled:r,className:`
              transition-all duration-150
              ${r?"cursor-not-allowed opacity-50":"cursor-pointer hover:scale-110"}
              ${p?"animate-pulse":""}
            `,onMouseEnter:()=>!r&&i(l),onClick:()=>a(l),title:`${l} `,children:u.jsx(bi,{size:n,className:`
                transition-colors duration-150
                ${d?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600"}
                ${p?"drop-shadow-lg":""}
              `})},l)}),o>0&&u.jsxs("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:[o," "]})]})}function Lf(){const{currentLibraryId:e}=Rn(),{selectedImage:t,selectedImages:n,selectedFolder:r,selectedFolderItem:s,images:i,setSelectedImage:o,setSelectedImages:a,updateImage:l}=Ee(),{setMobileView:d,isResizingPanels:p,resizingSide:v}=Wt(),{copyToClipboard:x}=Ym(),[y,g]=F.useState(!1),[c,w]=F.useState(""),[f,h]=F.useState(!1),[b,_]=F.useState(!1),[S,T]=F.useState(!1),[j,L]=F.useState(0),[O,D]=F.useState(!1),[le,R]=F.useState(0),[Z,k]=F.useState(!1),[U,re]=F.useState(!1),[Y,B]=F.useState(""),M=F.useRef(null),[te,P]=F.useState(!1),A=n.length>0?t&&!n.some(q=>q.id===t.id)?n.length+1:n.length:t?1:0,ie=A>1,J=n.length>0?n[0]:t,{getCurrentLibrary:oe}=Rn(),_e=oe(),ae=()=>{const q=navigator.platform.toLowerCase(),we=navigator.userAgent.toLowerCase();return q.includes("win")||we.includes("windows")?"\\":"/"},ce=q=>{if(!q)return"";const we=ae();return q.replace(/[\\/]+/g,we)},be=q=>{if(!(_e!=null&&_e.path)||!q)return q||"";const we=ae(),fe=_e.path.replace(/[\\/]+$/,""),je=q.replace(/^[\\/]+/,""),Oe=`${fe}${we}${je}`;return ce(Oe)},Te=q=>{if(!q||q.length===0)return"";if(q.length===1)return be(q[0].path);const we=ae(),je=q.map(he=>be(he.path)).map(he=>he.split(/[\\/]/)),Oe=[],Pe=Math.min(...je.map(he=>he.length-1));for(let he=0;he<Pe;he++){const Ie=je[0][he];if(je.every(Le=>Le[he]===Ie))Oe.push(Ie);else break}return Oe.length>0?Oe.join(we):ce((_e==null?void 0:_e.path)||"")},Ce=async q=>{try{navigator.clipboard&&navigator.clipboard.writeText?await navigator.clipboard.writeText(q):de(q),k(!0),setTimeout(()=>k(!1),2e3)}catch(we){console.error(":",we),alert("")}},He=()=>{if(!t||ie)return;const q=t.filename.substring(0,t.filename.lastIndexOf("."))||t.filename;B(q),re(!0),setTimeout(()=>{M.current&&(M.current.focus(),M.current.select())},50)},Be=async()=>{if(!t||!Y.trim()){re(!1),B("");return}const q=t.filename,we=q.substring(q.lastIndexOf(".")),fe=Y.trim()+we;if(fe===q){re(!1),B("");return}try{const je=await Kt.rename(e,t.path,fe),Oe=je.data.newPath,Pe=je.data.newName;l(t.path,{path:Oe,filename:Pe}),console.log(` : ${q}  ${Pe}`)}catch(je){console.error(":",je),alert(": "+(je.message||""))}finally{re(!1),B("")}},m=()=>{re(!1),B("")},K=async q=>{const we=ge();if(we.length!==0){P(!0);try{const fe=we.map(je=>je.path);if(await De.updateRating(e,fe,q),we.forEach(je=>{l(je.path,{rating:q})}),t&&fe.includes(t.path)&&o({...t,rating:q}),n.length>0){const je=n.map(Oe=>fe.includes(Oe.path)?{...Oe,rating:q}:Oe);a(je)}console.log(`  ${fe.length}  ${q} `)}catch(fe){console.error(":",fe),alert(": "+(fe.message||""))}finally{P(!1)}}};F.useEffect(()=>{const q=()=>{g(window.innerWidth<768)};return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),F.useEffect(()=>{if(!t||!e){w("");return}const q=C();if(w(q),h(!0),p){h(!1);return}const we=z(),fe=new Image;return fe.onload=()=>{w(we),h(!1)},fe.onerror=()=>{console.error("Failed to load original image"),h(!1)},fe.src=we,()=>{fe.onload=null,fe.onerror=null}},[t,e,p,v]);const V=s&&!t&&n.length===0,N=!V&&(t||n.length>0);if(!V&&!N)return u.jsx("div",{className:"w-full border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:""})});const C=()=>{if(!e||!(t!=null&&t.thumbnail_path))return"";const q=t.thumbnail_path.replace(/\\/g,"/").split("/").pop();return De.getThumbnailUrl(e,q)},z=()=>!e||!(t!=null&&t.path)?"":De.getOriginalUrl(e,t.path),ee=()=>typeof ClipboardItem<"u"&&navigator.clipboard&&typeof navigator.clipboard.write=="function",se=async q=>new Promise(we=>{const fe=document.createElement("div");fe.setAttribute("contenteditable","true"),fe.style.position="fixed",fe.style.left="-9999px",fe.style.top="-9999px",fe.style.opacity="0",document.body.appendChild(fe);const je=document.createElement("img");je.crossOrigin="anonymous",je.onload=()=>{fe.appendChild(je);const Oe=document.createRange();Oe.selectNodeContents(fe);const Pe=window.getSelection();Pe.removeAllRanges(),Pe.addRange(Oe);let he=!1;try{he=document.execCommand("copy")}catch(Ie){console.error("execCommand copy :",Ie)}Pe.removeAllRanges(),document.body.removeChild(fe),we(he)},je.onerror=()=>{document.body.removeChild(fe),we(!1)},je.src=q}),$=async q=>new Promise(async we=>{try{const je=await(await fetch(q)).blob(),Oe=new Image;Oe.crossOrigin="anonymous";const Pe=new Promise((Je,st)=>{Oe.onload=Je,Oe.onerror=st});Oe.src=URL.createObjectURL(je),await Pe;const he=document.createElement("canvas");he.width=Oe.width,he.height=Oe.height,he.getContext("2d").drawImage(Oe,0,0),URL.revokeObjectURL(Oe.src);const Le=he.toDataURL("image/png"),Ae=document.createElement("div");Ae.setAttribute("contenteditable","true"),Ae.style.position="fixed",Ae.style.left="-9999px",Ae.style.top="-9999px",Ae.style.opacity="0",document.body.appendChild(Ae);const ne=document.createElement("img");ne.src=Le,Ae.appendChild(ne),await new Promise(Je=>setTimeout(Je,50));const Se=document.createRange();Se.selectNodeContents(Ae);const ze=window.getSelection();ze.removeAllRanges(),ze.addRange(Se);let qe=!1;try{qe=document.execCommand("copy")}catch(Je){console.error("execCommand copy :",Je)}ze.removeAllRanges(),document.body.removeChild(Ae),we(qe)}catch(fe){console.error("Canvas :",fe),we(!1)}}),de=q=>{const we=document.createElement("textarea");we.value=q,we.style.position="fixed",we.style.left="-9999px",we.style.top="-9999px",document.body.appendChild(we),we.focus(),we.select();try{return document.execCommand("copy"),!0}catch(fe){return console.error("execCommand :",fe),!1}finally{document.body.removeChild(we)}},ke=async()=>{try{const q=[{type:"file",path:t.path,data:t}];x(q,"copy"),console.log("  1 ");const we=De.getOriginalUrl(e,t.path);if(ee())try{const he=await(await fetch(we)).blob(),Ie=new Image,Le=new Promise((qe,Je)=>{Ie.onload=qe,Ie.onerror=Je});Ie.src=URL.createObjectURL(he),await Le;const Ae=document.createElement("canvas");Ae.width=Ie.width,Ae.height=Ie.height,Ae.getContext("2d").drawImage(Ie,0,0),URL.revokeObjectURL(Ie.src);const Se=await new Promise(qe=>{Ae.toBlob(qe,"image/png")}),ze=new ClipboardItem({"image/png":Se});await navigator.clipboard.write([ze]),_(!0),setTimeout(()=>_(!1),2e3);return}catch(Pe){console.warn("Clipboard API :",Pe)}if(console.log(" Canvas + execCommand ..."),await $(we)){_(!0),setTimeout(()=>_(!1),2e3);return}if(console.log(" URL ..."),await se(we)){_(!0),setTimeout(()=>_(!1),2e3);return}console.warn(""),de(we)?(_(!0),setTimeout(()=>_(!1),2e3),alert(`
`)):alert(`
`+we)}catch(q){console.error(":",q),alert("")}},pe=async q=>new Promise(async we=>{try{const fe=document.createElement("div");fe.setAttribute("contenteditable","true"),fe.style.position="fixed",fe.style.left="-9999px",fe.style.top="-9999px",fe.style.opacity="0",document.body.appendChild(fe);for(const{url:he,filename:Ie}of q)try{const Ae=await(await fetch(he)).blob(),ne=new Image;ne.crossOrigin="anonymous",await new Promise((st,ct)=>{ne.onload=st,ne.onerror=ct,ne.src=URL.createObjectURL(Ae)});const Se=document.createElement("canvas");Se.width=ne.width,Se.height=ne.height,Se.getContext("2d").drawImage(ne,0,0),URL.revokeObjectURL(ne.src);const qe=Se.toDataURL("image/png"),Je=document.createElement("img");Je.src=qe,Je.alt=Ie,Je.style.display="block",Je.style.marginBottom="10px",fe.appendChild(Je)}catch(Le){console.error(`: ${Ie}`,Le)}await new Promise(he=>setTimeout(he,100));const je=document.createRange();je.selectNodeContents(fe);const Oe=window.getSelection();Oe.removeAllRanges(),Oe.addRange(je);let Pe=!1;try{Pe=document.execCommand("copy")}catch(he){console.error("execCommand copy :",he)}Oe.removeAllRanges(),document.body.removeChild(fe),we(Pe)}catch(fe){console.error(":",fe),we(!1)}}),ge=()=>n.length>0?t&&!n.some(q=>q.id===t.id)?[t,...n]:n:t?[t]:[],Ue=async()=>{try{const q=ge(),we=q.map(he=>({type:"file",path:he.path,data:he}));if(x(we,"copy"),console.log(`  ${we.length} `),q.length===1){await ke();return}const fe=q.map(he=>({url:De.getOriginalUrl(e,he.path),filename:he.filename})),je=q.map(he=>he.filename).join(`
`);if(ee())try{const Ie=(await Promise.all(q.map(async Le=>{const Ae=De.getOriginalUrl(e,Le.path),Se=await(await fetch(Ae)).blob();return new Promise(ze=>{const qe=new FileReader;qe.onloadend=()=>{ze({dataUrl:qe.result,filename:Le.filename})},qe.readAsDataURL(Se)})}))).map(({dataUrl:Le,filename:Ae})=>`<span><img src="${Le}" alt="${Ae}"></span>`).join("");await navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([Ie],{type:"text/html"}),"text/plain":new Blob([je],{type:"text/plain"})})]),_(!0),setTimeout(()=>_(!1),2e3);return}catch(he){console.warn("Clipboard API :",he)}if(console.log(" contenteditable ..."),await pe(fe)){_(!0),setTimeout(()=>_(!1),2e3);return}console.warn(""),de(je)?(_(!0),setTimeout(()=>_(!1),2e3),alert(` ${q.length} 
""`)):alert('""')}catch(q){console.error(":",q),alert("")}},Fe=async()=>{T(!0);try{const q=ge();if(q.length===1){const we=De.getOriginalUrl(e,q[0].path),fe=document.createElement("a");fe.href=we,fe.download=q[0].filename,fe.target="_blank",document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)}else{const we=new Af,fe=we.folder("images");L(0);for(let Pe=0;Pe<q.length;Pe++){const he=q[Pe],Ie=De.getOriginalUrl(e,he.path);try{const Ae=await(await fetch(Ie)).blob();fe.file(he.filename,Ae);const ne=Math.round((Pe+1)/q.length*90);L(ne),console.log(`: ${he.filename} (${Pe+1}/${q.length})`)}catch(Le){console.error(`: ${he.filename}`,Le)}}L(95),console.log(" ZIP ...");const je=await we.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}});L(100);const Oe=document.createElement("a");Oe.href=URL.createObjectURL(je),Oe.download=`FlyPic__${q.length}_${Date.now()}.zip`,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(Oe.href),console.log("")}}catch(q){console.error(":",q),alert("")}finally{T(!1)}},ot=async()=>{if(!r){alert("");return}D(!0),R(0);try{const q=i.filter(he=>he.folder&&he.folder.startsWith(r));if(q.length===0){alert("");return}const we=new Af,fe=r.split("/").pop()||"images",je=we.folder(fe);for(let he=0;he<q.length;he++){const Ie=q[he],Le=De.getOriginalUrl(e,Ie.path);try{const ne=await(await fetch(Le)).blob(),Se=Ie.folder.replace(r,"").replace(/^\//,""),ze=Se?`${Se}/${Ie.filename}`:Ie.filename;je.file(ze,ne);const qe=Math.round((he+1)/q.length*90);R(qe),console.log(`: ${ze} (${he+1}/${q.length})`)}catch(Ae){console.error(`: ${Ie.filename}`,Ae)}}R(95),console.log(" ZIP ...");const Oe=await we.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}});R(100);const Pe=document.createElement("a");Pe.href=URL.createObjectURL(Oe),Pe.download=`${fe}_${q.length}_${Date.now()}.zip`,document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),URL.revokeObjectURL(Pe.href),console.log("")}catch(q){console.error(":",q),alert("")}finally{D(!1)}},wt=q=>q<1024?q+" B":q<1024*1024?(q/1024).toFixed(2)+" KB":(q/(1024*1024)).toFixed(2)+" MB",nt=q=>{if(!q)return"";const we=new Date(q);return isNaN(we.getTime())?"":we.toLocaleString("zh-CN")},Rt=()=>{const q=ge();if(q.length===0)return null;const we=q.reduce((et,tn)=>et+(tn.size||0),0),fe=q.map(et=>et.width).filter(Boolean),je=q.map(et=>et.height).filter(Boolean),Oe=fe.length>0?Math.min(...fe):0,Pe=fe.length>0?Math.max(...fe):0,he=je.length>0?Math.min(...je):0,Ie=je.length>0?Math.max(...je):0,Le=[...new Set(q.map(et=>et.format).filter(Boolean))],Ae=q.map(et=>et.createdAt||et.created_at).filter(Boolean),ne=Ae.length>0?Math.min(...Ae):null,Se=Ae.length>0?Math.max(...Ae):null,ze=q.map(et=>et.modifiedAt||et.modified_at).filter(Boolean),qe=ze.length>0?Math.min(...ze):null,Je=ze.length>0?Math.max(...ze):null,st=q.map(et=>et.size).filter(Boolean),ct=st.length>0?Math.min(...st):0,gt=st.length>0?Math.max(...st):0;return{count:q.length,totalSize:we,sizeRange:{min:ct,max:gt},dimensionRange:{minWidth:Oe,maxWidth:Pe,minHeight:he,maxHeight:Ie},formats:Le,timeRange:{min:ne,max:Se},modifiedTimeRange:{min:qe,max:Je}}},$e=q=>{const we=i.filter(Oe=>{const Pe=Oe.folder||"";return Pe===q||Pe.startsWith(q+"/")}),fe=we.length,je=we.reduce((Oe,Pe)=>Oe+(Pe.size||0),0);return{totalCount:fe,totalSize:je}};if(V){const q=s.path,we=s.name,{totalCount:fe,totalSize:je}=$e(q),Oe=_e!=null&&_e.path?ce(`${_e.path}${ae()}${q}`):q;return u.jsxs("div",{className:"w-full border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col h-full",children:[y&&u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center",children:u.jsxs("button",{onClick:()=>d("main"),className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 hover:text-blue-500",children:[u.jsx(ff,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:""})]})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:u.jsx("div",{className:"w-full aspect-square bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900 dark:to-blue-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden relative flex items-center justify-center",children:u.jsx(Yn,{className:"w-32 h-32 text-blue-500 dark:text-blue-300"})})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:""}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100 break-all",children:we})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:[fe," "]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:wt(je)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[u.jsx("p",{className:"flex-1 text-gray-900 dark:text-gray-100 text-xs break-all cursor-pointer hover:text-blue-500 transition-colors",onClick:()=>Ce(Oe),title:"",children:Oe}),u.jsx("button",{onClick:()=>Ce(Oe),className:`flex-shrink-0 p-1 rounded transition-colors ${Z?"text-green-500":"text-gray-400 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"",children:Z?u.jsx(rl,{className:"w-4 h-4"}):u.jsx(Co,{className:"w-4 h-4"})})]})]})]})]})}),!y&&fe>0&&u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2 flex-shrink-0",children:u.jsxs("button",{onClick:ot,disabled:O,className:"w-full flex flex-col items-center justify-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pf,{className:"w-4 h-4"}),u.jsx("span",{children:O?`... ${le}%`:` (${fe} )`})]}),O&&u.jsx("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-full h-1.5 mt-1",children:u.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${le}%`}})})]})})]})}return u.jsxs("div",{className:"w-full border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col h-full",children:[y&&u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center",children:u.jsxs("button",{onClick:()=>d("main"),className:"flex items-center gap-2 text-gray-700 dark:text-gray-300 hover:text-blue-500",children:[u.jsx(ff,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:""})]})}),u.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:u.jsxs("div",{className:"w-full aspect-square bg-transparent border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden relative",children:[u.jsx("img",{src:c,alt:J.filename,decoding:"async",className:`w-full h-full object-contain transition-opacity duration-300 ${f?"opacity-75":"opacity-100"}`}),f&&u.jsx("div",{className:"absolute top-2 right-2 bg-blue-500 text-white text-xs px-2 py-1 rounded",children:"..."})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:ie?` ${A} `:""}),u.jsxs("div",{className:"space-y-2 text-sm",children:[ie?(()=>{const q=Rt();return q?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:[q.count," "]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("div",{className:"mt-1",children:u.jsx(Pf,{rating:(()=>{const fe=ge().map(Oe=>Oe.rating||0),je=[...new Set(fe)];return je.length===1?je[0]:0})(),onChange:K,disabled:te})}),(()=>{const fe=ge().map(Oe=>Oe.rating||0);return[...new Set(fe)].length>1?u.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:""}):null})()]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:q.dimensionRange.minWidth===q.dimensionRange.maxWidth&&q.dimensionRange.minHeight===q.dimensionRange.maxHeight?`${q.dimensionRange.minWidth}  ${q.dimensionRange.minHeight}`:`${q.dimensionRange.minWidth}~${q.dimensionRange.maxWidth}  ${q.dimensionRange.minHeight}~${q.dimensionRange.maxHeight}`})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:wt(q.totalSize)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100 uppercase",children:q.formats.join(", ")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-xs",children:q.timeRange.min&&q.timeRange.max?q.timeRange.min===q.timeRange.max?nt(q.timeRange.min):`${nt(q.timeRange.min)} ~ ${nt(q.timeRange.max)}`:""})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-xs",children:q.modifiedTimeRange.min&&q.modifiedTimeRange.max?q.modifiedTimeRange.min===q.modifiedTimeRange.max?nt(q.modifiedTimeRange.min):`${nt(q.modifiedTimeRange.min)} ~ ${nt(q.modifiedTimeRange.max)}`:""})]})]}):null})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),U?u.jsx("input",{ref:M,type:"text",value:Y,onChange:q=>B(q.target.value),onKeyDown:q=>{q.key==="Enter"?(q.preventDefault(),Be()):q.key==="Escape"&&(q.preventDefault(),m())},onBlur:Be,className:"w-full text-gray-900 dark:text-gray-100 bg-transparent border-none outline-none focus:outline-none break-all underline decoration-2 decoration-blue-500 underline-offset-2",style:{padding:0,margin:0}}):u.jsx("p",{className:"text-gray-900 dark:text-gray-100 break-all cursor-pointer hover:text-blue-500 transition-colors",onClick:He,title:"",children:t.filename})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("div",{className:"mt-1",children:u.jsx(Pf,{rating:t.rating||0,onChange:K,disabled:te})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:[t.width,"  ",t.height]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:wt(t.size)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100 uppercase",children:t.format})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:nt(t.createdAt||t.created_at)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:nt(t.modifiedAt||t.modified_at)})]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:":"}),u.jsxs("div",{className:"flex items-start gap-2 mt-1",children:[u.jsx("p",{className:"flex-1 text-gray-900 dark:text-gray-100 text-xs break-all cursor-pointer hover:text-blue-500 transition-colors",onClick:()=>{const q=ie?Te(ge()):be(t.path);Ce(q)},title:"",children:ie?Te(ge()):be(t.path)}),u.jsx("button",{onClick:()=>{const q=ie?Te(ge()):be(t.path);Ce(q)},className:`flex-shrink-0 p-1 rounded transition-colors ${Z?"text-green-500":"text-gray-400 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"",children:Z?u.jsx(rl,{className:"w-4 h-4"}):u.jsx(Co,{className:"w-4 h-4"})})]}),ie&&u.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[" ",A," "]})]})]})]})}),!y&&u.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2 flex-shrink-0",children:[u.jsx("button",{onClick:Ue,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all ${b?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:b?u.jsxs(u.Fragment,{children:[u.jsx(rl,{className:"w-4 h-4"}),u.jsxs("span",{children:["",ie?` ${A} `:""]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Co,{className:"w-4 h-4"}),u.jsxs("span",{children:["",ie?` (${A})`:""]})]})}),u.jsxs("button",{onClick:Fe,disabled:S,className:"w-full flex flex-col items-center justify-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tw,{className:"w-4 h-4"}),u.jsx("span",{children:S?`... ${j}%`:`${ie?` (${A})`:""}`})]}),S&&ie&&u.jsx("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-full h-1.5 mt-1",children:u.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${j}%`}})})]}),r&&u.jsxs("button",{onClick:ot,disabled:O,className:"w-full flex flex-col items-center justify-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pf,{className:"w-4 h-4"}),u.jsx("span",{children:O?`... ${le}%`:""})]}),O&&u.jsx("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-full h-1.5 mt-1",children:u.jsx("div",{className:"bg-gray-700 dark:bg-gray-300 h-1.5 rounded-full transition-all duration-300",style:{width:`${le}%`}})})]})]})]})}function zf(){const{currentLibraryId:e}=Rn(),{searchKeywords:t,originalImages:n,selectedFolder:r,setSearchKeywords:s,filters:i,setFilters:o,resetFilters:a}=Ee(),{thumbnailHeight:l,setThumbnailHeight:d,mobileView:p}=Wt(),{theme:v,toggleTheme:x}=Um(),[y,g]=F.useState(!1),[c,w]=F.useState(!1),[f,h]=F.useState(!1),[b,_]=F.useState(!1),[S,T]=F.useState(t),j=F.useRef(null),L=i.formats||[],O=i.sizes||[],D=i.orientations||[],le=i.ratings||[];F.useEffect(()=>{const ae=()=>{h(window.innerWidth<768)};return ae(),window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),F.useEffect(()=>{a()},[r,a]);const R=ae=>{T(ae),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{s(ae)},300)};F.useEffect(()=>{T(t)},[t]),F.useEffect(()=>()=>{j.current&&clearTimeout(j.current)},[]);const Z=ae=>{if(ae.length===0)return[];const ce=[...ae].sort((V,N)=>V-N),be=ce[0],Te=ce[ce.length-1];if(Te-be<10)return[k(be,Te)];const Ce=5,He=[],Be=Math.log10(be||1),K=(Math.log10(Te)-Be)/Ce;for(let V=0;V<Ce;V++){const N=Math.pow(10,Be+V*K),C=Math.pow(10,Be+(V+1)*K);(ce.some(ee=>ee>=N&&ee<C)||V===Ce-1)&&He.push(k(N,C,V===Ce-1))}return He.filter(V=>V)},k=(ae,ce,be=!1)=>{const Te=Ce=>{const He=Be=>Be<10?Math.round(Be):Be<100?Math.round(Be/5)*5:Be<1e3?Math.round(Be/10)*10:Math.round(Be/50)*50;return Ce<1?`${He(Ce*1024)}B`:Ce<1024?`${He(Ce)}KB`:Ce<1048576?`${He(Ce/1024)}MB`:`${He(Ce/1048576)}GB`};return be?`> ${Te(ae)}`:`${Te(ae)} - ${Te(ce)}`},U=F.useMemo(()=>{if(n.length===0)return{formats:[],sizes:[],hasHorizontal:!1,hasVertical:!1,hasSquare:!1,ratings:[]};const ae=new Set,ce=[],be=new Set;let Te=!1,Ce=!1,He=!1;n.forEach(m=>{m.format&&ae.add(m.format.toLowerCase()),ce.push(m.size/1024);const K=m.width/m.height;K>1.05?Te=!0:K<.95?Ce=!0:He=!0;const V=m.rating||0;be.add(V)});const Be=Z(ce);return{formats:Array.from(ae).sort(),sizes:Be,hasHorizontal:Te,hasVertical:Ce,hasSquare:He,ratings:Array.from(be).sort((m,K)=>K-m)}},[n]),re=ae=>{const ce=L.includes(ae)?L.filter(be=>be!==ae):[...L,ae];o({formats:ce})},Y=ae=>{const ce=O.includes(ae)?O.filter(be=>be!==ae):[...O,ae];o({sizes:ce})},B=ae=>{const ce=D.includes(ae)?D.filter(be=>be!==ae):[...D,ae];o({orientations:ce})},M=ae=>{const ce=le.includes(ae)?le.filter(be=>be!==ae):[...le,ae];o({ratings:ce})},te=()=>{o({formats:[],sizes:[],orientations:[],ratings:[]})},P=async ae=>{d(ae);try{await Lt.updatePreferences({thumbnailHeight:ae})}catch(ce){console.error("Error saving preferences:",ce)}},A=async()=>{if(!(!e||c)){w(!0);try{await br.sync(e)}catch(ae){console.error("Error refreshing:",ae),alert(": "+ae.message)}finally{w(!1)}}},ie=U.formats,J=U.sizes.map(ae=>({label:ae})),oe=[{value:"horizontal",label:""},{value:"vertical",label:""},{value:"square",label:""}].filter(ae=>ae.value==="horizontal"&&U.hasHorizontal||ae.value==="vertical"&&U.hasVertical||ae.value==="square"&&U.hasSquare),_e=U.ratings;if(f){const ae=p!=="sidebar";return u.jsxs("header",{className:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[u.jsxs("div",{className:"h-14 flex items-center justify-between px-4",children:[u.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"FlyPic"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:A,disabled:!e||c,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:u.jsx(pu,{className:`w-5 h-5 text-gray-700 dark:text-gray-300 ${c?"animate-spin":""}`})}),u.jsx("button",{onClick:()=>_(!b),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:u.jsx(yf,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),u.jsx("button",{onClick:x,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:v==="light"?u.jsx(gf,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):u.jsx(vf,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]})]}),ae&&u.jsx("div",{className:"px-4 pb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(mu,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"...",value:t,onChange:ce=>R(ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),u.jsx("button",{onClick:()=>g(!y),className:`p-2 border rounded-lg ${L.length>0||O.length>0||D.length>0||le.length>0?"border-blue-500 bg-blue-50 dark:bg-blue-500/20":"border-gray-300 dark:border-gray-600"}`,children:u.jsx(hf,{className:`w-5 h-5 ${L.length>0||O.length>0||D.length>0||le.length>0?"text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-400"}`})})]})}),b&&u.jsx("div",{className:"px-4 pb-3 border-t border-gray-200 dark:border-gray-700 pt-3",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:""}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l,"px"]})]}),u.jsx("input",{type:"range",min:"150",max:"300",value:l,onChange:ce=>P(parseInt(ce.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(l-150)/150*100}%, #e5e7eb ${(l-150)/150*100}%, #e5e7eb 100%)`}})]})}),ae&&y&&u.jsxs("div",{className:"px-4 pb-3 border-t border-gray-200 dark:border-gray-700 pt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),u.jsx("button",{onClick:te,className:"text-xs text-blue-500",children:""})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:""}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(ce=>u.jsx("button",{onClick:()=>re(ce),className:`px-3 py-1 text-xs rounded-full ${L.includes(ce)?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:ce.toUpperCase()},ce))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:""}),u.jsx("div",{className:"flex flex-wrap gap-2",children:J.map(ce=>u.jsx("button",{onClick:()=>Y(ce.label),className:`px-3 py-1 text-xs rounded-full ${O.includes(ce.label)?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:ce.label},ce.label))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:""}),u.jsx("div",{className:"flex flex-wrap gap-2",children:oe.map(ce=>u.jsx("button",{onClick:()=>B(ce.value),className:`px-3 py-1 text-xs rounded-full ${D.includes(ce.value)?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:ce.label},ce.value))})]}),_e.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:""}),u.jsx("div",{className:"flex flex-wrap gap-2",children:[5,4,3,2,1,0].filter(ce=>_e.includes(ce)).map(ce=>u.jsx("button",{onClick:()=>M(ce),className:`px-2 py-1 text-xs rounded-full flex items-center gap-1 ${le.includes(ce)?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:ce>0?u.jsx(u.Fragment,{children:[...Array(ce)].map((be,Te)=>u.jsx(bi,{size:12,className:"fill-current"},Te))}):u.jsx("span",{children:""})},ce))})]})]})]})}return u.jsxs("header",{className:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[u.jsxs("div",{className:"h-14 flex items-center justify-between px-6",children:[u.jsxs("div",{className:"flex-shrink-0",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"FlyPic"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:""})]}),u.jsxs("div",{className:"flex-1 max-w-2xl mx-6 flex items-center gap-3",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(mu,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"... ()",value:S,onChange:ae=>R(ae.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("button",{onClick:()=>g(!y),className:`relative p-2 border rounded-lg transition-colors ${L.length>0||O.length>0||D.length>0||le.length>0?"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-500/20 hover:bg-blue-100 dark:hover:bg-blue-500/30":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:L.length>0||O.length>0||D.length>0||le.length>0?"":"",children:[u.jsx(hf,{className:`w-5 h-5 ${L.length>0||O.length>0||D.length>0||le.length>0?"text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-400"}`}),(L.length>0||O.length>0||D.length>0||le.length>0)&&u.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full",style:{backgroundColor:"#3b82f6"}})]})]}),u.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[u.jsx(yf,{className:"w-4 h-4 text-gray-500"}),u.jsx("input",{type:"range",min:"150",max:"300",value:l,onChange:ae=>P(parseInt(ae.target.value)),className:"w-32"}),u.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-12",children:[l,"px"]}),u.jsx("button",{onClick:A,disabled:!e||c,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-2",title:"",children:u.jsx(pu,{className:`w-5 h-5 text-gray-700 dark:text-gray-300 ${c?"animate-spin":""}`})}),u.jsx("button",{onClick:x,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:v==="light"?"":"",children:v==="light"?u.jsx(gf,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):u.jsx(vf,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]})]}),y&&u.jsx("div",{className:"px-6 pb-3",children:u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:""}),u.jsx("button",{onClick:te,className:"text-xs text-blue-500 hover:text-blue-600 dark:hover:text-blue-400",children:""})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:""}),u.jsx("div",{className:"flex flex-col gap-1.5",children:U.formats.length>0?U.formats.map(ae=>u.jsx("button",{onClick:()=>re(ae),className:`px-3 py-1.5 text-xs rounded transition-colors text-left ${L.includes(ae)?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:ae.toUpperCase()},ae)):u.jsx("span",{className:"text-xs text-gray-400 py-2",children:""})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:""}),u.jsx("div",{className:"flex flex-col gap-1.5",children:U.sizes.length>0?U.sizes.map(ae=>u.jsx("button",{onClick:()=>Y(ae),className:`px-3 py-1.5 text-xs rounded transition-colors text-left ${O.includes(ae)?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:ae},ae)):u.jsx("span",{className:"text-xs text-gray-400 py-2",children:""})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:""}),u.jsx("div",{className:"flex flex-col gap-1.5",children:oe.length>0?oe.map(ae=>u.jsx("button",{onClick:()=>B(ae.value),className:`px-3 py-1.5 text-xs rounded transition-colors text-left ${D.includes(ae.value)?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:ae.label},ae.value)):u.jsx("span",{className:"text-xs text-gray-400 py-2",children:""})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:""}),u.jsx("div",{className:"flex flex-col gap-1.5",children:_e.length>0?[5,4,3,2,1,0].filter(ae=>_e.includes(ae)).map(ae=>u.jsx("button",{onClick:()=>M(ae),className:`px-3 py-1.5 text-xs rounded transition-colors text-left flex items-center gap-1.5 ${le.includes(ae)?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:ae>0?u.jsx(u.Fragment,{children:[...Array(ae)].map((ce,be)=>u.jsx(bi,{size:14,className:"fill-current"},be))}):u.jsx("span",{children:""})},ae)):u.jsx("span",{className:"text-xs text-gray-400 py-2",children:""})})]})]})]})})]})}function l2(){Um();const{mobileView:e,setMobileView:t}=Wt(),{setLibraries:n,setCurrentLibrary:r,removeLibrary:s,setShowAddLibraryForm:i,triggerExpandLibrarySelector:o}=Rn(),{selectedImage:a}=Ee(),{setScanProgress:l}=or(),[d,p]=F.useState(256),[v,x]=F.useState(320),[y,g]=F.useState(!1),[c,w]=F.useState(!1),[f,h]=F.useState(!1),[b,_]=F.useState(!0),[S,T]=F.useState(null),[j,L]=F.useState(null),O=F.useRef(null);F.useEffect(()=>{const re=()=>{const Y=window.innerWidth<768;h(Y)};return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),F.useEffect(()=>{f&&a&&t("detail")},[a,f,t]),F.useEffect(()=>{const re=window.location.origin,Y=bo(re,{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return Y.on("connect",()=>{const B=(M=5,te=1e3)=>{const P=Rn.getState().currentLibraryId;P&&br.getStatus(P).then(A=>{const ie=A.data||A;ie&&ie.status==="scanning"&&ie.progress?l(ie.progress):M>0&&setTimeout(()=>B(M-1,te),te)}).catch(A=>{M>0&&setTimeout(()=>B(M-1,te),te)})};B(5,1e3)}),Y.on("connect_error",B=>{console.error(" :",B.message)}),Y.on("scanProgress",B=>{const M=Rn.getState().currentLibraryId;B.libraryId===M&&l(B)}),Y.on("scanComplete",({libraryId:B,results:M})=>{const te=Rn.getState().currentLibraryId;if(B===te){const P=Ee.getState(),A={keywords:P.searchKeywords,...P.filters};P.selectedFolder&&(A.folder=P.selectedFolder),Promise.all([De.getFolders(B),P.selectedFolder||P.searchKeywords||P.filters.formats.length>0?De.search(B,A):Promise.resolve({images:[]}),De.getStats(B)]).then(([ie,J,oe])=>{Ee.getState().setFolders(ie.folders),Ee.getState().setImages(J.images),Ee.getState().setTotalImageCount(oe.total||0),Ee.getState().setTotalSize(oe.totalSize||0)}).catch(ie=>{console.error(" :",ie.message)}).finally(()=>{l(null)})}else l(null)}),Y.on("scanError",({libraryId:B,error:M})=>{l(null),console.error(" :",M)}),le(),()=>{Y.disconnect(),fu.cleanup()}},[]);const D=async re=>{try{const[Y,B]=await Promise.all([De.getFolders(re),De.getStats(re)]);Ee.getState().setFolders(Y.folders),Ee.getState().setTotalImageCount(B.total||0),Ee.getState().setTotalSize(B.totalSize||0)}catch(Y){console.error(" :",Y.message)}},le=async(re=0)=>{try{T(null);const M=await Lt.getAll(),te=M.data||M;n(te.libraries||[]),r(te.currentLibraryId);const P=te.currentLibraryId;if(te.theme&&Wt.getState().setTheme(te.theme),te.preferences){const{thumbnailHeight:A,leftPanelWidth:ie,rightPanelWidth:J}=te.preferences;A&&Wt.getState().setThumbnailHeight(A),ie&&p(ie),J&&x(J)}if(P){try{const A=await Lt.validate(P),ie=A.data||A;if(ie.status!=="ok"){L({id:P,name:ie.name,path:ie.path,status:ie.status}),_(!1);return}}catch(A){console.warn(":",A.message)}await D(P),br.getStatus(P).then(A=>{const{status:ie,progress:J}=A;ie==="scanning"&&l(J)}).catch(()=>{})}_(!1)}catch(M){console.error(`  (${re+1}/5):`,M.message),re<4?(T(`... (${re+1}/5)`),setTimeout(()=>le(re+1),1e3)):(_(!1),T(""))}},R=async(re,Y)=>{try{await Lt.updatePreferences({leftPanelWidth:re,rightPanelWidth:Y})}catch(B){console.error(" :",B.message)}};if(F.useEffect(()=>{if(!y&&!c)return;const re=document.getElementById("left-panel"),Y=document.getElementById("right-panel");let B=d,M=v;const te=O.current.getBoundingClientRect(),P=te.left,A=te.right;let ie=null,J=null,oe=null;const _e=()=>{re&&J!=null&&(re.style.width=`${J}px`,B=J),Y&&oe!=null&&(Y.style.width=`${oe}px`,M=oe),ie=null,J=null,oe=null},ae=be=>{let Te=!1;if(y&&re){const Ce=be.clientX-P;Ce>=200&&Ce<=400&&(J=Ce,Te=!0)}if(c&&Y){const Ce=A-be.clientX;Ce>=280&&Ce<=500&&(oe=Ce,Te=!0)}Te&&ie==null&&(ie=requestAnimationFrame(_e))},ce=()=>{ie&&(cancelAnimationFrame(ie),_e()),p(B),x(M),R(B,M),g(!1),w(!1),Wt.getState().setIsResizingPanels(!1),Wt.getState().setResizingSide(null)};return document.addEventListener("mousemove",ae,{passive:!0}),document.addEventListener("mouseup",ce),document.body.style.userSelect="none",document.body.style.cursor="col-resize",re&&(re.style.transition="none"),Y&&(Y.style.transition="none"),()=>{ie&&(cancelAnimationFrame(ie),ie=null),document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",ce),document.body.style.userSelect="",document.body.style.cursor="",re&&(re.style.transition=""),Y&&(Y.style.transition="")}},[y,c]),b)return u.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),u.jsx("div",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:S||"..."})]})});if(S)return u.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-4",children:[u.jsx("div",{className:"text-red-500 text-5xl",children:""}),u.jsx("div",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:S}),u.jsx("button",{onClick:()=>{_(!0),T(null),le(0)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:""})]})});const Z=async()=>{if(j){L(null);try{await br.fullScan(j.id)}catch(re){console.error(":",re.message),alert(": "+re.message)}}},k=async()=>{if(j){try{await Lt.remove(j.id,!1),s(j.id),r(null),Ee.getState().setImages([]),Ee.getState().setFolders([]),Ee.getState().setTotalImageCount(0),Ee.getState().setSelectedFolder(null)}catch(re){console.error(":",re.message)}L(null),setTimeout(()=>{o()},100)}},U=async()=>{if(j){try{await Lt.remove(j.id),s(j.id)}catch(re){console.error(":",re.message)}L(null),setTimeout(()=>{i(!0)},100)}};return f?u.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[u.jsx(zf,{}),u.jsx(yu,{isOpen:!!j,libraryName:j==null?void 0:j.name,libraryPath:j==null?void 0:j.path,status:j==null?void 0:j.status,onRescan:Z,onOpenOther:k,onCreateNew:U}),u.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[u.jsx("div",{className:`absolute inset-0 transition-transform duration-300 ${e==="sidebar"?"translate-x-0":"-translate-x-full"}`,children:u.jsx(wf,{})}),u.jsx("div",{className:`absolute inset-0 transition-transform duration-300 ${e==="main"?"translate-x-0":e==="sidebar"?"translate-x-full":"-translate-x-full"}`,children:u.jsx(If,{})}),u.jsx("div",{className:`absolute inset-0 transition-transform duration-300 ${e==="detail"?"translate-x-0":"translate-x-full"}`,children:u.jsx(Lf,{})})]}),u.jsxs("div",{className:"flex border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[u.jsxs("button",{onClick:()=>t("sidebar"),className:`flex-1 flex flex-col items-center py-2 ${e==="sidebar"?"text-blue-500":"text-gray-500"}`,children:[u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),u.jsx("span",{className:"text-xs mt-1",children:""})]}),u.jsxs("button",{onClick:()=>t("main"),className:`flex-1 flex flex-col items-center py-2 ${e==="main"?"text-blue-500":"text-gray-500"}`,children:[u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("span",{className:"text-xs mt-1",children:""})]}),u.jsxs("button",{onClick:()=>t("detail"),disabled:!a,className:`flex-1 flex flex-col items-center py-2 ${e==="detail"?"text-blue-500":"text-gray-500"} disabled:opacity-30`,children:[u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-xs mt-1",children:""})]})]})]}):u.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[u.jsx(zf,{}),u.jsx(yu,{isOpen:!!j,libraryName:j==null?void 0:j.name,libraryPath:j==null?void 0:j.path,status:j==null?void 0:j.status,onRescan:Z,onOpenOther:k,onCreateNew:U}),u.jsxs("div",{ref:O,className:"flex flex-1 overflow-hidden",children:[u.jsx("div",{id:"left-panel",style:{width:`${d}px`},className:"flex-shrink-0 h-full bg-white dark:bg-gray-800",children:u.jsx(wf,{})}),u.jsx("div",{className:`group relative w-1 h-full cursor-col-resize flex-shrink-0 transition-colors ${y?"bg-blue-500":"bg-gray-200 dark:bg-gray-700 hover:bg-blue-400"}`,onMouseDown:re=>{re.preventDefault(),Wt.getState().setIsResizingPanels(!0),Wt.getState().setResizingSide("left"),g(!0)},children:u.jsx("div",{className:"absolute inset-y-0 -left-2 -right-2 w-5"})}),u.jsx("div",{className:"flex-1 min-w-0 h-full",children:u.jsx(If,{})}),u.jsx("div",{className:`group relative w-1 h-full cursor-col-resize flex-shrink-0 transition-colors ${c?"bg-blue-500":"bg-gray-200 dark:bg-gray-700 hover:bg-blue-400"}`,onMouseDown:re=>{re.preventDefault(),Wt.getState().setIsResizingPanels(!0),Wt.getState().setResizingSide("right"),w(!0)},children:u.jsx("div",{className:"absolute inset-y-0 -left-2 -right-2 w-5"})}),u.jsx("div",{id:"right-panel",style:{width:`${v}px`},className:"flex-shrink-0 h-full bg-white dark:bg-gray-800",children:u.jsx(Lf,{})})]})]})}const Qm=Rs(e=>({hasPassword:!1,isAuthenticated:!1,isChecking:!0,setAuthStatus:(t,n)=>e({hasPassword:t,isAuthenticated:n,isChecking:!1}),setChecking:t=>e({isChecking:t}),setAuthenticated:()=>e({isAuthenticated:!0}),logout:()=>e({isAuthenticated:!1})}));function u2(){return tt.get("/auth/status")}function c2(e){return tt.post("/auth/setup",{password:e})}function d2(e){return tt.post("/auth/login",{password:e})}function f2(e,t){return tt.post("/auth/change-password",{oldPassword:e,newPassword:t})}const _u={getAuthStatus:u2,setupPassword:c2,login:d2,changePassword:f2};function Ff(){const[e,t]=F.useState(""),[n,r]=F.useState(!1),[s,i]=F.useState(""),{hasPassword:o,setAuthStatus:a}=Qm(),l=async d=>{var p,v;if(d.preventDefault(),!e){i("");return}if(e.length<4){i(" 4 ");return}r(!0),i("");try{let x;o?x=await _u.login(e):x=await _u.setupPassword(e),mm(x.token),a(!0,!0)}catch(x){if(x.status===401)if(((v=(p=x.data)==null?void 0:p.error)==null?void 0:v.remainingAttempts)!==void 0){const y=x.data.error.remainingAttempts;y>0?i(` ${y} `):i("")}else i("");else x.status===429?i(x.message||""):x.status===400&&x.message?i(x.message):i(x.message||"")}finally{r(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center mb-4",children:u.jsx("img",{src:"/ICON_256.PNG",alt:"FlyPic Logo",className:"w-20 h-20 object-contain",onError:d=>{d.target.src="/favicon.png"}})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"FlyPic "}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o?"":""})]}),u.jsxs("form",{onSubmit:l,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o?"":""}),u.jsx("input",{id:"password",type:"password",value:e,onChange:d=>t(d.target.value),placeholder:o?"":" 4 ",className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",disabled:n,autoFocus:!0}),!o&&u.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:" "})]}),s&&u.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:s})}),u.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):o?"":""})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:u.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:"    "})})]})})})}function h2({children:e}){const{hasPassword:t,isAuthenticated:n,isChecking:r,setAuthStatus:s,logout:i}=Qm();F.useEffect(()=>{o();const a=()=>{i()};return window.addEventListener("auth:unauthorized",a),()=>window.removeEventListener("auth:unauthorized",a)},[]);const o=async()=>{try{const a=await _u.getAuthStatus(),l=Sc();console.log(" :",{hasPassword:a.hasPassword,hasToken:!!l}),s(a.hasPassword,a.hasPassword?!!l:!0)}catch(a){console.error(" :",a),a.status===401?s(!0,!1):(console.warn(" "),s(!1,!0))}};return r?u.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),u.jsx("div",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"..."})]})}):t?t&&!n?u.jsx(Ff,{}):e:u.jsx(Ff,{})}ul.createRoot(document.getElementById("root")).render(u.jsx(Ve.StrictMode,{children:u.jsx(h2,{children:u.jsx(l2,{})})}));
